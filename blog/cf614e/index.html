<!DOCTYPE html><html> <head><meta charset="UTF-8"><meta name="description" content="Astro description"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.1.1"><title>CodeForces 614E - Necklace é¢˜è§£ï¼šæ„é€ </title><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Noto+Serif+SC:wght@200;300;400;500;600;700;900&display=swap"><!-- Matomo --><script>
      var _paq = (window._paq = window._paq || []);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);
      (function () {
        var u = "//analytics.skywt.cn/";
        _paq.push(["setTrackerUrl", u + "matomo.php"]);
        _paq.push(["setSiteId", "1"]);
        var d = document,
          g = d.createElement("script"),
          s = d.getElementsByTagName("script")[0];
        g.async = true;
        g.src = u + "matomo.js";
        s.parentNode.insertBefore(g, s);
      })();
    </script><!-- End Matomo Code --><link rel="stylesheet" href="/_astro/about.42xRgEnE.css" />
<style>img[data-astro-cid-4sn4zg3r]{border-radius:.25rem;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}
</style>
<link rel="stylesheet" href="/_astro/friends.hRKOKN_Z.css" /></head> <body> <header class="mt-12 wide-container" data-astro-cid-3ef6ksr2> <h5 class="mt-4 mx-4 secondary-color sm:hidden text-center" data-astro-cid-3ef6ksr2> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> åšå®¢</a> </span><span>
/
CodeForces 614E - Necklace é¢˜è§£ï¼šæ„é€  </span> </h5> </header> <nav class="py-2 font-thin sticky top-0 backdrop-blur-md z-10 transition-all" id="navbar-wrapper" data-astro-cid-3ef6ksr2> <div class="wide-container flex justify-center sm:justify-between flex-wrap" data-astro-cid-3ef6ksr2> <h5 class="m-2 hidden sm:block secondary-color" data-astro-cid-3ef6ksr2> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> åšå®¢</a> </span><span>
/
CodeForces 614E - Necklace é¢˜è§£ï¼šæ„é€  </span> </h5> <div class="m-2 secondary-color" data-astro-cid-3ef6ksr2> <ul data-astro-cid-tfcnbjmv> <li data-astro-cid-tfcnbjmv> <a class="link" href="/" data-astro-cid-tfcnbjmv> <i class="ri-home-line" data-astro-cid-tfcnbjmv></i>
ä¸»é¡µ
</a> </li> <li data-astro-cid-tfcnbjmv> <a class="link" href="/blog" data-astro-cid-tfcnbjmv> <i class="ri-newspaper-line" data-astro-cid-tfcnbjmv></i> åšå®¢ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/lab" data-astro-cid-tfcnbjmv> <i class="ri-server-line" data-astro-cid-tfcnbjmv></i> å®éªŒå®¤ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/friends" data-astro-cid-tfcnbjmv> <i class="ri-contacts-line" data-astro-cid-tfcnbjmv></i> å‹äºº </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/about" data-astro-cid-tfcnbjmv> <i class="ri-cup-line" data-astro-cid-tfcnbjmv></i> å…³äº </a> </li> </ul>  </div> </div> </nav> <script>
  const headerEl = document.querySelector("#navbar-wrapper");
  const sentinalEl = document.querySelector("header");
  const handler = (entries) => {
    if (!entries[0].isIntersecting) {
      headerEl.classList.add("sticked");
    } else {
      headerEl.classList.remove("sticked");
    }
  };
  const observer = new window.IntersectionObserver(handler);
  observer.observe(sentinalEl);
</script>   <main data-astro-cid-4sn4zg3r> <section class="container mt-32" data-astro-cid-4sn4zg3r>  <h1 class="primary-color leading-relaxed" data-astro-cid-4sn4zg3r>CodeForces 614E - Necklace é¢˜è§£ï¼šæ„é€ </h1> <p class="mt-4 secondary-color leading-relaxed" data-astro-cid-4sn4zg3r> <i class="ri-calendar-line" data-astro-cid-4sn4zg3r></i> <span data-astro-cid-4sn4zg3r>2019 å¹´ 01 æœˆ 31 æ—¥</span>   <br data-astro-cid-4sn4zg3r> <i class="ri-discuss-line" data-astro-cid-4sn4zg3r></i> <span data-astro-cid-4sn4zg3r>å…± 1 æ¡è¯„è®º</span>  </p> <hr class="my-8" data-astro-cid-4sn4zg3r> <p class="card p-2 my-8" data-astro-cid-4sn4zg3r>
âš™ï¸ å…¨æ–°åšå®¢å‰ç«¯ä»åœ¨æµ‹è¯•ä¸­ã€‚å¦‚æœæ–‡ç« æ˜¾ç¤ºä¸æ­£å¸¸ï¼Œå¯ä»¥å°è¯•è®¿é—®<a href="https://blog.skywt.cn/posts/cf614e" class="link underline" data-astro-cid-4sn4zg3r>åŸåšå®¢çš„è¿™ç¯‡æ–‡ç« </a>ã€‚
</p> <article class="prose dark:prose-neutral dark:prose-invert max-w-none" data-astro-cid-4sn4zg3r> <h2>Description</h2><p><a href="https://codeforces.com/problemset/problem/614/E" title="Link">Link</a></p><p>Ivan wants to make a necklace as a present to his beloved girl. A necklace is a cyclic sequence of beads of different colors. Ivan says that necklace is beautiful relative to the cut point between two adjacent beads, if the chain of beads remaining after this cut is a palindrome (reads the same forward and backward).</p><!--more--><p><center><br><img src="https://codeforces.com/predownloaded/da/6f/da6fed59f8eea2827537ef381fb7c2aa0edbac61.png" width=226px hight=226px><br></center></p><p>Ivan has beads of n colors. He wants to make a necklace, such that it's beautiful relative to as many cuts as possible. He certainly wants to use all the beads. Help him to make the most beautiful necklace.</p><ul><li>time limit per test: 2 seconds</li><li>memory limit per test: 256 megabytes</li><li>input: standard input</li><li>output: standard output</li></ul><h2>Input</h2><p>The first line of the input contains a single number $n (1â€‰â‰¤â€‰nâ€‰â‰¤â€‰26)$ â€” the number of colors of beads. The second line contains after n positive integers $a_i$   â€” the quantity of beads of $i$-th color. It is guaranteed that the sum of $a_i$ is at least 2 and does not exceed 100â€‰000.</p><h2>Output</h2><p>In the first line print a single number â€” the maximum number of beautiful cuts that a necklace composed from given beads may have. In the second line print any example of such necklace.</p><p>Each color of the beads should be represented by the corresponding lowercase English letter (starting with a). As the necklace is cyclic, print it starting from any point.</p><h2>Examples</h2><p><strong>Input #1</strong></p><pre><code>3
4 2 1
</code></pre><p><strong>Output #1</strong></p><pre><code>1
abacaba
</code></pre><p><strong>Input #2</strong></p><pre><code>1
4
</code></pre><p><strong>Output #2</strong></p><pre><code>4
aaaa
</code></pre><p><strong>Input #3</strong></p><pre><code>2
1 1
</code></pre><p><strong>Output #3</strong></p><pre><code>0
ab
</code></pre><h2>Note</h2><p>In the first sample a necklace can have at most one beautiful cut. The example of such a necklace is shown on the picture.</p><p>In the second sample there is only one way to compose a necklace.</p><h2>Translation</h2><p>é¢˜æ„ï¼šç»™ä½  n ç§å­—ç¬¦ï¼Œè¯·ä½ ç¡®å®šä¸€ä¸ªæ’åˆ—é¡ºåºï¼ŒæŠŠå®ƒä»¬æ’æˆä¸€ä¸ªç¯ã€‚å¦‚æœåœ¨è¿™ä¸ªç¯ä¸ŠæŸä½ç½®åˆ‡ä¸€åˆ€å½¢æˆçš„ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å›æ–‡ä¸²ï¼Œåˆ™è¯´è¿™ä¸ªåˆ‡å‰²æ˜¯ beautiful cutï¼Œç°åœ¨éœ€è¦ä½ æ’æˆçš„ç¯èƒ½åˆ‡å‡ºæœ€å¤šçš„ beautiful cutï¼Œå¹¶ä¸”è¦æ±‚è¾“å‡ºè¿™ä¸ªç¯ã€‚</p><h2>Analysis</h2><p>ç›´æ¥è€ƒè™‘æœ€åå½¢æˆçš„ä¸€ä¸ªç¯ï¼Œå¦‚æœæˆ‘ä»¬åœ¨ a ä½ç½®åˆ‡ä¸€åˆ€å¯ä»¥å½¢æˆä¸€ä¸ªå›æ–‡ä¸²ï¼Œåœ¨ b ä½ç½®ä¹Ÿå¯ä»¥ï¼Œé‚£ä¹ˆåœ¨ a å…³äº b å¯¹ç§°çš„ä½ç½®ä¹Ÿä¸€å®šå¯ä»¥ï¼Œåœ¨ b å…³äº a å¯¹ç§°çš„ä½ç½®ä¹Ÿä¸€å®šå¯ä»¥â€¦â€¦è¿™æ ·æ•´ä¸ªç¯ä¼šè¢«åˆ†ä¸ºå‡ ç­‰åˆ†ã€‚ä¸éš¾å‘ç°ï¼Œæ¯ä¸€ä»½çš„é•¿åº¦å°±æ˜¯æ‰€æœ‰ç§ç±»å­—ç¬¦æ•°é‡çš„ gcdã€‚</p><p>æ¥ä¸‹æ¥éœ€è¦è€ƒè™‘æ¯æ®µå¦‚ä½•æ„é€ ã€‚ä¸ºäº†å…³äºåˆ‡å‰²ç‚¹å¯¹ç§°ï¼Œæ¯æ®µå¿…é¡»å‘ˆ abc-cba-abc-cba-... æ’åˆ—ï¼Œæœ€åå›åˆ° abcã€‚<br>ä½†æ˜¯ï¼å¦‚æœæœ‰å¥‡æ•°æ®µï¼Œæœ€åå°±ä¸èƒ½å›åˆ° abcï¼ˆæœ€ååˆ° abc ä½ç½®è½®åˆ°çš„æ˜¯ cbaï¼‰ã€‚è¿™æ—¶å€™å°±è¦æ±‚æ¯ä¸€æ®µä¹Ÿæ˜¯å›æ–‡ä¸²ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯ abc å’Œ cba ç›¸åŒã€‚<br>ä¸éš¾å‘ç°ï¼Œåªå…è®¸æœ‰ä¸€ä¸ª $a_i$ ä¸ºå¥‡æ•°ï¼Œå¦‚æœæœ‰ä¸¤ä¸ªå°±ä¸º 0 äº†ã€‚åˆ†æœ‰æ— å¥‡æ•°è€ƒè™‘ï¼š</p><ul><li>æœ‰ä¸€ä¸ªå¥‡æ•°ï¼šæ¯æ®µéƒ½æ˜¯å›æ–‡çš„ï¼Œè¿™ä¸ªå¥‡æ•°çš„å­—æ¯å¿…ç„¶æ”¾åœ¨æ¯æ®µä¸­é—´ï¼›</li><li>å…¨å¶æ•°ï¼šæ¯æ®µä»»æ„ï¼Œåªè¦å…³äºåˆ‡å‰²ç‚¹å¯¹ç§°å³å¯ã€‚</li></ul><h2>Code</h2><pre><code class="lang-cpp">#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;iostream&gt;
#include&lt;algorithm&gt;
#include&lt;vector&gt;
#include&lt;queue&gt;

using namespace std;
#define int long long

inline int read(){
    int ret=0,f=1;char ch=getchar();
    while (ch&lt;'0'||ch&gt;'9') {if (ch=='-') f=-1;ch=getchar();}
    while (ch&gt;='0'&amp;&amp;ch&lt;='9') ret=ret*10+ch-'0',ch=getchar();
    return ret*f;
}

const int maxn=30;

int n;
int a[maxn];

inline void imp(){
    printf(&quot;0\n&quot;);
    for (int i=1;i&lt;=n;i++){
        for (int j=1;j&lt;=a[i];j++) putchar(i+'a'-1);
    }
    printf(&quot;\n&quot;);
}

inline int gcd(int x,int y){
    return y?gcd(y,x%y):x;
}

signed main(){
    n=read();bool flg=false,no=false;
    for (int i=1;i&lt;=n;i++){
        a[i]=read();
        if ((a[i]&amp;1) &amp;&amp; flg) no=true;
        if (a[i]&amp;1) flg=true;
    }
    if (no){
        imp();
        return 0;
    }
    if (n==1){
        printf(&quot;%lld\n&quot;,a[1]);
        for (int i=1;i&lt;=a[1];i++) putchar('a');
        printf(&quot;\n&quot;);
        return 0;
    }
    
    int g;
    g=a[1];
    for (int i=2;i&lt;=n;i++) g=gcd(g,a[i]);
    if (!flg){
        printf(&quot;%lld\n&quot;,g);
        string otp1=&quot;&quot;,opt2=&quot;&quot;;
        for (int i=1;i&lt;=n;i++){
            for (int j=1;j&lt;=a[i]/g;j++) otp1+=(char)(i+'a'-1);
        }
        for (int i=n;i&gt;=1;i--){
            for (int j=1;j&lt;=a[i]/g;j++) opt2+=(char)(i+'a'-1);
        }
        for (int i=1;i&lt;=g;i++) if (i&amp;1) cout&lt;&lt;otp1; else cout&lt;&lt;opt2;
        printf(&quot;\n&quot;);
    } else {
        printf(&quot;%lld\n&quot;,g);
        string opt=&quot;&quot;;int mid;
        for (int i=1;i&lt;=n;i++) if (a[i]&amp;1) {mid=i;break;}
        for (int i=1;i&lt;=n;i++) if (i!=mid){
            for (int j=1;j&lt;=a[i]/g/2;j++) opt+=(char)(i+'a'-1);
        }
        for (int i=1;i&lt;=a[mid]/g;i++) opt+=(char)(mid+'a'-1);
        for (int i=n;i&gt;=1;i--) if (i!=mid){
            for (int j=1;j&lt;=a[i]/g/2;j++) opt+=(char)(i+'a'-1);
        }
        for (int i=1;i&lt;=g;i++) cout&lt;&lt;opt;
        printf(&quot;\n&quot;);
    }
    return 0;
}</code></pre> </article> <hr class="my-8" data-astro-cid-4sn4zg3r> <h2> <i class="ri-discuss-line"></i> å…± 1 æ¡è¯„è®º </h2> <div class="primary-color my-4"> <div class="flex items-center"> <img src="https://gravatar.com/avatar/3b52e6fb3e2ec8186731af5a406b7a67" class="rounded-full w-12 mr-2"> <div class="m-2"> <h4>nazo</h4> <p class="mt-1">2019 å¹´ 2 æœˆ 1 æ—¥ 11:54</p> </div> </div> <p class="mt-2">è¿™å°±æ˜¯ã€‚ã€‚ã€‚å·®è·å—</p> <div class="ml-8">  </div> </div> <hr class="my-8"> <h2> <i class="ri-discuss-line"></i>
å‘è¡¨è¯„è®º
</h2> <p class="primary-color card my-4 p-2">
ğŸš§ æ–°åšå®¢ç³»ç»Ÿçš„è¯„è®ºåŠŸèƒ½ä»åœ¨å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…ã€‚å¯ä»¥å‰å¾€<a href="https://blog.skywt.cn/posts/cf614e" class="link underline">åŸåšå®¢çš„è¿™ç¯‡æ–‡ç« </a>åº•éƒ¨è¯„è®ºåŒºå‘è¡¨è¯„è®ºã€‚
</p> </section> </main>  <footer class="mt-16 py-8 bg-gray-100 dark:bg-neutral-900"> <div class="wide-container secondary-color text-sm"> <div class="flex justify-between flex-wrap"> <div class="m-2"> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> åšå®¢</a> </span><span>
/
CodeForces 614E - Necklace é¢˜è§£ï¼šæ„é€  </span> </div> <div class="m-2"> <ul data-astro-cid-tfcnbjmv> <li data-astro-cid-tfcnbjmv> <a class="link" href="/" data-astro-cid-tfcnbjmv> 
ä¸»é¡µ
</a> </li> <li data-astro-cid-tfcnbjmv> <a class="link" href="/blog" data-astro-cid-tfcnbjmv>  åšå®¢ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/lab" data-astro-cid-tfcnbjmv>  å®éªŒå®¤ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/friends" data-astro-cid-tfcnbjmv>  å‹äºº </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/about" data-astro-cid-tfcnbjmv>  å…³äº </a> </li> </ul>  </div> </div> <hr class="my-4"> <div class="flex justify-between flex-wrap"> <p class="m-2">
&#169; 2017-2024 <a href="/" class="link">SkyWT</a>
|
<a href="/sitemap.xml" class="link">ç«™ç‚¹åœ°å›¾</a>
|
<a href="/friends" class="link">å‹æƒ…é“¾æ¥</a>
|
<a href="https://foreverblog.cn/go.html" class="link">è™«æ´</a> <!-- |
        <a href="https://github.com/Skywt2003/Daydreamer" class="link"
          >Daydreamer</a
        > --> </p> <div class="m-2"> <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" class="inline-block mx-1" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/cc.svg" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/by.svg" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/nc.svg" data-astro-cid-h3ykra2n>   </a>  <a href="https://notbyai.fyi" target="_blank" class="inline-block mx-1" data-astro-cid-hwbnc4sm> <img src="/not-by-ai-light.svg" alt="Not By AI Badge" class="badge inline-block dark:hidden" data-astro-cid-hwbnc4sm> <img src="/not-by-ai-dark.svg" alt="Not By AI Badge" class="badge hidden dark:inline-block" data-astro-cid-hwbnc4sm> </a>  <a href="https://www.foreverblog.cn/" target="_blank" class="inline-block mx-1"> <img src="https://img.foreverblog.cn/logo_en_default.png" alt="Forever Blog Badage" class="inline-block h-4 grayscale"> </a> </div> </div> <div class="flex justify-between flex-wrap"> <p class="m-2"> <a href="https://beian.miit.gov.cn/" target="_blank" class="link">
æµ™ ICP å¤‡ 2021019606 å· - 1</a>
|
<a href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33080202000472" target="_blank" class="link before:content-[url('/mps.png')] before:align-middle">
æµ™å…¬ç½‘å®‰å¤‡ 33080202000472 å·</a> </p> <p class="m-2"> <span class="align-middle">ç”±</span> <a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" class="inline-block align-middle"> <img src="/upyun.png" class="h-6"> </a> <span class="align-middle">æä¾› CDN åŠ é€Ÿã€äº‘å­˜å‚¨æœåŠ¡</span> </p> </div> </div> </footer> </body></html> 