<!DOCTYPE html><html> <head><meta charset="UTF-8"><meta name="description" content="Astro description"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.1.1"><title>HDU 4045 Machine scheduling é¢˜è§£ï¼šç»„åˆæ•°+æ–¯ç‰¹æ—æ•°</title><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Noto+Serif+SC:wght@200;300;400;500;600;700;900&display=swap"><!-- Matomo --><script>
      var _paq = (window._paq = window._paq || []);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);
      (function () {
        var u = "//analytics.skywt.cn/";
        _paq.push(["setTrackerUrl", u + "matomo.php"]);
        _paq.push(["setSiteId", "1"]);
        var d = document,
          g = d.createElement("script"),
          s = d.getElementsByTagName("script")[0];
        g.async = true;
        g.src = u + "matomo.js";
        s.parentNode.insertBefore(g, s);
      })();
    </script><!-- End Matomo Code --><link rel="stylesheet" href="/_astro/about.4DFoe-cT.css" />
<style>img[data-astro-cid-4sn4zg3r]{border-radius:.25rem;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}
</style>
<link rel="stylesheet" href="/_astro/friends.CELmKF_Q.css" /></head> <body> <header class="mt-12 wide-container" data-astro-cid-3ef6ksr2> <h5 class="mt-4 mx-4 secondary-color sm:hidden text-center" data-astro-cid-3ef6ksr2> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> åšå®¢</a> </span><span>
/
HDU 4045 Machine scheduling é¢˜è§£ï¼šç»„åˆæ•°+æ–¯ç‰¹æ—æ•° </span> </h5> </header> <nav class="py-2 font-thin sticky top-0 backdrop-blur-md z-10 transition-all" id="navbar-wrapper" data-astro-cid-3ef6ksr2> <div class="wide-container flex justify-center sm:justify-between flex-wrap" data-astro-cid-3ef6ksr2> <h5 class="m-2 hidden sm:block secondary-color" data-astro-cid-3ef6ksr2> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> åšå®¢</a> </span><span>
/
HDU 4045 Machine scheduling é¢˜è§£ï¼šç»„åˆæ•°+æ–¯ç‰¹æ—æ•° </span> </h5> <div class="m-2 secondary-color" data-astro-cid-3ef6ksr2> <ul data-astro-cid-tfcnbjmv> <li data-astro-cid-tfcnbjmv> <a class="link" href="/" data-astro-cid-tfcnbjmv> <i class="ri-home-line" data-astro-cid-tfcnbjmv></i>
ä¸»é¡µ
</a> </li> <li data-astro-cid-tfcnbjmv> <a class="link" href="/blog" data-astro-cid-tfcnbjmv> <i class="ri-newspaper-line" data-astro-cid-tfcnbjmv></i> åšå®¢ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/lab" data-astro-cid-tfcnbjmv> <i class="ri-server-line" data-astro-cid-tfcnbjmv></i> å®éªŒå®¤ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/friends" data-astro-cid-tfcnbjmv> <i class="ri-contacts-line" data-astro-cid-tfcnbjmv></i> å‹äºº </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/about" data-astro-cid-tfcnbjmv> <i class="ri-cup-line" data-astro-cid-tfcnbjmv></i> å…³äº </a> </li> </ul>  </div> </div> </nav> <script>
  const headerEl = document.querySelector("#navbar-wrapper");
  const sentinalEl = document.querySelector("header");
  const handler = (entries) => {
    if (!entries[0].isIntersecting) {
      headerEl.classList.add("sticked");
    } else {
      headerEl.classList.remove("sticked");
    }
  };
  const observer = new window.IntersectionObserver(handler);
  observer.observe(sentinalEl);
</script>   <main data-astro-cid-4sn4zg3r> <section class="container mt-32" data-astro-cid-4sn4zg3r>  <h1 class="primary-color leading-relaxed" data-astro-cid-4sn4zg3r>HDU 4045 Machine scheduling é¢˜è§£ï¼šç»„åˆæ•°+æ–¯ç‰¹æ—æ•°</h1> <p class="mt-4 secondary-color leading-relaxed" data-astro-cid-4sn4zg3r> <i class="ri-calendar-line" data-astro-cid-4sn4zg3r></i> <span data-astro-cid-4sn4zg3r>2018 å¹´ 07 æœˆ 29 æ—¥</span>   <br data-astro-cid-4sn4zg3r> <i class="ri-discuss-line" data-astro-cid-4sn4zg3r></i> <span data-astro-cid-4sn4zg3r>å…± 0 æ¡è¯„è®º</span>  </p> <hr class="my-8" data-astro-cid-4sn4zg3r> <p class="card p-2 my-8" data-astro-cid-4sn4zg3r>
âš™ï¸ å…¨æ–°åšå®¢å‰ç«¯ä»åœ¨æµ‹è¯•ä¸­ã€‚å¦‚æœæ–‡ç« æ˜¾ç¤ºä¸æ­£å¸¸ï¼Œå¯ä»¥å°è¯•è®¿é—®<a href="https://blog.skywt.cn/posts/hdu4045" class="link underline" data-astro-cid-4sn4zg3r>åŸåšå®¢çš„è¿™ç¯‡æ–‡ç« </a>ã€‚
</p> <article class="prose dark:prose-neutral dark:prose-invert max-w-none" data-astro-cid-4sn4zg3r> <p>HDU 4045 Machine schedulingï¼š<a href="http://acm.hdu.edu.cn/showproblem.php?pid=4045" title="é¢˜ç›®é“¾æ¥">é¢˜ç›®é“¾æ¥</a></p><!--more--><p>Time Limit: 5000/2000 MS (Java/Others)    Memory Limit: 32768/32768 K (Java/Others)</p><h2>Problem Description</h2><p>A Baiduâ€™s engineer needs to analyze and process large amount of data on machines every day. The machines are labeled from 1 to n. On each day, the engineer chooses r machines to process data. He allocates the r machines to no more than m groups ,and if the difference of 2 machines' labels are less than k,they can not work in the same day. Otherwise the two machines will not work properly. That is to say, the machines labeled with 1 and k+1 can work in the same day while those labeled with 1 and k should not work in the same day. Due to some unknown reasons, the engineer should not choose the allocation scheme the same as that on some previous day. otherwise all the machines need to be initialized again. As you know, the initialization will take a long time and a lot of efforts. Can you tell the engineer the maximum days that he can use these machines continuously without re-initialization.</p><h2>Input</h2><p>Input end with EOF.<br>Input will be four integers n,r,k,m.We assume that they are all between 1 and 1000.</p><h2>Output</h2><p>Output the maxmium days modulo 1000000007.</p><h2>Sample Input</h2><pre><code>5 2 3 2
</code></pre><h2>Sample Output</h2><pre><code>6
</code></pre><h3>Hint</h3><p>Sample input means you can choose 1 and 4,1 and 5,2 and 5 in the same day.<br>And you can make the machines in the same group or in the different group.<br>So you got 6 schemes.<br>1 and 4 in same group,1 and 4 in different groups.<br>1 and 5 in same group,1 and 5 in different groups.<br>2 and 5 in same group,2 and 5 in different groups.<br>We assume 1 in a group and 4 in b group is the same as 1 in b group and 4 in a group.</p><h2>Translation</h2><p>æœ‰ n å°æœºå™¨ï¼Œä½ è¦é€‰æ‹©å…¶ä¸­çš„ r å°å¤„ç†æ•°æ®ï¼Œä½¿å¾—å…¶ä¸­ç›¸é‚»ä¸¤å°ä¸‹æ ‡çš„è·ç¦»ä¸å°äº kï¼Œå¹¶ä¸”éœ€è¦ä½ æŠŠé€‰å‡ºçš„ k å°åˆ†æˆ<strong>ä¸è¶…è¿‡ m ç»„</strong>ã€‚é—®ä½ æœ‰å¤šå°‘ç§æ–¹æ¡ˆã€‚</p><h2>Solution</h2><p>åˆ†è§£é—®é¢˜ï¼Œå…ˆé€‰å‡ºç›¸é‚»ä¸¤å°ä¸‹æ ‡è·ç¦»å‡ä¸å°äº k çš„ r å°æœºå™¨ï¼Œç„¶åå†è€ƒè™‘åˆ†æˆä¸è¶…è¿‡ m ç»„ã€‚</p><p>å¯¹äºç¬¬äºŒé—®ï¼Œè£¸çš„<a href="https://skywt.cn/posts/stirling/" title="ç¬¬äºŒç±»æ–¯ç‰¹æ—æ•°">ç¬¬äºŒç±»æ–¯ç‰¹æ—æ•°</a>ã€‚</p><p>æ¥ä¸‹æ¥è€ƒè™‘ç¬¬ä¸€é—®ã€‚å‡è®¾æˆ‘ä»¬ä»ç¬¬ä¸€å°æœºå™¨å¼€å§‹æ¯éš” k-1 å°æœºå™¨å°±é€‰ä¸€å°ï¼Œé€‰åˆ°æœ€åï¼ˆ r å°ï¼‰ä¼šå‘ç°è¿˜å‰©ä½™ä¸€äº›ä½ç½®ã€‚æˆ‘ä»¬å¯ä»¥è€ƒè™‘æŠŠè¿™äº›ä½ç½®æ’å…¥å‰é¢çš„ r+1 ä¸ªç©ºéš™é‡Œã€‚æ˜¾ç„¶æœ€åå‰©ä½™çš„ä½ç½®æ˜¯ï¼š$n-((r-1)\ast k+1)$ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ˜¯è¦æŠŠ $n-((r-1)\ast k+1)$ ä¸ªå…ƒç´ åˆ†æˆ $r+1$ ä¸ªé›†åˆï¼Œé›†åˆå¯ä»¥ä¸ºç©ºã€‚æ”¾çƒé—®é¢˜çš„ä¸€ç§ï¼šçƒä¸åŒï¼Œç›’ç›¸åŒï¼Œå¯ä»¥ä¸ºç©ºã€‚<br>åšæ³•æ˜¯ï¼šæŠŠç›’å­ä¸ºç©ºè½¬æ¢æˆç›’å­ä¸èƒ½ä¸ºç©ºçš„åšæ³•ï¼Œè®©æ¯ä¸ªç›’å­é‡Œéƒ½è¦æœ‰çƒï¼Œåˆ™è¦å¤šæ”¾ $r+1$ ä¸ªçƒã€‚ç°åœ¨æˆ‘ä»¬å°±è§£å†³çƒä¸åŒã€ç›’ç›¸åŒã€ä¸èƒ½ä¸ºç©ºçš„æ”¾çƒé—®é¢˜ï¼Œæ˜¾ç„¶å¯ä»¥ç”¨éš”æ¿æ³•æ¥åšï¼Œæœ€åç­”æ¡ˆï¼š</p><pre><code class="lang-math">C_{n-((r-1)]\ast k+1+r+1-1)}^{r} \ast \sum_{i=1}^{min(r,m)}S(r,i)</code></pre><h2>Code</h2><pre><code class="lang-cpp">#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;iostream&gt;
using namespace std;
const int maxn=1005,tt=1e9+7;
int n,r,k,m,c[maxn*2][maxn*2],s[maxn][maxn],lst[maxn];
inline void Build(){
    for (int i=0;i&lt;=1000;i++) s[i][i]=1;
    for (int i=1;i&lt;=1000;i++)
        for (int j=1;j&lt;i;j++)
            s[i][j]=(s[i-1][j-1]+(long long)s[i-1][j]*j%tt)%tt;
    c[0][0]=1;
    for (int i=1;i&lt;=1000;i++){
        c[i][0]=c[i][i]=1;
        for (int j=1;j&lt;i;j++) c[i][j]=(c[i-1][j]+c[i-1][j-1])%tt;
    }
}
inline int C(int x,int y){
    return c[x][y];
}
int main(){
    Build();
    while (scanf(&quot;%d%d%d%d&quot;,&amp;n,&amp;r,&amp;k,&amp;m)!=-1){
        if (n-((r-1)*k+1)+r&lt;0) {printf(&quot;0\n&quot;);continue;}
        int sum=0;
        for (int i=1;i&lt;=min(r,m);i++) sum=(sum+s[r][i])%tt;
        printf(&quot;%d\n&quot;,(long long)C(n-((r-1)*k+1)+r,r)*sum%tt);
    }
    return 0;
}
</code></pre> </article> <hr class="my-8" data-astro-cid-4sn4zg3r> <h2> <i class="ri-discuss-line"></i> å…± 0 æ¡è¯„è®º </h2>  <hr class="my-8"> <h2> <i class="ri-discuss-line"></i>
å‘è¡¨è¯„è®º
</h2> <p class="primary-color card my-4 p-2">
ğŸš§ æ–°åšå®¢ç³»ç»Ÿçš„è¯„è®ºåŠŸèƒ½ä»åœ¨å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…ã€‚å¯ä»¥å‰å¾€<a href="https://blog.skywt.cn/posts/hdu4045" class="link underline">åŸåšå®¢çš„è¿™ç¯‡æ–‡ç« </a>åº•éƒ¨è¯„è®ºåŒºå‘è¡¨è¯„è®ºã€‚
</p> </section> </main>  <footer class="mt-16 py-8 bg-gray-100 dark:bg-neutral-900"> <div class="wide-container secondary-color text-sm"> <div class="m-2 flex justify-between flex-wrap"> <div class="m-2"> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> åšå®¢</a> </span><span>
/
HDU 4045 Machine scheduling é¢˜è§£ï¼šç»„åˆæ•°+æ–¯ç‰¹æ—æ•° </span> </div> <div class="m-2"> <ul data-astro-cid-tfcnbjmv> <li data-astro-cid-tfcnbjmv> <a class="link" href="/" data-astro-cid-tfcnbjmv> 
ä¸»é¡µ
</a> </li> <li data-astro-cid-tfcnbjmv> <a class="link" href="/blog" data-astro-cid-tfcnbjmv>  åšå®¢ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/lab" data-astro-cid-tfcnbjmv>  å®éªŒå®¤ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/friends" data-astro-cid-tfcnbjmv>  å‹äºº </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/about" data-astro-cid-tfcnbjmv>  å…³äº </a> </li> </ul>  </div> </div> <hr> <div class="m-2 flex justify-between flex-wrap"> <p class="m-2">
&#169; 2017-2024 <a href="https://skywt.cn/" class="link">SkyWT</a> /
<a href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33080202000472" target="_blank" class="link before:content-[url('/mps.png')] before:align-middle">
æµ™å…¬ç½‘å®‰å¤‡33080202000472å·</a> /
<a href="https://beian.miit.gov.cn/" target="_blank" class="link">
æµ™ICPå¤‡2021019606å·-1
</a> </p> <div class="m-2"> <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" class="inline-block mx-1" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/cc.svg" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/by.svg" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/nc.svg" data-astro-cid-h3ykra2n>   </a>  <a href="https://notbyai.fyi" target="_blank" class="inline-block mx-1" data-astro-cid-hwbnc4sm> <img src="/not-by-ai-light.svg" alt="Not By AI Badge" class="badge inline-block dark:hidden" data-astro-cid-hwbnc4sm> <img src="/not-by-ai-dark.svg" alt="Not By AI Badge" class="badge hidden dark:inline-block" data-astro-cid-hwbnc4sm> </a>  <a href="https://www.foreverblog.cn/" target="_blank" class="inline-block mx-1"> <img src="https://img.foreverblog.cn/logo_en_default.png" alt="Forever Blog Badage" class="inline-block h-4 grayscale"> </a> </div> </div> </div> </footer> </body></html> 