<!DOCTYPE html><html> <head><meta charset="UTF-8"><meta name="description" content="Astro description"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.1.1"><title>CodeForces Round #581 Div2 é¢˜è§£</title><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Noto+Serif+SC:wght@200;300;400;500;600;700;900&display=swap"><!-- Matomo --><script>
      var _paq = (window._paq = window._paq || []);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);
      (function () {
        var u = "//analytics.skywt.cn/";
        _paq.push(["setTrackerUrl", u + "matomo.php"]);
        _paq.push(["setSiteId", "1"]);
        var d = document,
          g = d.createElement("script"),
          s = d.getElementsByTagName("script")[0];
        g.async = true;
        g.src = u + "matomo.js";
        s.parentNode.insertBefore(g, s);
      })();
    </script><!-- End Matomo Code --><link rel="stylesheet" href="/_astro/about.4DFoe-cT.css" />
<style>img[data-astro-cid-4sn4zg3r]{border-radius:.25rem;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}
</style>
<link rel="stylesheet" href="/_astro/friends.CELmKF_Q.css" /></head> <body> <header class="mt-12 wide-container" data-astro-cid-3ef6ksr2> <h5 class="mt-4 mx-4 secondary-color sm:hidden text-center" data-astro-cid-3ef6ksr2> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> åšå®¢</a> </span><span>
/
CodeForces Round #581 Div2 é¢˜è§£ </span> </h5> </header> <nav class="py-2 font-thin sticky top-0 backdrop-blur-md z-10 transition-all" id="navbar-wrapper" data-astro-cid-3ef6ksr2> <div class="wide-container flex justify-center sm:justify-between flex-wrap" data-astro-cid-3ef6ksr2> <h5 class="m-2 hidden sm:block secondary-color" data-astro-cid-3ef6ksr2> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> åšå®¢</a> </span><span>
/
CodeForces Round #581 Div2 é¢˜è§£ </span> </h5> <div class="m-2 secondary-color" data-astro-cid-3ef6ksr2> <ul data-astro-cid-tfcnbjmv> <li data-astro-cid-tfcnbjmv> <a class="link" href="/" data-astro-cid-tfcnbjmv> <i class="ri-home-line" data-astro-cid-tfcnbjmv></i>
ä¸»é¡µ
</a> </li> <li data-astro-cid-tfcnbjmv> <a class="link" href="/blog" data-astro-cid-tfcnbjmv> <i class="ri-newspaper-line" data-astro-cid-tfcnbjmv></i> åšå®¢ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/lab" data-astro-cid-tfcnbjmv> <i class="ri-server-line" data-astro-cid-tfcnbjmv></i> å®éªŒå®¤ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/friends" data-astro-cid-tfcnbjmv> <i class="ri-contacts-line" data-astro-cid-tfcnbjmv></i> å‹äºº </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/about" data-astro-cid-tfcnbjmv> <i class="ri-cup-line" data-astro-cid-tfcnbjmv></i> å…³äº </a> </li> </ul>  </div> </div> </nav> <script>
  const headerEl = document.querySelector("#navbar-wrapper");
  const sentinalEl = document.querySelector("header");
  const handler = (entries) => {
    if (!entries[0].isIntersecting) {
      headerEl.classList.add("sticked");
    } else {
      headerEl.classList.remove("sticked");
    }
  };
  const observer = new window.IntersectionObserver(handler);
  observer.observe(sentinalEl);
</script>   <main data-astro-cid-4sn4zg3r> <section class="container mt-32" data-astro-cid-4sn4zg3r>  <h1 class="primary-color leading-relaxed" data-astro-cid-4sn4zg3r>CodeForces Round #581 Div2 é¢˜è§£</h1> <p class="mt-4 secondary-color leading-relaxed" data-astro-cid-4sn4zg3r> <i class="ri-calendar-line" data-astro-cid-4sn4zg3r></i> <span data-astro-cid-4sn4zg3r>2019 å¹´ 09 æœˆ 30 æ—¥</span>   <br data-astro-cid-4sn4zg3r> <i class="ri-discuss-line" data-astro-cid-4sn4zg3r></i> <span data-astro-cid-4sn4zg3r>å…± 0 æ¡è¯„è®º</span>  </p> <hr class="my-8" data-astro-cid-4sn4zg3r> <p class="card p-2 my-8" data-astro-cid-4sn4zg3r>
âš™ï¸ å…¨æ–°åšå®¢å‰ç«¯ä»åœ¨æµ‹è¯•ä¸­ã€‚å¦‚æœæ–‡ç« æ˜¾ç¤ºä¸æ­£å¸¸ï¼Œå¯ä»¥å°è¯•è®¿é—®<a href="https://blog.skywt.cn/posts/cf1204" class="link underline" data-astro-cid-4sn4zg3r>åŸåšå®¢çš„è¿™ç¯‡æ–‡ç« </a>ã€‚
</p> <article class="prose dark:prose-neutral dark:prose-invert max-w-none" data-astro-cid-4sn4zg3r> <p>Codeforces Round #581 (Div. 2) æ¯”èµ›é“¾æ¥ï¼š<a href="https://codeforces.com/contest/1204/">LInk</a></p><h1>C - Anna, Svyatoslav and Maps</h1><h2>Description</h2><p>ç»™å‡ºä¸€å¼ æœ‰å‘å›¾ï¼Œæ¯æ¡è¾¹çš„è¾¹æƒéƒ½æ˜¯ 1ã€‚ç»™å‡ºä¸€ä¸ª m ä¸ªç‚¹çš„è·¯å¾„åºåˆ— $\{p_i \}$ï¼Œè¡¨ç¤ºä¾æ¬¡ç»è¿‡è¿™ m ä¸ªç‚¹çš„è·¯å¾„ã€‚è·¯å¾„åºåˆ—ä¸­ç›¸é‚»å…ƒç´ ä¹‹é—´æœ‰è¾¹ç›¸è¿ã€‚<br>ç°åœ¨éœ€è¦ä½ æ‰¾å‡ºè¿™ä¸ªåºåˆ—çš„ä¸€ä¸ª<strong>æœ€çŸ­çš„</strong>å­åºåˆ— $\{v_i \}$ï¼Œé•¿åº¦ä¸º kï¼Œä½¿å¾—ç»è¿‡è¿™ k ä¸ªç‚¹çš„è·¯å¾„ä¹Ÿç»è¿‡ $\{p_i \}$ ä¸­æ‰€æœ‰ç‚¹ã€‚</p><!--more--><p>ï¼ˆéš¾ä»¥æè¿°â€¦â€¦ï¼‰</p><blockquote>Define the sequence $v_1,v_2,\dots,v_k$ of $k$ vertexes as good, if $v$ is a subsequence of $p$, $v_1=p_1$, $v_k=p_m$, and $p$ is one of the shortest paths passing through the vertexes $v_1 ,\dots, v_k$ in that order.</blockquote><p>ï¼ˆé¢˜ç›®é‡Œè¯´æ˜¯æ— ç¯çš„ï¼Œä½†æ˜¯ç»™å‡ºæ•°æ®åŒ…æ‹¬æ ·ä¾‹éƒ½æ˜¯æœ‰ç¯çš„â€¦â€¦æ²¡ææ‡‚â€¦â€¦ï¼‰</p><p>æ•°æ®èŒƒå›´ï¼š$2\leq n\leq 100, 2\leq m\leq 10^6$ã€‚</p><h2>Solution #1</h2><p>VP çš„æ—¶å€™å†™å‡ºæ¥çš„ï¼Œä½†æ˜¯æ•°ç»„å¼€å°äº† qwq ä¸€ç›´æ˜¾ç¤º WA ä½†æ˜¯ä¸€ç›´æ‰¾ä¸åˆ°é”™â€¦â€¦</p><p>ç¿»è¯‘ä¸€ä¸‹é¢˜æ„æ— éå°±æ˜¯è®©æˆ‘ä»¬æ‰¾â€œä¸å¿…è¦çš„ç‚¹â€ï¼Œå³åœ¨è·¯å¾„ä¸­åˆ é™¤ä¹‹åæ ¹æ®ä¹‹å‰å’Œä¹‹åçš„ç‚¹èƒ½æ¨æ–­å‡ºçš„ç‚¹ã€‚æ—¢ç„¶èµ°çš„æ˜¯æœ€çŸ­è·¯ï¼Œèƒ½åˆ é™¤çš„ç‚¹è‡ªç„¶æ˜¯åœ¨æœ€çŸ­è·¯å¾„ä¸Šçš„ç‚¹ã€‚<br>çœ‹åˆ°ç™¾çº§çš„æ•°æ®è‚¯å®šå…ˆè·‘ Floydï¼Œç„¶åéå†é¢˜ä¸­çš„è·¯å¾„ã€‚ç­”æ¡ˆåºåˆ—åˆå§‹åªæœ‰ <code>p[1]</code>ï¼Œè®°ç­”æ¡ˆåºåˆ—æœ€åä¸€ä¸ªå…ƒç´ æ˜¯ <code>last</code>ï¼Œåˆ™å¯¹äºæ¯ä¸ªå…ƒç´ åªè¦åˆ¤æ–­æ˜¯å¦åœ¨æœ€çŸ­è·¯ä¸Šå³å¯ï¼š</p><p>$$dist(last,p_{i+1}) == dist(last,p_i) + dist(p_i,p_{i+1})$$</p><h2>Code #1</h2><pre><code class="lang-cpp">#include&lt;bits/stdc++.h&gt;
using namespace std;
 
inline int read(){
    int ret=0,f=1;char ch=getchar();
    while (ch&lt;'0'||ch&gt;'9') {if (ch=='-') f=-1;ch=getchar();}
    while (ch&gt;='0'&amp;&amp;ch&lt;='9') ret=ret*10+ch-'0',ch=getchar();
    return ret*f;
}
 
const int INF=0x3f3f3f3f;
 
const int maxn=105;
const int maxm=1000005;
 
int n,m;
int dist[maxn][maxn];
 
int p[maxm];
vector&lt;int&gt; ans;
 
void Floyd(){
    for (int k=1;k&lt;=n;k++)
        for (int i=1;i&lt;=n;i++)
            for (int j=1;j&lt;=n;j++)
                dist[i][j]=min(dist[i][j],dist[i][k]+dist[k][j]);
}
 
signed main(){
    n=read();
    memset(dist,0x3f,sizeof(dist));
    for (int i=1;i&lt;=n;i++) dist[i][i]=0;
    
    char ch=getchar(); while (ch!='0'&amp;&amp;ch!='1') ch=getchar();
    for (int i=1;i&lt;=n;i++)
        for (int j=1;j&lt;=n;j++){
            if (ch=='1') dist[i][j]=1;
            if (i==n&amp;&amp;j==n) continue;
            ch=getchar(); while (ch!='0'&amp;&amp;ch!='1') ch=getchar();
        }
    m=read();
    for (int i=1;i&lt;=m;i++) p[i]=read();
 
    Floyd();
    int last=-1;
    for (int i=1;i&lt;=m;i++){
        if (i==1 || i==m) {
            ans.push_back(p[i]);last=p[i];
            continue;
        }
        if (dist[last][p[i+1]] == dist[last][p[i]]+dist[p[i]][p[i+1]]){continue;}
        ans.push_back(p[i]);last=p[i];
    }
    printf(&quot;%d\n&quot;,(int)ans.size());
    for (int i=0;i&lt;(int)ans.size();i++) printf(&quot;%d &quot;,ans[i]);
    printf(&quot;\n&quot;);
    return 0;
}</code></pre><h2>Solution #2</h2><p>ï¼ˆæ¥è‡ª CF å®˜æ–¹ Tutorialï¼‰</p><p>å…ˆè·‘ Floydï¼ˆæˆ–è€… DFSâ€¦â€¦ï¼‰ï¼Œä¸€æ ·å…ˆæŠŠ $p_1$ åŠ å…¥ç­”æ¡ˆï¼Œç„¶åéå† $p$ è·¯å¾„æ—¶è®°å½• last åˆ°å½“å‰çš„è·¯å¾„é•¿åº¦ï¼ˆå› ä¸ºé¢˜ç›®ä¸­ä¿è¯ $p$ çš„ç›¸é‚»å…ƒç´ ä¹‹é—´æœ‰è¾¹ï¼‰ï¼Œå¦‚æœ $dist(last,p_i)$ å°äºè®°å½•çš„è·¯å¾„é•¿åº¦ï¼Œè¯´æ˜ last åˆ°è¿™ä¸ªç‚¹æœ‰å…¶ä»–æ›´çŸ­çš„è·¯å¾„ï¼Œåˆ™å¿…é¡»åœ¨ç­”æ¡ˆåºåˆ—åŠ å…¥ $p_{i-1}$ ä»¥ç¡®ä¿æ²¿ $p$ è·¯å¾„èµ°ã€‚</p><h2>Code #2</h2><pre><code class="lang-cpp">#include&lt;bits/stdc++.h&gt;
using namespace std;

inline int read(){
    int ret=0,f=1;char ch=getchar();
    while (ch&lt;'0'||ch&gt;'9') {if (ch=='-') f=-1;ch=getchar();}
    while (ch&gt;='0'&amp;&amp;ch&lt;='9') ret=ret*10+ch-'0',ch=getchar();
    return ret*f;
}

const int INF=0x3f3f3f3f;

const int maxn=105;
const int maxm=1e6+5;

int n,m;
int dist[maxn][maxn];

int p[maxm];
vector&lt;int&gt; ans;

void Floyd(){
    for (int k=1;k&lt;=n;k++)
        for (int i=1;i&lt;=n;i++)
            for (int j=1;j&lt;=n;j++)
                dist[i][j]=min(dist[i][j],dist[i][k]+dist[k][j]);
}

signed main(){
    n=read();
    memset(dist,0x3f,sizeof(dist));
    for (int i=1;i&lt;=n;i++) dist[i][i]=0;
    
    char ch=getchar(); while (ch!='0'&amp;&amp;ch!='1') ch=getchar();
    for (int i=1;i&lt;=n;i++)
        for (int j=1;j&lt;=n;j++){
            if (ch=='1') dist[i][j]=1;
            if (i==n&amp;&amp;j==n) continue;
            ch=getchar(); while (ch!='0'&amp;&amp;ch!='1') ch=getchar();
        }
    m=read();
    for (int i=1;i&lt;=m;i++) p[i]=read();

    Floyd();
    int last,cnt;
    for (int i=1;i&lt;=m;i++){
        cnt++;
        if (i==1) {
            ans.push_back(p[i]);last=p[i];cnt=0;
        } else if (i!=2 &amp;&amp; dist[last][p[i]] &lt; cnt){
            ans.push_back(p[i-1]);
            last=p[i-1];cnt=1;
        }
    }
    ans.push_back(p[m]);
    printf(&quot;%d\n&quot;,(int)ans.size());
    for (int i=0;i&lt;(int)ans.size();i++) printf(&quot;%d &quot;,ans[i]);
    printf(&quot;\n&quot;);
    return 0;
}</code></pre><h1>D1/D2 -  Kirk and a Binary String</h1><h2>Description</h2><p>ç»™å‡ºä¸€ä¸ªé•¿åº¦ä¸º n çš„ 0/1 ä¸² sï¼Œä½ éœ€è¦æ‰¾å‡ºä¸€ä¸ªé•¿åº¦ç›¸åŒçš„ 0/1 ä¸² tï¼Œæ»¡è¶³ï¼š</p><ul><li>å¯¹äºä»»æ„ $l$ å’Œ $r$ï¼ˆ$1\leq l \leq r\leq n$ï¼‰ï¼Œæ»¡è¶³ $[l,r]$ åŒºé—´ä¹‹å†…ä¸¤ä¸ªä¸²çš„æœ€é•¿éé™å­åºåˆ—ï¼ˆLISï¼‰é•¿åº¦ç›¸ç­‰ï¼›</li><li>t ä¸²ä¸­ <code>0</code> å°½é‡å¤šã€‚</li></ul><p>æ•°æ®èŒƒå›´ï¼š$n\leq 2000$ã€‚</p><h2>Solution #1</h2><p>ï¼ˆæ¥è‡ª <a href="https://blog.csdn.net/nudt_spy/article/details/99940916">https://blog.csdn.net/nudt_spy/article/details/99940916</a>ï¼‰</p><p>ä»åå‘å‰è€ƒè™‘ï¼š</p><ul><li>å¯¹äº <code>0</code>ï¼šå¿…ç„¶æ˜¯æŸä¸ª LIS çš„ä¸€éƒ¨åˆ†ï¼Œå¦‚æœæ”¹ä¸º <code>1</code>ï¼Œå¿…ç„¶ä¼šç¼©çŸ­ LIS çš„é•¿åº¦ï¼ˆ1ï¼‰ï¼›</li><li><p>å¯¹äº <code>1</code>ï¼š</p><ul><li>å¦‚æœä»¥å®ƒä¸ºèµ·ç‚¹çš„åŒºé—´çš„ LIS åŒ…å«å®ƒï¼ˆæ˜¾ç„¶è¿™ä¸ªåŒºé—´çš„ LIS å…¨æ˜¯ <code>1</code>ï¼‰ï¼Œåˆ™æŠŠå®ƒä¿®æ”¹ä¸º 0 æ²¡æœ‰å˜åŒ–ï¼ˆ2ï¼‰ï¼›</li><li>å¦‚æœä»¥å®ƒä¸ºèµ·ç‚¹çš„åŒºé—´çš„ LIS ä¸åŒ…å«å®ƒï¼Œåˆ™æŠŠå®ƒæ”¹ä¸º <code>0</code> ä¼šå¢åŠ  LIS é•¿åº¦ï¼ˆ3ï¼‰ï¼›</li></ul></li></ul><p>æ‰€ä»¥åªæœ‰ç¬¬ï¼ˆ2ï¼‰ç§æƒ…å†µå¯ä»¥ä¿®æ”¹ã€‚å¦‚æœæŸä¸ªåŒºé—´çš„ LIS å…¨æ˜¯ <code>1</code>ï¼Œåˆ™è¿™ä¸ªåŒºé—´å¿…ç„¶æ˜¯ <code>1</code> çš„æ•°é‡å¤§äº <code>0</code> çš„æ•°é‡ï¼Œå¹¶ä¸” <code>1</code> å¼€å¤´ã€‚æ‰€ä»¥åªè¦ä»åå¾€å‰ç»Ÿè®¡ï¼Œå¦‚æœ <code>1</code> çš„æ•°é‡å¤§äºç­‰äº <code>0</code> çš„æ•°é‡ï¼Œåˆ™å…è®¸å°† <code>1</code> æ”¹ä¸º <code>0</code>ã€‚</p><p>ï¼ˆä¸ºä»€ä¹ˆä¸è€ƒè™‘å½¢å¦‚ <code>10001111</code> çš„æ•°åˆ—ï¼Ÿï¼ˆè¿™ä¸ªæ•°åˆ—é‡Œ LIS ä¼¼ä¹å¹¶ä¸æ˜¯ç¬¬äºŒç§æƒ…å†µï¼‰åœ¨ä»åå‘å‰å¤„ç†æ—¶ï¼Œåé¢çš„ <code>1</code> éƒ½ä¼šè¢«ææˆ <code>0</code>ï¼Œæ¢å¥è¯è¯´æœ€ç»ˆ LIS å…¨æ˜¯ <code>0</code> æˆ–è€…å…¨æ˜¯ <code>1</code>ï¼‰</p><h2>Solution #2</h2><p>ï¼ˆæ¥è‡ª CF å®˜æ–¹ Tutorialï¼‰</p><p>å¦‚æœå¯¹äºä¸€ä¸ª 0/1 ä¸² $p$ï¼Œæ²¡æœ‰ä¸²ä¸å®ƒæ»¡è¶³æ¡ä»¶ä¸€ï¼Œåˆ™ç§°è¿™ä¸ªä¸²ä¸º fixed ä¸²ã€‚åˆ™æœ‰ä»¥ä¸‹å‡ æ¡äº‹å®ï¼š</p><ul><li><code>10</code> æ˜¯ fixed çš„ï¼›</li><li>å¦‚æœ $p$ å’Œ $q$ éƒ½æ˜¯ fixed çš„ï¼Œåˆ™ $pq$ ä¹Ÿæ˜¯ fixed çš„ï¼›</li><li>å¦‚æœ $p$ æ˜¯ fixed çš„ï¼Œé‚£ä¹ˆ $1p0$ ä¹Ÿæ˜¯ fixed çš„ï¼›</li><li>æ¯ä¸ª fixed ä¸²çš„ <code>0</code> å’Œ <code>1</code> æ•°é‡ç›¸ç­‰ï¼›</li><li>æ¯ä¸ª fixed ä¸²çš„ LIS é•¿åº¦éƒ½æ˜¯å…¶ä¸€åŠï¼Œå¹¶ä¸”åªåŒ…å« <code>0</code> æˆ–è€…åªåŒ…å« <code>1</code>ï¼›</li></ul><p>ï¼ˆè¯æ˜å¯è§ï¼š<a href="https://www.cnblogs.com/yyf0309/p/11389504.html">https://www.cnblogs.com/yyf0309/p/11389504.html</a>ï¼‰</p><p>é‚£ä¹ˆå¯¹äºé¢˜ç›®ä¸­æ‰€ç»™çš„ sï¼Œå…¶ä¸­çš„è‹¥å¹² fixed ä¸²æ˜¯ä¸èƒ½æ”¹å˜çš„ï¼Œå¯ä»¥ä¸è€ƒè™‘ï¼›<br>åˆ™å‰©ä¸‹çš„éƒ¨åˆ†éƒ½æ˜¯ä¸€æ®µæ®µ LISï¼ˆå¦åˆ™å°±ä¼šæœ‰ <code>10</code> å³ fixed stringï¼‰ã€‚æ‰€ä»¥åªè¦å‰©ä¸‹çš„éƒ¨åˆ†æŠŠ <code>1</code> æ”¹æˆ <code>0</code>ï¼Œå„ä¸ª LIS éƒ½ä¸ä¼šæ”¹å˜ã€‚</p><h2>Code #2</h2><pre><code class="lang-cpp">#include&lt;bits/stdc++.h&gt;

using namespace std;

inline int read(){
    int ret=0,f=1;char ch=getchar();
    while (ch&lt;'0'||ch&gt;'9') {if (ch=='-') f=-1;ch=getchar();}
    while (ch&gt;='0'&amp;&amp;ch&lt;='9') ret=ret*10+ch-'0',ch=getchar();
    return ret*f;
}

const int maxn=100005;

int n;
char s[maxn];
bool vis[maxn];

signed main(){
    scanf(&quot;%s&quot;,s+1); n=strlen(s+1);
    for (int i=1;i&lt;=n;i++) if (i!=1 &amp;&amp; s[i-1]=='1' &amp;&amp; s[i]=='0'){
        int l=i-1,r=i; vis[l]=vis[r]=true;
        while (l-1&gt;=1&amp;&amp;s[l-1]=='1' &amp;&amp; r+1&lt;=n&amp;&amp;s[r+1]=='0') l--,r++,vis[l]=vis[r]=true;
        for (;;){
            if (l-1&gt;=1 &amp;&amp; vis[l-1]){
                while (l-1&gt;=1 &amp;&amp; vis[l-1]) l--;
                while (l-1&gt;=1&amp;&amp;s[l-1]=='1' &amp;&amp; r+1&lt;=n&amp;&amp;s[r+1]=='0') l--,r++,vis[l]=vis[r]=true;
            } else break;
        }
        i=r;
    }
    for (int i=1;i&lt;=n;i++) if ((!vis[i]) &amp;&amp; s[i]=='1') s[i]='0';
    printf(&quot;%s\n&quot;,s+1);
    return 0;
}</code></pre><h1>1204E - Natasha, Sasha and the Prefix Sums</h1><h2>Description</h2><p>ç»™å‡º $n$ å’Œ $m$ï¼Œå¯¹äºæ¯ä¸ªé•¿åº¦ä¸º $n+m$ã€åŒ…å« $n$ ä¸ª 1ã€$m$ ä¸ª -1 çš„æ•°åˆ—ï¼Œæœ‰å…¶æœ€å¤§çš„å‰ç¼€å’Œï¼ˆå¦‚æœå°äº 0 åˆ™å– 0ï¼‰ã€‚å½¢å¼åŒ–åœ°è¯´ï¼Œå®šä¹‰ $f(a)$ ä¸ºé•¿åº¦ä¸º $l$ çš„åºåˆ— $a_1,\dots,a_l$ çš„æœ€å¤§å‰ç¼€å’Œï¼Œ$l \geq 0$ï¼Œåˆ™ï¼š</p><p>$$f(a) = \max (0, \smash{\displaystyle\max_{1 \leq i \leq l}} \sum_{j=1}^{i} a_j )$$</p><p>éœ€è¦æ±‚å‡ºå¯¹äºæ‰€æœ‰è¿™æ ·çš„æ•°åˆ—ï¼Œæœ€å¤§å‰ç¼€å’Œä¹‹å’Œã€‚æ¨¡ 998244853ã€‚</p><p>æ•°æ®èŒƒå›´ï¼š$0\leq n,m\leq 2000$ã€‚</p><h2>Solution</h2><p>ï¼ˆæ¥è‡ª CF å®˜æ–¹ Tutorialï¼‰</p><p>é¦–å…ˆæ„é€ ä¸€ä¸ª DP æ•°ç»„ $G(i,j)$ï¼Œè¡¨ç¤º $n-i,m=j$ æ—¶æœ€å¤§å‰ç¼€å’Œæ˜¯ 0 çš„æ•°ç»„æ•°é‡ã€‚</p><ul><li>$i=0$ æ—¶ï¼šæ˜¾ç„¶ $G(i,j)=1$ï¼›</li><li>$i&gt;j$ æ—¶ï¼š$G(i,j)=0$ï¼›</li><li>å…¶ä»–æƒ…å†µï¼šå¯ä»¥ä» $G(i-1,j)$ ä¸­è½¬ç§»ï¼šç›´æ¥åœ¨æœ€ååŠ ä¸Šä¸€ä¸ª 1ï¼ŒåŸæ¥æœ€å¤§å‰ç¼€å’Œæ˜¯ 0 çš„ç°åœ¨è¿˜æ˜¯ 0ï¼ˆå› ä¸º $x\leq y$ï¼‰ï¼Œ$G(i,j-1)$ åŒç†ã€‚<br>æ‰€ä»¥ï¼š$G(i,j)=G(i-1,j)+G(i,j-1)$ï¼›<br>è¿™ä¸ªæ•°ç»„çš„æ„é€ å¯ä»¥è§£å†³ â€œå‰ç¼€å’Œå°äº 0 æ—¶å– 0â€ çš„é—®é¢˜ã€‚</li></ul><p>å®šä¹‰ $F(i,j)$ è¡¨ç¤º $n=i,m=j$ æ—¶çš„ç­”æ¡ˆï¼ˆæœ€å¤§å‰ç¼€å’Œä¹‹å’Œï¼‰ã€‚</p><ul><li>$i=0$ æ—¶ï¼šæ˜¾ç„¶ $F(i,j)=0$ï¼›</li><li>$j=0$ æ—¶ï¼šæ˜¾ç„¶ $F(i,j)=i$ï¼›</li><li>è€ƒè™‘å¯¹äº $(i-1,j)$ çš„æ•°åˆ—ï¼šåœ¨å‰é¢åŠ ä¸Šä¸€ä¸ª 1 å°±å¯ä»¥å˜æˆ $i,j$ï¼Œè¿™æ ·çš„æ•°åˆ—æœ‰ ${x+y-1 \choose x}$ ä¸ªï¼Œåˆ™è¿™ä¸€éƒ¨åˆ†ç­”æ¡ˆæ˜¯ ${i+j-1 \choose j} + F(x-1,y)$ï¼›åŒæ ·åœ°ï¼Œå¯¹äº $(i,j-1)$ çš„æ•°åˆ—æœ‰ ${i+j-1 \choose i} - G(i,j-1)$ ä¸ªï¼ˆä¸º 0 çš„ä¸èƒ½å†å‡ï¼‰ï¼Œæ¯ä¸ªå‡å»ä¸€ä¸ª 1ï¼Œè¿™éƒ¨åˆ†ç­”æ¡ˆæ˜¯ $F(i,j-1)-({i+j-1 \choose i} - G(i,j-1))$ã€‚</li></ul><p>$$F(i,j)={i+j-1 \choose j} + F(x-1,y) + F(i,j-1)-({i+j-1 \choose i} - G(i,j-1))$$</p><h2>Code</h2><pre><code class="lang-cpp">#include&lt;bits/stdc++.h&gt;
using namespace std;

#define int long long

inline int read(){
    int ret=0,f=1;char ch=getchar();
    while (ch&lt;'0'||ch&gt;'9') {if (ch=='-') f=-1;ch=getchar();}
    while (ch&gt;='0'&amp;&amp;ch&lt;='9') ret=ret*10+ch-'0',ch=getchar();
    return ret*f;
}

const int tt=998244853;
const int maxn=2005;

int n,m;
int f[maxn][maxn],g[maxn][maxn];
int c[maxn*2][maxn*2];

void build_cons(){
    c[1][0]=c[1][1]=1;
    for (int i=2;i&lt;=n+m;i++){
        c[i][0]=c[i][i]=1;
        for (int j=1;j&lt;i;j++) c[i][j]=(c[i-1][j-1]+c[i-1][j])%tt;
    }
}

signed main(){
    n=read(); m=read();

    for (int i=0;i&lt;=n;i++)
        for (int j=0;j&lt;=m;j++){
            if (i==0) g[i][j]=1; else
            if (i&gt;j) g[i][j]=0; else
            g[i][j]=(g[i-1][j]+g[i][j-1])%tt;
        }

    build_cons();
    
    for (int i=0;i&lt;=n;i++)
        for (int j=0;j&lt;=m;j++){
            if (i==0) f[i][j]=0; else
            if (j==0) f[i][j]=i; else
            f[i][j]=((c[i+j-1][j]+f[i-1][j])%tt+(f[i][j-1]-(c[i+j-1][i]-g[i][j-1])%tt+tt)%tt)%tt;
        }

    printf(&quot;%lld\n&quot;,f[n][m]);
    return 0;
}</code></pre> </article> <hr class="my-8" data-astro-cid-4sn4zg3r> <h2> <i class="ri-discuss-line"></i> å…± 0 æ¡è¯„è®º </h2>  <hr class="my-8"> <h2> <i class="ri-discuss-line"></i>
å‘è¡¨è¯„è®º
</h2> <p class="primary-color card my-4 p-2">
ğŸš§ æ–°åšå®¢ç³»ç»Ÿçš„è¯„è®ºåŠŸèƒ½ä»åœ¨å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…ã€‚å¯ä»¥å‰å¾€<a href="https://blog.skywt.cn/posts/cf1204" class="link underline">åŸåšå®¢çš„è¿™ç¯‡æ–‡ç« </a>åº•éƒ¨è¯„è®ºåŒºå‘è¡¨è¯„è®ºã€‚
</p> </section> </main>  <footer class="mt-16 py-8 bg-gray-100 dark:bg-neutral-900"> <div class="wide-container secondary-color text-sm"> <div class="m-2 flex justify-between flex-wrap"> <div class="m-2"> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> åšå®¢</a> </span><span>
/
CodeForces Round #581 Div2 é¢˜è§£ </span> </div> <div class="m-2"> <ul data-astro-cid-tfcnbjmv> <li data-astro-cid-tfcnbjmv> <a class="link" href="/" data-astro-cid-tfcnbjmv> 
ä¸»é¡µ
</a> </li> <li data-astro-cid-tfcnbjmv> <a class="link" href="/blog" data-astro-cid-tfcnbjmv>  åšå®¢ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/lab" data-astro-cid-tfcnbjmv>  å®éªŒå®¤ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/friends" data-astro-cid-tfcnbjmv>  å‹äºº </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/about" data-astro-cid-tfcnbjmv>  å…³äº </a> </li> </ul>  </div> </div> <hr> <div class="m-2 flex justify-between flex-wrap"> <p class="m-2">
&#169; 2017-2024 <a href="https://skywt.cn/" class="link">SkyWT</a> /
<a href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33080202000472" target="_blank" class="link before:content-[url('/mps.png')] before:align-middle">
æµ™å…¬ç½‘å®‰å¤‡33080202000472å·</a> /
<a href="https://beian.miit.gov.cn/" target="_blank" class="link">
æµ™ICPå¤‡2021019606å·-1
</a> </p> <div class="m-2"> <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" class="inline-block mx-1" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/cc.svg" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/by.svg" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/nc.svg" data-astro-cid-h3ykra2n>   </a>  <a href="https://notbyai.fyi" target="_blank" class="inline-block mx-1" data-astro-cid-hwbnc4sm> <img src="/not-by-ai-light.svg" alt="Not By AI Badge" class="badge inline-block dark:hidden" data-astro-cid-hwbnc4sm> <img src="/not-by-ai-dark.svg" alt="Not By AI Badge" class="badge hidden dark:inline-block" data-astro-cid-hwbnc4sm> </a>  <a href="https://www.foreverblog.cn/" target="_blank" class="inline-block mx-1"> <img src="https://img.foreverblog.cn/logo_en_default.png" alt="Forever Blog Badage" class="inline-block h-4 grayscale"> </a> </div> </div> </div> </footer> </body></html> 