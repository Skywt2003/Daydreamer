<!DOCTYPE html><html> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>Sky Typecho Theme 1.2 和一些感想</title><link rel="icon" type="image/vnd.microsoft.icon" href="/favicon.ico"><link rel="alternate" type="application/rss+xml" title="博客文章 RSS 订阅" href="https://skywt.cn/rss.xml"><link rel="sitemap" href="/sitemap-index.xml"><title>Sky Typecho Theme 1.2 和一些感想</title><link rel="canonical" href="https://skywt.cn/blog/sky-typecho-theme-1-2-and-some-thoughts/"><meta name="description" content="[Sky Typecho Theme](https://github.com/Skywt2003/sky) 大概是我第二个着力开发的 php 的项目，修修补补来到了 1.2 版本（其实就是第二个 release 的版本……)，也有点感觉这个主题接下来的开发陷入了一种停滞的状态。有感而发。

"><meta name="robots" content="index, follow"><meta property="og:title" content="Sky Typecho Theme 1.2 和一些感想"><meta property="og:type" content="article"><meta property="og:image" content="/og.svg"><meta property="og:url" content="https://skywt.cn/blog/sky-typecho-theme-1-2-and-some-thoughts/"><meta property="og:locale" content="zh_CN"><meta property="og:locale:alternate" content="zh_TW"><meta property="og:locale:alternate" content="en_US"><meta property="og:site_name" content="SkyWT"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@skywt2003"><meta name="twitter:title" content="Sky Typecho Theme 1.2 和一些感想"><meta name="twitter:image" content="/og.svg"><meta name="twitter:image:alt" content="SkyWT"><meta name="twitter:description" content="[Sky Typecho Theme](https://github.com/Skywt2003/sky) 大概是我第二个着力开发的 php 的项目，修修补补来到了 1.2 版本（其实就是第二个 release 的版本……)，也有点感觉这个主题接下来的开发陷入了一种停滞的状态。有感而发。

"><meta name="twitter:creator" content="@skywt2003"><link rel="shortcut icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/avatar.png"><meta name="generator" content="Astro v4.14.2"><meta name="keywords" content=""><script>
      function addMatomo() {
        var _paq = (window._paq = window._paq || []);
        _paq.push(["trackPageView"]);
        _paq.push(["enableLinkTracking"]);
        (function () {
          var u = "//analytics.skywt.cn/";
          _paq.push(["setTrackerUrl", u + "matomo.php"]);
          _paq.push(["setSiteId", "1"]);
          var d = document,
            g = d.createElement("script"),
            s = d.getElementsByTagName("script")[0];
          g.async = true;
          g.src = u + "matomo.js";
          s.parentNode.insertBefore(g, s);
        })();
      }

      document.addEventListener(
        "astro:page-load",
        () => {
          addMatomo();
        },
        { once: false },
      );
    </script><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/_astro/about.Bz1ZbssJ.css">
<link rel="stylesheet" href="/_astro/about.C9eFCau8.css"><script type="module" src="/_astro/hoisted.Dqwyr6z_.js"></script></head> <body> <header class="header"> <h5 class="header__heading"> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> 博客 </a> </span><span>
/
Sky Typecho Theme 1.2 和一些感想 </span> </h5> </header> <div id="navbar-sentinal"></div> <nav class="navbar" id="navbar-wrapper"> <div class="navbar__content"> <h5 class="navbar__path"> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> 博客 </a> </span><span>
/
Sky Typecho Theme 1.2 和一些感想 </span> </h5> <div class="navbar__menu"> <ul data-astro-cid-tfcnbjmv> <li data-astro-cid-tfcnbjmv> <a class="link" href="/" data-astro-cid-tfcnbjmv> <i class="ri-home-line" data-astro-cid-tfcnbjmv></i>
主页
</a> </li> <li data-astro-cid-tfcnbjmv> <a class="link" href="/blog" data-astro-cid-tfcnbjmv> <i class="ri-newspaper-line" data-astro-cid-tfcnbjmv></i> 博客 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/lab" data-astro-cid-tfcnbjmv> <i class="ri-server-line" data-astro-cid-tfcnbjmv></i> 实验室 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/friends" data-astro-cid-tfcnbjmv> <i class="ri-contacts-line" data-astro-cid-tfcnbjmv></i> 友人 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/about" data-astro-cid-tfcnbjmv> <i class="ri-cup-line" data-astro-cid-tfcnbjmv></i> 关于 </a> </li> </ul>  </div> </div> </nav> <script>
  // 使用 ViewTransition 后，所有 DOM 操作的 js 都有一堆问题
  // 这里用了极不优雅的 var，有待改进
  var observer;
  function addNavObserver() {
    const headerEl = document.querySelector("#navbar-wrapper");
    const sentinalEl = document.querySelector("#navbar-sentinal");
    if (!sentinalEl || !headerEl) return;
    observer = new window.IntersectionObserver((e) => {
      if (!e[0].isIntersectin && e[0].boundingClientRect.top <= 0) {
        headerEl.classList.add("navbar--sticked");
      } else {
        headerEl.classList.remove("navbar--sticked");
      }
    });
    observer.observe(sentinalEl);
  }

  function removeNavObserver() {
    if (observer) observer.disconnect();
    observer = null;
  }

  document.addEventListener(
    "astro:page-load",
    () => {
      addNavObserver();
    },
    { once: false },
  );

  document.addEventListener(
    "astro:before-swap",
    () => {
      removeNavObserver();
    },
    { once: false },
  );
</script>  <main class="page"> <section class="page__section page__section--at-top">  <h1 class="page__heading">Sky Typecho Theme 1.2 和一些感想</h1> <p class="page__meta"> <i class="ri-calendar-line"></i> <span>2021 年 10 月 2 日 14:25</span>  <br> <i class="ri-discuss-line"></i> <span>共 6 条评论</span>  </p> <hr class="page__divide"> <article class="content"> <h2><a id="文章目录" class="content__heading-anchor"></a>文章目录</h2>
<ul>
<li><a href="#%E5%BC%83%E5%9D%91%E7%9A%84-pasteburn">弃坑的 PasteBurn</a></li>
<li><a href="#sky-typecho-theme-%E7%9A%84%E8%AF%9E%E7%94%9F">Sky Typecho Theme 的诞生</a>
<ul>
<li><a href="#%E8%B5%B7%E6%BA%90">起源</a></li>
<li><a href="#%E4%B8%80%E4%BA%9B%E7%A2%8E%E7%A2%8E%E5%BF%B5">一些碎碎念</a></li>
<li><a href="#%E7%8E%B0%E5%86%B5%E5%92%8C%E5%B0%BE%E5%A3%B0">现况和尾声</a></li>
</ul></li>
</ul>
<p><a href="https://github.com/Skywt2003/sky">Sky Typecho Theme</a> 大概是我第二个着力开发的 php 的项目，修修补补来到了 1.2 版本（其实就是第二个 release 的版本……)，也有点感觉这个主题接下来的开发陷入了一种停滞的状态。有感而发。</p>
<!--more-->
<h2><a id="弃坑的-pasteburn" class="content__heading-anchor"></a>弃坑的 PasteBurn</h2>
<p>其实大概在高中退役前后，我也倾注心血开发过一个 php 的项目：<a href="https://github.com/Skywt2003/PasteBurn">PasteBurn</a>。</p>
<p><a href="https://skywt.cn/usr/uploads/2021/10/2276557965.png" data-fancybox data-caption="PasteBurn 首页"><img src="https://skywt.cn/usr/uploads/2021/10/2276557965.png" alt="PasteBurn 首页" title="PasteBurn 首页" /></a></p>
<blockquote>
<p>之前网传腾讯相册在用户删除云端照片后，服务器中不会真正删除，而会一直留存。<br>
同样，在微信等国内即时通讯 APP 上「撤回」消息也不会真正让消息在服务器上消失。<br>
这一切都为商业公司窃取用户隐私乃至有关部门的审查提供了便利。<br>
解决方案之一是将文字转移到真正可信任的服务器上提供，以此「确保删除」。</p>
</blockquote>
<p>PasteBurn 最主要的功能是「阅后即焚」，是一个可以分享文字的平台。填入文字，生成链接，打开链接之后文字就会焚毁。</p>
<p>说是 php 的项目，其实似乎是结合了 php、css（Bootstrap4）、JavaScript（jQuery，AJAX）和数据库（MySQL）等等的一个大工程。我甚至几乎在里面实现了一整套用户登录的功能，从密码存储验证（用 phpass 库）到存 cookie、本地 JWT 登录验证，现在想想真是不容易。</p>
<p>但是关于这个程序的用途，我实在很难想到除了做一些偷鸡摸狗的事情之外的其他用途……一开始开发这个程序自己也是为了分享某些魔法软件的配置教程和配置文件。<br>
十分有限的应用也限制了自己的开发热情。总之高考之后就是弃坑了。</p>
<h2><a id="sky-typecho-theme-的诞生" class="content__heading-anchor"></a>Sky Typecho Theme 的诞生</h2>
<p>为什么要折腾自己的独立博客？</p>
<p>互联网是一个虚拟的世界，在这个世界里我们也要找到一个家，找到一个精神的归属的地方。<br>
CSDN、QQ 空间之类的平台，就像是出租房，游戏规则由这些企业来定义。哪里能加代码，哪里能加什么装扮，哪里有广告，哪里要氪金，这都由不得你。<br>
自己的博客就像是自己造的别墅，虽然配置的过程可能很麻烦，但是游戏规则全由你来定义。</p>
<p>那么自己写一个主题，大概就是自己设计这个别墅吧。</p>
<h3><a id="起源" class="content__heading-anchor"></a>起源</h3>
<p>折腾博客这么久以来，改过很多主题，偏好也从花里胡哨走向了简洁，最近用的几个主题，比如 WordPress 的 Adams 主题，Typecho 的 Fantasy 主题，都是特别喜欢几乎舍不得丢弃的。<br>
但是这终究是别人写的主题，我永远不能在页脚写上「Theme by SkyWT」，我的网站总感觉不是自己的。</p>
<p>特别是，虽然我的 CSS 基础十分薄弱，但是了解到 Bootstrap 这类前端框架的存在之后，感觉样式这方面的难度大大减小。于是就打算折腾一个自己的主题。又由于偶然了解了 Argon 这个基于 Bootstrap4 的框架，非常喜欢（因为原生的 Bootstrap 已经被各种网站用烂了，那色彩越看越丑，实在不是很适合个人博客……），于是就决定基于这个 Argon Design System 开发一个自己的主题。</p>
<h3><a id="一些碎碎念" class="content__heading-anchor"></a>一些碎碎念</h3>
<p><a href="https://skywt.cn/usr/uploads/2021/10/1071750348.png" data-fancybox data-caption="Coding Sky 主题"><img src="https://skywt.cn/usr/uploads/2021/10/1071750348.png" alt="Coding Sky 主题" title="Coding Sky 主题" /></a></p>
<p>关于这个主题，也不能说是我自己设计的。Argon Design System 给我们铺平了太多的路，我大概只是自己实现了一个大致的框架，至于具体的细节 Argon 几乎全都解决了。<br>
功能上真的非常简陋。有些功能（比如加密文章）还是完全不能看的，文章的排版实在纯粹，交互上没有任何动效，链接都是默认样式。没错，就是以所谓的简洁来掩盖功能的简陋。只能说作为一个简洁的个人博客主题，它或许够用了。仅此而已。</p>
<p>有时候又会感觉，如果牛顿说他站在巨人的肩膀上，我们简直是站在叠罗汉的巨人们中最顶层的肩膀上。我的主题基于 Argon 编写，Argon 又基于 Bootstrap4、jQuery，jQuery 又是 JavaScript 的库，它们又要站在浏览器的肩膀上。而这又是一个 Typecho 主题，基于 Typecho 才能使用；Typecho 又要 Nginx、MySQL、PHP 的运行环境，这些又都在那台 Linux 服务器上部署……</p>
<h3><a id="现况和尾声" class="content__heading-anchor"></a>现况和尾声</h3>
<p>在尝试给主题加上更多的功能，做出更多优化，然而越到后面就越觉得举步维艰。</p>
<p>Argon CSS 的代码块样式和 highlight.js 的代码高亮样式会冲突，这个优先级的问题我怎么都搞不定，只好去修改主题内置的 Argon CSS 的源代码，也导致这个魔改的 Argon 没法通过 jsDelivr 调用。<br>
关于浏览器的 CSS 缓存机制，涉及太多基础的知识，研究了半天没搞明白。<br>
文章内链接的样式和一些想要的动效，都涉及比较基础的 css，我实现起来还是比较困难。<br>
关于文章加密页面的设计，以及其他很多功能，Typecho 的文档里只字未提，只能自己去研究源代码，实在难度比较大。<br>
……</p>
<p>最主要的原因是，关于主题开发的这些知识太「上层」了，太综合了，太偏近于应用了，而其下层的基础我根本没有系统地去学习。地基不稳的建筑是很难高耸入云的，并且越往上层建造就越困难。现在感觉自己就像是一个连加减乘除都没学好的孩子在做高数题。</p>
<p>然而大学里也（应该）不会有一门专业课教我们 css、php 和网站开发，很多很多的东西还是要靠自己去研究学习。就像装树莓派 Nextcloud 那篇里反思的一样，基础知识的学习的确更加枯燥，但是它们是必不可少的地基。</p>
<p>所以 Sky Typecho Theme 的开发可能要再停滞一小会了。</p>
<p>一起加油吧！</p>
 </article> </section> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script> <hr class="page__divide page__divide--between-sections"> <astro-island uid="1HoNHh" prefix="r0" component-url="/_astro/Comments.CQWrrEpu.js" component-export="default" renderer-url="/_astro/client.Bd2Qst3j.js" props="{&quot;articleId&quot;:[0,121]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Comments&quot;,&quot;value&quot;:true}" await-children=""><section class="page__section"><h2><i class="ri-discuss-line"></i> 暂无评论</h2></section><hr class="page__divide page__divide--between-sections"/><section class="page__section"><h2><i class="ri-discuss-line"></i> 发表新的评论</h2><p class="mt-4 card card--in-content"><b>所有评论都将经过博主审核。</b>请勿填写无意义邮箱或发表无关评论、广告等，否则会被视为垃圾评论。</p><form class="mt-4 form"><input placeholder="你的名字" type="text" class="form__input" required="" value=""/><input placeholder="邮箱" type="email" class="form__input" required="" value=""/><input placeholder="网址" type="url" class="form__input" value=""/><textarea rows="8" class="sm:col-span-3 form__input" placeholder="说点什么吧……" required=""></textarea><button type="submit" class="sm:col-span-3 form__button">提交</button></form><p class="mt-4 text-secondary text-sm leading-normal">提交评论即表明你同意本网站使用 Cookie，并允许本站在后台记录你的邮箱、IP 地址等必要信息。这些信息不会被透露给其他用户。（提交一次评论后，本提示将不再展示）</p></section><!--astro:end--></astro-island>  </main>  <footer class="footer"> <div class="footer__row"> <div class="m-2"> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> 博客 </a> </span><span>
/
Sky Typecho Theme 1.2 和一些感想 </span> </div> <div class="m-2"> <ul data-astro-cid-tfcnbjmv> <li data-astro-cid-tfcnbjmv> <a class="link" href="/" data-astro-cid-tfcnbjmv> 
主页
</a> </li> <li data-astro-cid-tfcnbjmv> <a class="link" href="/blog" data-astro-cid-tfcnbjmv>  博客 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/lab" data-astro-cid-tfcnbjmv>  实验室 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/friends" data-astro-cid-tfcnbjmv>  友人 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/about" data-astro-cid-tfcnbjmv>  关于 </a> </li> </ul>  </div> </div> <hr class="footer__divide"> <div class="footer__row"> <p class="m-2">
&#169; 2017-2024 <a href="/" class="link">SkyWT</a> |
<a href="/sitemap-index.xml" class="link">站点地图</a>
|
<a href="/friends" class="link">友情链接</a>
|
<a href="https://foreverblog.cn/go.html" target="_blank" class="link">虫洞</a> </p> <p class="m-2"> <a href="https://www.boyouquan.com/" target="_blank" class="mx-1"> <img src="/boyouquan.png" alt="Boyouquan Badge" class="inline-block h-4 grayscale"> </a> <a href="https://www.foreverblog.cn/" target="_blank" class="mx-1"> <img src="/forever_blog.png" alt="Forever Blog Badage" class="inline-block h-4 grayscale"> </a> <a href="https://blogscn.fun/" target="_blank" class="mx-1"> <img src="/blogscn.png" alt="BLOGS·CN Badge" class="inline-block h-4 grayscale"> </a> </p> </div> <div class="footer__row"> <p class="m-2"> <a href="https://beian.miit.gov.cn/" target="_blank" class="link">
浙 ICP 备 2021019606 号 - 1</a>
|
<a href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33080202000472" target="_blank" class="link before:content-[url('/mps.png')] before:align-middle">
浙公网安备 33080202000472 号</a> </p> <div class="m-2"> <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" class="inline-block mx-1" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/cc.svg" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/by.svg" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/nc.svg" data-astro-cid-h3ykra2n>   </a>  <a href="https://notbyai.fyi" target="_blank" class="inline-block mx-1" data-astro-cid-hwbnc4sm> <img src="/not-by-ai-light.svg" alt="Not By AI Badge" class="badge inline-block dark:hidden" data-astro-cid-hwbnc4sm> <img src="/not-by-ai-dark.svg" alt="Not By AI Badge" class="badge hidden dark:inline-block" data-astro-cid-hwbnc4sm> </a>  </div> </div> </footer> </body></html> 