<!DOCTYPE html><html> <head><meta charset="UTF-8"><meta name="description" content="Astro description"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.1.1"><title>CodeForces 510D Fox And Jumpingï¼šDP + æ•°è®º + ç¦»æ•£</title><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Noto+Serif+SC:wght@200;300;400;500;600;700;900&display=swap"><!-- Matomo --><script>
      var _paq = (window._paq = window._paq || []);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);
      (function () {
        var u = "//analytics.skywt.cn/";
        _paq.push(["setTrackerUrl", u + "matomo.php"]);
        _paq.push(["setSiteId", "1"]);
        var d = document,
          g = d.createElement("script"),
          s = d.getElementsByTagName("script")[0];
        g.async = true;
        g.src = u + "matomo.js";
        s.parentNode.insertBefore(g, s);
      })();
    </script><!-- End Matomo Code --><link rel="stylesheet" href="/_astro/about.42xRgEnE.css" />
<style>img[data-astro-cid-4sn4zg3r]{border-radius:.25rem;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}
</style>
<link rel="stylesheet" href="/_astro/friends.hRKOKN_Z.css" /></head> <body> <header class="mt-12 wide-container" data-astro-cid-3ef6ksr2> <h5 class="mt-4 mx-4 secondary-color sm:hidden text-center" data-astro-cid-3ef6ksr2> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> åšå®¢</a> </span><span>
/
CodeForces 510D Fox And Jumpingï¼šDP + æ•°è®º + ç¦»æ•£ </span> </h5> </header> <nav class="py-2 font-thin sticky top-0 backdrop-blur-md z-10 transition-all" id="navbar-wrapper" data-astro-cid-3ef6ksr2> <div class="wide-container flex justify-center sm:justify-between flex-wrap" data-astro-cid-3ef6ksr2> <h5 class="m-2 hidden sm:block secondary-color" data-astro-cid-3ef6ksr2> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> åšå®¢</a> </span><span>
/
CodeForces 510D Fox And Jumpingï¼šDP + æ•°è®º + ç¦»æ•£ </span> </h5> <div class="m-2 secondary-color" data-astro-cid-3ef6ksr2> <ul data-astro-cid-tfcnbjmv> <li data-astro-cid-tfcnbjmv> <a class="link" href="/" data-astro-cid-tfcnbjmv> <i class="ri-home-line" data-astro-cid-tfcnbjmv></i>
ä¸»é¡µ
</a> </li> <li data-astro-cid-tfcnbjmv> <a class="link" href="/blog" data-astro-cid-tfcnbjmv> <i class="ri-newspaper-line" data-astro-cid-tfcnbjmv></i> åšå®¢ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/lab" data-astro-cid-tfcnbjmv> <i class="ri-server-line" data-astro-cid-tfcnbjmv></i> å®éªŒå®¤ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/friends" data-astro-cid-tfcnbjmv> <i class="ri-contacts-line" data-astro-cid-tfcnbjmv></i> å‹äºº </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/about" data-astro-cid-tfcnbjmv> <i class="ri-cup-line" data-astro-cid-tfcnbjmv></i> å…³äº </a> </li> </ul>  </div> </div> </nav> <script>
  const headerEl = document.querySelector("#navbar-wrapper");
  const sentinalEl = document.querySelector("header");
  const handler = (entries) => {
    if (!entries[0].isIntersecting) {
      headerEl.classList.add("sticked");
    } else {
      headerEl.classList.remove("sticked");
    }
  };
  const observer = new window.IntersectionObserver(handler);
  observer.observe(sentinalEl);
</script>   <main data-astro-cid-4sn4zg3r> <section class="container mt-32" data-astro-cid-4sn4zg3r>  <h1 class="primary-color leading-relaxed" data-astro-cid-4sn4zg3r>CodeForces 510D Fox And Jumpingï¼šDP + æ•°è®º + ç¦»æ•£</h1> <p class="mt-4 secondary-color leading-relaxed" data-astro-cid-4sn4zg3r> <i class="ri-calendar-line" data-astro-cid-4sn4zg3r></i> <span data-astro-cid-4sn4zg3r>2018 å¹´ 07 æœˆ 10 æ—¥</span>   <br data-astro-cid-4sn4zg3r> <i class="ri-discuss-line" data-astro-cid-4sn4zg3r></i> <span data-astro-cid-4sn4zg3r>å…± 1 æ¡è¯„è®º</span>  </p> <hr class="my-8" data-astro-cid-4sn4zg3r> <p class="card p-2 my-8" data-astro-cid-4sn4zg3r>
âš™ï¸ å…¨æ–°åšå®¢å‰ç«¯ä»åœ¨æµ‹è¯•ä¸­ã€‚å¦‚æœæ–‡ç« æ˜¾ç¤ºä¸æ­£å¸¸ï¼Œå¯ä»¥å°è¯•è®¿é—®<a href="https://blog.skywt.cn/posts/cf510d" class="link underline" data-astro-cid-4sn4zg3r>åŸåšå®¢çš„è¿™ç¯‡æ–‡ç« </a>ã€‚
</p> <article class="prose dark:prose-neutral dark:prose-invert max-w-none" data-astro-cid-4sn4zg3r> <p>å¾ˆä¼¤å¿ƒï¼Œä¸ºä»€ä¹ˆNOIPä¸èƒ½ç”¨ C++11â€¦â€¦</p><p>CodeForces 510D Fox And Jumpingï¼š<a href="https://codeforces.com/problemset/problem/510/D" title="510D">510D</a></p><!--more--><h2>Problem</h2><p>Fox Ciel is playing a game. In this game there is an infinite long tape with cells indexed by integers (positive, negative and zero). At the beginning she is standing at the cell 0.</p><p>There are also n cards, each card has 2 attributes: length $l_i$ and cost $c_i$. If she pays $c_i$ dollars then she can apply i-th card. After applying i-th card she becomes able to make jumps of length $l_i$, i. e. from cell $x$ to cell $(xâ€‰-â€‰l_i)$ or cell $(xâ€‰+â€‰l_i)$.</p><p>She wants to be able to jump to any cell on the tape (possibly, visiting some intermediate cells). For achieving this goal, she wants to buy some cards, paying as little money as possible.</p><p>If this is possible, calculate the minimal cost.</p><h2>Input</h2><p>The first line contains an integer n $(1â€‰â‰¤â€‰nâ€‰â‰¤â€‰300)$, number of cards.</p><p>The second line contains n numbers $l_i$ $(1â€‰â‰¤â€‰l_iâ€‰â‰¤â€‰10^9)$, the jump lengths of cards.</p><p>The third line contains n numbers $c_i$ $(1â€‰â‰¤â€‰c_iâ€‰â‰¤â€‰105)$, the costs of cards.</p><h2>Output</h2><p>If it is impossible to buy some cards and become able to jump to any cell, output -1. Otherwise output the minimal cost of buying such set of cards.</p><h2>Examples</h2><h3>input #1</h3><pre><code>3
100 99 9900
1 1 1

</code></pre><h3>Output #1</h3><pre><code>2

</code></pre><h3>Input #2</h3><pre><code>5
10 20 30 40 50
1 1 1 1 1

</code></pre><h3>Output #2</h3><pre><code>-1

</code></pre><h3>Input #3</h3><pre><code>8
4264 4921 6321 6984 2316 8432 6120 1026
4264 4921 6321 6984 2316 8432 6120 1026

</code></pre><h3>Output #3</h3><pre><code>7237

</code></pre><h2>Translation</h2><p>é¢˜ç›®å¤§æ„æ˜¯ï¼šFox ç°åœ¨åœ¨ä¸€ä¸ªä¸€ç»´æ•°è½´ä¸Šï¼Œç»™å®š N å¼ å¡ç‰‡ï¼Œé€‰æ¯å¼ å¡åˆ†åˆ«è¦ä»˜ $P_i$ çš„é’±ï¼Œå¯ä»¥è®© Fox æœ‰èµ° $L_i$ é•¿åº¦çš„æŠ€èƒ½ã€‚é—®ä½ æœ€å°‘è¦å¤šå°‘é’±ä¹°å¡ç‰‡å¯ä»¥è®© Fox æŠµè¾¾æ•°è½´ä¸Šæ¯ä¸ªåœ°æ–¹ã€‚</p><h2>Solution</h2><p>æ˜¾ç„¶è¦é€šè¿‡â€œæŸç§æ“ä½œâ€ç»„åˆå‡º 1ï¼Œæœ‰ 1 å°±å¯ä»¥é“ºæ»¡æ•°è½´äº†ï¼Œå› ä¸º 1 æ˜¯æ‰€æœ‰æ­£æ•´æ•°çš„å› å­ã€‚é‚£ä¹ˆå¯¹äºä¸¤å¼ å¡ i å’Œ j ï¼Œéƒ½è´­ä¹°ä»¥åå¯ä»¥ç»„åˆå‡ºçš„æœ€å°å•ä½å°±æ˜¯ $gcd(L_i,L_j)$ ã€‚æ‰€ä»¥è¿™é¢˜å°±è½¬åŒ–æˆï¼š<br>ä» N ä¸ªæ•°å­—é‡Œé€‰æ‹©ä¸€éƒ¨åˆ†ï¼Œä½¿å¾—å®ƒä»¬çš„ $L_i$ æœ€å¤§å…¬å› æ•°ä¸º 1ï¼Œå¹¶ä¸” $\sum P_i$ æœ€å°ã€‚</p><p>è¿™æ ·çš„é¢˜ç›®æˆ‘ä»¬å¾ˆå®¹æ˜“ä»¤æˆ‘ä»¬æƒ³åˆ°DPï¼š<code>F[i][j][k]</code> è¡¨ç¤ºå‰ i ä¸ªæ•°å­—é‡Œé€‰æ‹©äº† j ä¸ªï¼Œå¹¶ä¸”å®ƒä»¬çš„æœ€å¤§å…¬å› æ•°æ˜¯ kã€‚å¾ˆå¿«æˆ‘ä»¬å°±å‘ç°äº†é—®é¢˜ï¼šé¢˜ç›®é‡Œè¯´ $(1â€‰â‰¤â€‰l_iâ€‰â‰¤â€‰10^9)$ â€¦â€¦è¿™æ ·æ•°ç»„æ— è®ºå¦‚ä½•å­˜ä¸ä¸‹çš„â€¦â€¦ä½†æ˜¯ï¼ï¼ï¼å¯ä»¥è¯æ˜æœ€å¤šåªæœ‰ $N^2$ ä¸ªæœ€å¤§å…¬å› æ•°ï¼é‚£ä¹ˆæˆ‘ä»¬å®Œå…¨å¯ä»¥ç”¨ map è¿›è¡Œç¦»æ•£ã€‚ä½†æ˜¯è¿™æ ·å†…å­˜å¥½åƒè¿˜æ˜¯ä¼šçˆ†ç‚¸â€¦â€¦æ¨å‡ºè½¬ç§»æ–¹ç¨‹ä»¥åå‘ç°ï¼šå½“å‰çŠ¶æ€åªä¸ i-1 çš„çŠ¶æ€æœ‰å…³ï¼é‚£ä¹ˆå¯ä»¥ç”¨æ»šåŠ¨æ•°ç»„ã€‚å†…å­˜å°±ä¼˜åŒ–ä¸‹æ¥äº†ï½ï½</p><p>æ€è€ƒä¸€ä¸‹ï¼Œå¾ˆå®¹æ˜“å¾—å‡ºè½¬ç§»æ–¹ç¨‹ã€‚åªè¦æ³¨æ„å‡ ä¸ªç»†èŠ‚å°±å¯ä»¥äº†ã€‚ï¼ˆä»£ç å¦‚ä¸‹ï¼‰</p><h2>Code</h2><pre><code class="lang-cpp">#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;iostream&gt;
#include&lt;map&gt;
using namespace std;
const int maxn=305;
int n,a[maxn],p[maxn],to[maxn*maxn],f[2][maxn][maxn*maxn],cnt=0,ans,INF;
map &lt;int,int&gt; back; // ä¸ºäº†å‹ç¼©å†…å­˜ï¼Œå»ºç«‹æ˜ å°„å…³ç³» (ç¦»æ•£)
inline int read(){
    int ret=0,f=1;char ch=getchar();
    while (ch&lt;'0'||ch&gt;'9'){if (ch=='-') f=-1;ch=getchar();}
    while (ch&gt;='0'&amp;&amp;ch&lt;='9') ret=ret*10+ch-'0',ch=getchar();
    return ret*f;
}
inline int gcd(int x,int y){
    if (y==0) return x;
    return gcd(y,x%y);
}
int main(){
    n=read();
    for (int i=1;i&lt;=n;i++) a[i]=read();
    for (int i=1;i&lt;=n;i++) p[i]=read();
    memset(f,63,sizeof(f));INF=f[0][0][0];
    cnt++;to[cnt]=0;back[0]=cnt; // å»ºç«‹åŸºæœ¬æ˜ å°„å•ä½çš„è¿‡ç¨‹
    f[0][0][1]=0;
    for (int i=1;i&lt;=n;i++)
    for (int j=0;j&lt;=i;j++){
        int oldcnt=cnt;
        for (int k=1;k&lt;=oldcnt;k++){
            if (f[1-(i&amp;1)][j][k]&lt;f[i&amp;1][j][k]) f[i&amp;1][j][k]=f[1-(i&amp;1)][j][k];

            if (j==0||f[1-(i&amp;1)][j-1][k]==INF) continue;
            int now=gcd(to[k],a[i]);
            if (back[now]==0) {cnt++;to[cnt]=now;back[now]=cnt;}
            int nowx=back[now];
            if (f[1-(i&amp;1)][j-1][k]+p[i] &lt; f[i&amp;1][j][nowx]) f[i&amp;1][j][nowx]=f[1-(i&amp;1)][j-1][k]+p[i];
        }
    }
    ans=INF;int st=back[1];
    if (st) for (int i=1;i&lt;=n;i++) if (f[n&amp;1][i][st]&lt;ans) ans=f[n&amp;1][i][st];
    if (ans-INF) printf(&quot;%d\n&quot;,ans); else printf(&quot;-1\n&quot;);
    return 0;
}</code></pre><hr><p>è‡ªè±ªåœ°ï¼Œå®Œå…¨è‡ªå·±æƒ³å‡ºæ¥çš„ï½ï½ï½</p> </article> <hr class="my-8" data-astro-cid-4sn4zg3r> <h2> <i class="ri-discuss-line"></i> å…± 1 æ¡è¯„è®º </h2> <div class="primary-color my-4"> <div class="flex items-center"> <img src="https://gravatar.com/avatar/4f3a60a87052f17f33989f2f25de8a65" class="rounded-full w-12 mr-2"> <div class="m-2"> <a href="http://zigzagk.top" class="link" target="_blank"> <h4>ZigZagK</h4> </a> <p class="mt-1">2018 å¹´ 7 æœˆ 22 æ—¥ 14:54</p> </div> </div> <p class="mt-2">éƒ½C++11äº†å½“ç„¶ä¸Š&lt;code&gt;unordered_map&lt;/code&gt;å•¦ã€‚</p> <div class="ml-8">  </div> </div> <hr class="my-8"> <h2> <i class="ri-discuss-line"></i>
å‘è¡¨è¯„è®º
</h2> <p class="primary-color card my-4 p-2">
ğŸš§ æ–°åšå®¢ç³»ç»Ÿçš„è¯„è®ºåŠŸèƒ½ä»åœ¨å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…ã€‚å¯ä»¥å‰å¾€<a href="https://blog.skywt.cn/posts/cf510d" class="link underline">åŸåšå®¢çš„è¿™ç¯‡æ–‡ç« </a>åº•éƒ¨è¯„è®ºåŒºå‘è¡¨è¯„è®ºã€‚
</p> </section> </main>  <footer class="mt-16 py-8 bg-gray-100 dark:bg-neutral-900"> <div class="wide-container secondary-color text-sm"> <div class="flex justify-between flex-wrap"> <div class="m-2"> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> åšå®¢</a> </span><span>
/
CodeForces 510D Fox And Jumpingï¼šDP + æ•°è®º + ç¦»æ•£ </span> </div> <div class="m-2"> <ul data-astro-cid-tfcnbjmv> <li data-astro-cid-tfcnbjmv> <a class="link" href="/" data-astro-cid-tfcnbjmv> 
ä¸»é¡µ
</a> </li> <li data-astro-cid-tfcnbjmv> <a class="link" href="/blog" data-astro-cid-tfcnbjmv>  åšå®¢ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/lab" data-astro-cid-tfcnbjmv>  å®éªŒå®¤ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/friends" data-astro-cid-tfcnbjmv>  å‹äºº </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/about" data-astro-cid-tfcnbjmv>  å…³äº </a> </li> </ul>  </div> </div> <hr class="my-4"> <div class="flex justify-between flex-wrap"> <p class="m-2">
&#169; 2017-2024 <a href="/" class="link">SkyWT</a>
|
<a href="/sitemap.xml" class="link">ç«™ç‚¹åœ°å›¾</a>
|
<a href="/friends" class="link">å‹æƒ…é“¾æ¥</a>
|
<a href="https://foreverblog.cn/go.html" class="link">è™«æ´</a> <!-- |
        <a href="https://github.com/Skywt2003/Daydreamer" class="link"
          >Daydreamer</a
        > --> </p> <div class="m-2"> <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" class="inline-block mx-1" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/cc.svg" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/by.svg" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/nc.svg" data-astro-cid-h3ykra2n>   </a>  <a href="https://notbyai.fyi" target="_blank" class="inline-block mx-1" data-astro-cid-hwbnc4sm> <img src="/not-by-ai-light.svg" alt="Not By AI Badge" class="badge inline-block dark:hidden" data-astro-cid-hwbnc4sm> <img src="/not-by-ai-dark.svg" alt="Not By AI Badge" class="badge hidden dark:inline-block" data-astro-cid-hwbnc4sm> </a>  <a href="https://www.foreverblog.cn/" target="_blank" class="inline-block mx-1"> <img src="https://img.foreverblog.cn/logo_en_default.png" alt="Forever Blog Badage" class="inline-block h-4 grayscale"> </a> </div> </div> <div class="flex justify-between flex-wrap"> <p class="m-2"> <a href="https://beian.miit.gov.cn/" target="_blank" class="link">
æµ™ ICP å¤‡ 2021019606 å· - 1</a>
|
<a href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33080202000472" target="_blank" class="link before:content-[url('/mps.png')] before:align-middle">
æµ™å…¬ç½‘å®‰å¤‡ 33080202000472 å·</a> </p> <p class="m-2"> <span class="align-middle">ç”±</span> <a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" class="inline-block align-middle"> <img src="/upyun.png" class="h-6"> </a> <span class="align-middle">æä¾› CDN åŠ é€Ÿã€äº‘å­˜å‚¨æœåŠ¡</span> </p> </div> </div> </footer> </body></html> 