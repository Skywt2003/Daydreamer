<!DOCTYPE html><html> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>Topcoder SRM 639 Div2 T3 BoardFoldingDiv2 题解</title><link rel="icon" type="image/vnd.microsoft.icon" href="/favicon.ico"><link rel="alternate" type="application/rss+xml" title="博客文章 RSS 订阅" href="https://skywt.cn/rss.xml"><link rel="sitemap" href="/sitemap-index.xml"><title>Topcoder SRM 639 Div2 T3 BoardFoldingDiv2 题解</title><link rel="canonical" href="https://skywt.cn/blog/tc-639-div2-t3/"><meta name="description" content="Topcoder Single Round Match 639 DIv2 T3 BoardFoldingDiv2 题解

这是我博客的第 66 篇文章，庆祝一下 :tada:

"><meta name="robots" content="index, follow"><meta property="og:title" content="Topcoder SRM 639 Div2 T3 BoardFoldingDiv2 题解"><meta property="og:type" content="article"><meta property="og:image" content="/og.svg"><meta property="og:url" content="https://skywt.cn/blog/tc-639-div2-t3/"><meta property="og:locale" content="zh_CN"><meta property="og:locale:alternate" content="zh_TW"><meta property="og:locale:alternate" content="en_US"><meta property="og:site_name" content="SkyWT"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@skywt2003"><meta name="twitter:title" content="Topcoder SRM 639 Div2 T3 BoardFoldingDiv2 题解"><meta name="twitter:image" content="/og.svg"><meta name="twitter:image:alt" content="SkyWT"><meta name="twitter:description" content="Topcoder Single Round Match 639 DIv2 T3 BoardFoldingDiv2 题解

这是我博客的第 66 篇文章，庆祝一下 :tada:

"><meta name="twitter:creator" content="@skywt2003"><link rel="shortcut icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/avatar.png"><meta name="generator" content="Astro v4.7.0"><meta name="keywords" content=""><script>
      function addMatomo() {
        var _paq = (window._paq = window._paq || []);
        _paq.push(["trackPageView"]);
        _paq.push(["enableLinkTracking"]);
        (function () {
          var u = "//analytics.skywt.cn/";
          _paq.push(["setTrackerUrl", u + "matomo.php"]);
          _paq.push(["setSiteId", "1"]);
          var d = document,
            g = d.createElement("script"),
            s = d.getElementsByTagName("script")[0];
          g.async = true;
          g.src = u + "matomo.js";
          s.parentNode.insertBefore(g, s);
        })();
      }

      document.addEventListener(
        "astro:page-load",
        () => {
          addMatomo();
        },
        { once: false },
      );
    </script><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/_astro/about.Bz1ZbssJ.css">
<link rel="stylesheet" href="/_astro/about.JKzvL09E.css"><script type="module" src="/_astro/hoisted.B7CfB7Zh.js"></script></head> <body> <header class="header"> <h5 class="header__heading"> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> 博客 </a> </span><span>
/
Topcoder SRM 639 Div2 T3 BoardFoldingDiv2 题解 </span> </h5> </header> <div id="navbar-sentinal"></div> <nav class="navbar" id="navbar-wrapper"> <div class="navbar__content"> <h5 class="navbar__path"> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> 博客 </a> </span><span>
/
Topcoder SRM 639 Div2 T3 BoardFoldingDiv2 题解 </span> </h5> <div class="navbar__menu"> <ul data-astro-cid-tfcnbjmv> <li data-astro-cid-tfcnbjmv> <a class="link" href="/" data-astro-cid-tfcnbjmv> <i class="ri-home-line" data-astro-cid-tfcnbjmv></i>
主页
</a> </li> <li data-astro-cid-tfcnbjmv> <a class="link" href="/blog" data-astro-cid-tfcnbjmv> <i class="ri-newspaper-line" data-astro-cid-tfcnbjmv></i> 博客 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/lab" data-astro-cid-tfcnbjmv> <i class="ri-server-line" data-astro-cid-tfcnbjmv></i> 实验室 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/friends" data-astro-cid-tfcnbjmv> <i class="ri-contacts-line" data-astro-cid-tfcnbjmv></i> 友人 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/about" data-astro-cid-tfcnbjmv> <i class="ri-cup-line" data-astro-cid-tfcnbjmv></i> 关于 </a> </li> </ul>  </div> </div> </nav> <script>
  // 使用 ViewTransition 后，所有 DOM 操作的 js 都有一堆问题
  // 这里用了极不优雅的 var，有待改进
  var observer;
  function addNavObserver() {
    const headerEl = document.querySelector("#navbar-wrapper");
    const sentinalEl = document.querySelector("#navbar-sentinal");
    if (!sentinalEl || !headerEl) return;
    observer = new window.IntersectionObserver((e) => {
      if (!e[0].isIntersectin && e[0].boundingClientRect.top <= 0) {
        headerEl.classList.add("navbar--sticked");
      } else {
        headerEl.classList.remove("navbar--sticked");
      }
    });
    observer.observe(sentinalEl);
  }

  function removeNavObserver() {
    if (observer) observer.disconnect();
    observer = null;
  }

  document.addEventListener(
    "astro:page-load",
    () => {
      addNavObserver();
    },
    { once: false },
  );

  document.addEventListener(
    "astro:before-swap",
    () => {
      removeNavObserver();
    },
    { once: false },
  );
</script>  <main class="page"> <section class="page__section page__section--at-top">  <h1 class="page__heading">Topcoder SRM 639 Div2 T3 BoardFoldingDiv2 题解</h1> <p class="page__meta"> <i class="ri-calendar-line"></i> <span>2018 年 8 月 26 日 11:58</span>  </p> <hr class="page__divide"> <article class="content"> <h2><a id="文章目录" class="content__heading-anchor"></a>文章目录</h2>
<ul>
<li><a href="#translation">Translation</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#original">Original</a></li>
<li><a href="#analysis">Analysis</a></li>
<li><a href="#code">Code</a></li>
</ul>
<p>Topcoder Single Round Match 639 DIv2 T3 BoardFoldingDiv2 题解</p>
<p>这是我博客的第 66 篇文章，庆祝一下 :tada:</p>
<!--more-->
<hr>
<h2><a id="translation" class="content__heading-anchor"></a>Translation</h2>
<p>有一个 n 行 m 列的矩阵，每个元素都是 0 或 1；现在你可以沿着平行于矩阵边缘的直线“翻折”，必须保证翻折后重合的两个面上的对应元素相同。问你经过一系列翻折操作后，可能产生多少不同的矩阵。如果两个矩阵大小、元素相同，但是对于最初大矩阵左上角坐标不同，则这两个矩阵不同。<br>
数据范围 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>⩽</mo><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mo>⩽</mo><mn>50</mn></mrow><annotation encoding="application/x-tex">1\leqslant n,m \leqslant 50</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7811em;vertical-align:-0.1367em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">⩽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8311em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">⩽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">50</span></span></span></span>。</p>
<blockquote>
<ul>
<li>paper will contain between 1 and 50 elements, inclusive.</li>
<li>Each element of paper will contain between 1 and 50 elements, inclusive.</li>
<li>All elements of paper will have the same length.</li>
<li>paper will contain only characters '0' and '1'.</li>
<li>Time limit (s): 2.000</li>
<li>Memory limit (MB): 256</li>
<li>Stack limit (MB): 256</li>
</ul>
</blockquote>
<h2><a id="examples" class="content__heading-anchor"></a>Examples</h2>
<p>样例零：</p>
<pre><code>{&quot;10&quot;,
 &quot;11&quot;}
</code></pre>
<p>Returns: <code>1</code></p>
<p>这张纸根本没法折。</p>
<blockquote>
<p>There is no valid way to fold this paper, so there is just one possible outcome.</p>
</blockquote>
<p>样例一：</p>
<pre><code>{&quot;1111111&quot;,
 &quot;1111111&quot;}
</code></pre>
<p>Returns: <code>84</code></p>
<p>这张纸可以随便折。一共有 84 种方案。</p>
<blockquote>
<p>We can fold it into any of the 84 possible subrectangles of the original rectangle.</p>
</blockquote>
<p>样例三：</p>
<pre><code>{&quot;0110&quot;,
 &quot;1001&quot;,
 &quot;1001&quot;,
 &quot;0110&quot;}
</code></pre>
<p>Returns: <code>9</code></p>
<p>横着、竖着都可以沿中线对折，共 9 种方案。</p>
<h2><a id="original" class="content__heading-anchor"></a>Original</h2>
<blockquote>
<p>Little Petya likes puzzles a lot. Recently he has received one as a gift from his mother. The puzzle has the form of a rectangular sheet of paper that is divided into N rows by M columns of unit square cells. Rows are numbered 0 through N-1 from top to bottom, and columns 0 through M-1 from left to right. Each cell is colored either black or white. You are given a description of the paper, the exact format is specified at the end of this problem statement.  The goal of the puzzle is to fold the paper. This has to be done in a sequence of turns. In each turn, Petya has to fold the paper according to the rules below. He can end the process after any number of turns (including zero), even if there are still valid ways to fold the paper.  In each turn, Petya must follow these steps: To start folding, he must choose a line that is parallel to one of the sides of the paper and passes between two rows/columns of cells. He can then take the smaller part of the paper and fold it on top of the larger part. (If the line divides the current paper in half, he can fold either half on top of the other.) There is one additional restriction: Petya may only perform the fold if all cells of the part that is being folded land on equally-colored cells of the part that remains in place.  For example, consider the following paper (with 0 and 1 representing white and black):<br>
10010101<br>
11110100<br>
00000000<br>
01101110<br>
Here, Petya could choose the vertical line that goes between the two leftmost columns and the rest of the paper. Note that this is a valid choice: as he makes the fold, the cells from the leftmost two columns will all match their counterparts in the right part of the paper. This is how the paper looks like after the fold (with periods representing empty spaces):<br>
..010101<br>
..110100<br>
..000000<br>
..101110<br>
Clearly, even after multiple folds the paper will always look like a subrectangle of the original paper. Two states of the game are considered the same if that rectangle has the same dimensions and the same offset with respect to the original top left corner of the paper. (Note that folding order does not matter. Two different sequences of folding may produce the same final state.)  You are given a description of the original state of the paper as a vector <string> paper. Here N is the number of elements in paper and M is the length of its each element. For each i and j, the character paper[i][j] is either '0' (meaning that the cell (i,j) is white) or '1' (the cell is black). Compute and return the number of possible final states of the game.</p>
</blockquote>
<h2><a id="analysis" class="content__heading-anchor"></a>Analysis</h2>
<p>首先必须想明白一个很重要的结论（其实原题题目里都提示你了）：<strong>横向翻折与纵向翻折是独立的</strong>。也就是说我们可以先处理横向翻折的情况，得出方案数，再处理纵向翻折，<strong>最后两者相乘就是答案</strong>。<br>
有了这个结论，问题就很简单了。我们直接做一次区间 DP 就可以方便地得出翻折方案数，累计即可。</p>
<h2><a id="code" class="content__heading-anchor"></a>Code</h2>
<p>代码实现起来有点复杂，但是只要思路清晰其实并不难。</p>
<pre><code class="language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">const</span> <span class="hljs-type">int</span> maxn=<span class="hljs-number">55</span>;
<span class="hljs-type">int</span> n,m,ans1,ans2;
<span class="hljs-type">bool</span> vis[maxn][maxn]; <span class="hljs-comment">// vis[i][j]: 第i个cell开始的一段长度为j的闭区间能否与i+j+1开始的一段等长的闭区间匹配</span>
<span class="hljs-comment">// 即[i,i+j]与[i+j+1,i+2*j+1]两段区间的cells是否对称</span>
<span class="hljs-comment">// 注意j是整个区间半长</span>
<span class="hljs-type">bool</span> f[maxn][maxn]; <span class="hljs-comment">// F[i][j]: 能否折叠得只剩[i,j]区间</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">BoardFoldingDiv2</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">howMany</span><span class="hljs-params">( vector &lt;string&gt; paper )</span></span>;
};
<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">bool</span> <span class="hljs-title">Check</span><span class="hljs-params">(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y,<span class="hljs-type">bool</span> mode,vector &lt;string&gt; paper)</span></span>{ <span class="hljs-comment">// 验证两行/两列是否相同的函数</span>
    <span class="hljs-comment">// mode: 竖向验证(true)(||)或横向验证(false)(=)</span>
    <span class="hljs-keyword">if</span> (mode){
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++) <span class="hljs-keyword">if</span> (paper[i][x]!=paper[i][y]) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-comment">// printf(&quot;Check Succesful: %d %d\n&quot;,x,y);</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;m;i++) <span class="hljs-keyword">if</span> (paper[x][i]!=paper[y][i]) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">BoardFoldingDiv2::howMany</span><span class="hljs-params">(vector &lt;string&gt; paper)</span> </span>{
    n=paper.<span class="hljs-built_in">size</span>();
    <span class="hljs-keyword">if</span> (n==<span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    m=paper[<span class="hljs-number">0</span>].<span class="hljs-built_in">length</span>();

    <span class="hljs-comment">// Part 1: build ans1 -------------------------------</span>

    <span class="hljs-built_in">memset</span>(vis,<span class="hljs-number">0</span>,<span class="hljs-built_in">sizeof</span>(vis));
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;m<span class="hljs-number">-1</span>;i++) vis[i][<span class="hljs-number">1</span>]=<span class="hljs-built_in">Check</span>(i,i+<span class="hljs-number">1</span>,<span class="hljs-literal">true</span>,paper);
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> L=<span class="hljs-number">3</span>;L&lt;=m;L+=<span class="hljs-number">2</span>)
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;m-L;i++){
        <span class="hljs-type">int</span> j=i+L;
        <span class="hljs-keyword">if</span> ((j&gt;=m)||(!vis[i+<span class="hljs-number">1</span>][L/<span class="hljs-number">2</span>])) <span class="hljs-keyword">continue</span>;
        vis[i][(L+<span class="hljs-number">1</span>)/<span class="hljs-number">2</span>]=<span class="hljs-built_in">Check</span>(i,j,<span class="hljs-literal">true</span>,paper);
    }

    <span class="hljs-built_in">memset</span>(f,<span class="hljs-number">0</span>,<span class="hljs-built_in">sizeof</span>(f));
    f[<span class="hljs-number">0</span>][m<span class="hljs-number">-1</span>]=<span class="hljs-literal">true</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> L=m<span class="hljs-number">-1</span>;L&gt;=<span class="hljs-number">0</span>;L--)
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;m-L;i++){
        <span class="hljs-type">int</span> j=i+L;
        <span class="hljs-keyword">if</span> (j&gt;=m) <span class="hljs-keyword">continue</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k=i;(k&lt;=j)&amp;&amp;(!f[i][j]);k++){
            <span class="hljs-keyword">if</span> ((j+(j-k+<span class="hljs-number">1</span>)&lt;m)&amp;&amp;(vis[k][j-k+<span class="hljs-number">1</span>])){ <span class="hljs-comment">// 先考虑右边一块向左边折叠情况</span>
                f[i][j]|=f[i][j+(j-k+<span class="hljs-number">1</span>)];
            }
            <span class="hljs-keyword">if</span> ((i-(k-i+<span class="hljs-number">1</span>)&gt;=<span class="hljs-number">0</span>)&amp;&amp;(vis[i-(k-i+<span class="hljs-number">1</span>)][k-i+<span class="hljs-number">1</span>])){ <span class="hljs-comment">// 左边一块向右折叠</span>
                f[i][j]|=f[i-(k-i+<span class="hljs-number">1</span>)][j];
            }
        }
    }
    ans1=<span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;m;i++)
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j=i;j&lt;m;j++) ans1+=f[i][j];
    <span class="hljs-keyword">if</span> (m==<span class="hljs-number">1</span>) ans1=<span class="hljs-number">1</span>;

    <span class="hljs-comment">// Part 2: build ans2 -------------------------------</span>

    <span class="hljs-built_in">memset</span>(vis,<span class="hljs-number">0</span>,<span class="hljs-built_in">sizeof</span>(vis));
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n<span class="hljs-number">-1</span>;i++) vis[i][<span class="hljs-number">1</span>]=<span class="hljs-built_in">Check</span>(i,i+<span class="hljs-number">1</span>,<span class="hljs-literal">false</span>,paper);
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> L=<span class="hljs-number">3</span>;L&lt;=n;L+=<span class="hljs-number">2</span>)
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n-L;i++){
        <span class="hljs-type">int</span> j=i+L;
        <span class="hljs-keyword">if</span> ((j&gt;=n)||(!vis[i+<span class="hljs-number">1</span>][L/<span class="hljs-number">2</span>])) <span class="hljs-keyword">continue</span>;
        vis[i][(L+<span class="hljs-number">1</span>)/<span class="hljs-number">2</span>]=<span class="hljs-built_in">Check</span>(i,j,<span class="hljs-literal">false</span>,paper);
    }

    <span class="hljs-built_in">memset</span>(f,<span class="hljs-number">0</span>,<span class="hljs-built_in">sizeof</span>(f));
    f[<span class="hljs-number">0</span>][n<span class="hljs-number">-1</span>]=<span class="hljs-literal">true</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> L=n<span class="hljs-number">-1</span>;L&gt;=<span class="hljs-number">0</span>;L--)
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n-L;i++){
        <span class="hljs-type">int</span> j=i+L;
        <span class="hljs-keyword">if</span> (j&gt;=n) <span class="hljs-keyword">continue</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k=i;(k&lt;=j)&amp;&amp;(!f[i][j]);k++){
            <span class="hljs-keyword">if</span> ((j+(j-k+<span class="hljs-number">1</span>)&lt;n)&amp;&amp;(vis[k][j-k+<span class="hljs-number">1</span>])){ <span class="hljs-comment">// 先考虑下面一块向上边折叠情况</span>
                f[i][j]|=f[i][j+(j-k+<span class="hljs-number">1</span>)];
            }
            <span class="hljs-keyword">if</span> ((i-(k-i+<span class="hljs-number">1</span>)&gt;=<span class="hljs-number">0</span>)&amp;&amp;(vis[i-(k-i+<span class="hljs-number">1</span>)][k-i+<span class="hljs-number">1</span>])){ <span class="hljs-comment">// 上面一块向下折叠</span>
                f[i][j]|=f[i-(k-i+<span class="hljs-number">1</span>)][j];
            }
        }
    }
    ans2=<span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j=i;j&lt;n;j++) ans2+=f[i][j];
    <span class="hljs-keyword">if</span> (n==<span class="hljs-number">1</span>) ans2=<span class="hljs-number">1</span>;

    <span class="hljs-comment">// printf(&quot;ANS1=%d  ANS2=%d\n&quot;,ans1,ans2);</span>
    <span class="hljs-keyword">return</span> ans1*ans2;
}
</code></pre>
 </article> </section> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var A=Object.defineProperty;var g=(a,o,i)=>o in a?A(a,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[o]=i;var d=(a,o,i)=>(g(a,typeof o!="symbol"?o+"":o,i),i);{let a={0:t=>m(t),1:t=>i(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(i(t)),5:t=>new Set(i(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},o=t=>{let[l,e]=t;return l in a?a[l](e):void 0},i=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script> <hr class="page__divide page__divide--between-sections"> <astro-island uid="Z1zFNDd" prefix="r0" component-url="/_astro/Comments.CQWrrEpu.js" component-export="default" renderer-url="/_astro/client.DbokQZWz.js" props="{&quot;articleId&quot;:[0,61]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Comments&quot;,&quot;value&quot;:true}" await-children=""><section class="page__section"><h2><i class="ri-discuss-line"></i> 暂无评论</h2></section><hr class="page__divide page__divide--between-sections"/><section class="page__section"><h2><i class="ri-discuss-line"></i> 发表新的评论</h2><p class="mt-4 card card--in-content"><b>所有评论都将经过博主审核。</b>请勿填写无意义邮箱或发表无关评论、广告等，否则会被视为垃圾评论。</p><form class="mt-4 form"><input placeholder="你的名字" type="text" class="form__input" required="" value=""/><input placeholder="邮箱" type="email" class="form__input" required="" value=""/><input placeholder="网址" type="url" class="form__input" value=""/><textarea rows="8" class="sm:col-span-3 form__input" placeholder="说点什么吧……" required=""></textarea><button type="submit" class="sm:col-span-3 form__button">提交</button></form><p class="mt-4 text-secondary text-sm leading-normal">提交评论即表明你同意本网站使用 Cookie，并允许本站在后台记录你的邮箱、IP 地址等必要信息。这些信息不会被透露给其他用户。（提交一次评论后，本提示将不再展示）</p></section><!--astro:end--></astro-island>  </main>  <footer class="footer"> <div class="footer__row"> <div class="m-2"> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> 博客 </a> </span><span>
/
Topcoder SRM 639 Div2 T3 BoardFoldingDiv2 题解 </span> </div> <div class="m-2"> <ul data-astro-cid-tfcnbjmv> <li data-astro-cid-tfcnbjmv> <a class="link" href="/" data-astro-cid-tfcnbjmv> 
主页
</a> </li> <li data-astro-cid-tfcnbjmv> <a class="link" href="/blog" data-astro-cid-tfcnbjmv>  博客 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/lab" data-astro-cid-tfcnbjmv>  实验室 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/friends" data-astro-cid-tfcnbjmv>  友人 </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/about" data-astro-cid-tfcnbjmv>  关于 </a> </li> </ul>  </div> </div> <hr class="footer__divide"> <div class="footer__row"> <p class="m-2">
&#169; 2017-2024 <a href="/" class="link">SkyWT</a> |
<a href="/sitemap-index.xml" class="link">站点地图</a>
|
<a href="/friends" class="link">友情链接</a>
|
<a href="https://foreverblog.cn/go.html" target="_blank" class="link">虫洞</a> </p> <p class="m-2"> <a href="https://www.boyouquan.com/" target="_blank" class="mx-1"> <img src="/boyouquan.png" alt="Boyouquan Badge" class="inline-block h-4 grayscale"> </a> <a href="https://www.foreverblog.cn/" target="_blank" class="mx-1"> <img src="/forever_blog.png" alt="Forever Blog Badage" class="inline-block h-4 grayscale"> </a> <a href="https://blogscn.fun/" target="_blank" class="mx-1"> <img src="/blogscn.png" alt="BLOGS·CN Badge" class="inline-block h-4 grayscale"> </a> </p> </div> <div class="footer__row"> <p class="m-2"> <a href="https://beian.miit.gov.cn/" target="_blank" class="link">
浙 ICP 备 2021019606 号 - 1</a>
|
<a href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33080202000472" target="_blank" class="link before:content-[url('/mps.png')] before:align-middle">
浙公网安备 33080202000472 号</a> </p> <div class="m-2"> <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" class="inline-block mx-1" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/cc.svg" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/by.svg" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/nc.svg" data-astro-cid-h3ykra2n>   </a>  <a href="https://notbyai.fyi" target="_blank" class="inline-block mx-1" data-astro-cid-hwbnc4sm> <img src="/not-by-ai-light.svg" alt="Not By AI Badge" class="badge inline-block dark:hidden" data-astro-cid-hwbnc4sm> <img src="/not-by-ai-dark.svg" alt="Not By AI Badge" class="badge hidden dark:inline-block" data-astro-cid-hwbnc4sm> </a>  </div> </div> </footer> </body></html> 