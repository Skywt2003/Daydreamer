<!DOCTYPE html><html> <head><meta charset="UTF-8"><meta name="description" content="Astro description"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.1.1"><title>Topcoder SRM 637 Div2 T3 ConnectingGameDiv2 é¢˜è§£</title><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Noto+Serif+SC:wght@200;300;400;500;600;700;900&display=swap"><!-- Matomo --><script>
      var _paq = (window._paq = window._paq || []);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);
      (function () {
        var u = "//analytics.skywt.cn/";
        _paq.push(["setTrackerUrl", u + "matomo.php"]);
        _paq.push(["setSiteId", "1"]);
        var d = document,
          g = d.createElement("script"),
          s = d.getElementsByTagName("script")[0];
        g.async = true;
        g.src = u + "matomo.js";
        s.parentNode.insertBefore(g, s);
      })();
    </script><!-- End Matomo Code --><link rel="stylesheet" href="/_astro/about.42xRgEnE.css" />
<style>img[data-astro-cid-4sn4zg3r]{border-radius:.25rem;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}
</style>
<link rel="stylesheet" href="/_astro/friends.hRKOKN_Z.css" /></head> <body> <header class="mt-12 wide-container" data-astro-cid-3ef6ksr2> <h5 class="mt-4 mx-4 secondary-color sm:hidden text-center" data-astro-cid-3ef6ksr2> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> åšå®¢</a> </span><span>
/
Topcoder SRM 637 Div2 T3 ConnectingGameDiv2 é¢˜è§£ </span> </h5> </header> <nav class="py-2 font-thin sticky top-0 backdrop-blur-md z-10 transition-all" id="navbar-wrapper" data-astro-cid-3ef6ksr2> <div class="wide-container flex justify-center sm:justify-between flex-wrap" data-astro-cid-3ef6ksr2> <h5 class="m-2 hidden sm:block secondary-color" data-astro-cid-3ef6ksr2> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> åšå®¢</a> </span><span>
/
Topcoder SRM 637 Div2 T3 ConnectingGameDiv2 é¢˜è§£ </span> </h5> <div class="m-2 secondary-color" data-astro-cid-3ef6ksr2> <ul data-astro-cid-tfcnbjmv> <li data-astro-cid-tfcnbjmv> <a class="link" href="/" data-astro-cid-tfcnbjmv> <i class="ri-home-line" data-astro-cid-tfcnbjmv></i>
ä¸»é¡µ
</a> </li> <li data-astro-cid-tfcnbjmv> <a class="link" href="/blog" data-astro-cid-tfcnbjmv> <i class="ri-newspaper-line" data-astro-cid-tfcnbjmv></i> åšå®¢ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/lab" data-astro-cid-tfcnbjmv> <i class="ri-server-line" data-astro-cid-tfcnbjmv></i> å®éªŒå®¤ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/friends" data-astro-cid-tfcnbjmv> <i class="ri-contacts-line" data-astro-cid-tfcnbjmv></i> å‹äºº </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/about" data-astro-cid-tfcnbjmv> <i class="ri-cup-line" data-astro-cid-tfcnbjmv></i> å…³äº </a> </li> </ul>  </div> </div> </nav> <script>
  const headerEl = document.querySelector("#navbar-wrapper");
  const sentinalEl = document.querySelector("header");
  const handler = (entries) => {
    if (!entries[0].isIntersecting) {
      headerEl.classList.add("sticked");
    } else {
      headerEl.classList.remove("sticked");
    }
  };
  const observer = new window.IntersectionObserver(handler);
  observer.observe(sentinalEl);
</script>   <main data-astro-cid-4sn4zg3r> <section class="container mt-32" data-astro-cid-4sn4zg3r>  <h1 class="primary-color leading-relaxed" data-astro-cid-4sn4zg3r>Topcoder SRM 637 Div2 T3 ConnectingGameDiv2 é¢˜è§£</h1> <p class="mt-4 secondary-color leading-relaxed" data-astro-cid-4sn4zg3r> <i class="ri-calendar-line" data-astro-cid-4sn4zg3r></i> <span data-astro-cid-4sn4zg3r>2018 å¹´ 08 æœˆ 29 æ—¥</span>   <br data-astro-cid-4sn4zg3r> <i class="ri-discuss-line" data-astro-cid-4sn4zg3r></i> <span data-astro-cid-4sn4zg3r>å…± 0 æ¡è¯„è®º</span>  </p> <hr class="my-8" data-astro-cid-4sn4zg3r> <p class="card p-2 my-8" data-astro-cid-4sn4zg3r>
âš™ï¸ å…¨æ–°åšå®¢å‰ç«¯ä»åœ¨æµ‹è¯•ä¸­ã€‚å¦‚æœæ–‡ç« æ˜¾ç¤ºä¸æ­£å¸¸ï¼Œå¯ä»¥å°è¯•è®¿é—®<a href="https://blog.skywt.cn/posts/tc-637-div2-t3" class="link underline" data-astro-cid-4sn4zg3r>åŸåšå®¢çš„è¿™ç¯‡æ–‡ç« </a>ã€‚
</p> <article class="prose dark:prose-neutral dark:prose-invert max-w-none" data-astro-cid-4sn4zg3r> <p>Topcoder SIngle Round Match 637 Div 2 T3 ConnectingGameDiv2 é¢˜è§£</p><!--more--><hr><h2>Translation</h2><p>ç»™ä½ ä¸€ä¸ª NÃ—M çš„å­—ç¬¦çŸ©é˜µï¼Œæ¯ä¸ªå­—ç¬¦å¯èƒ½æ˜¯å¤§å†™å­—æ¯ã€å°å†™å­—æ¯æˆ–è€…æ•°å­—ã€‚<strong>ç›¸åŒå­—ç¬¦çš„ä¸€å—è”é€šå—ç§°ä¸ºä¸€ä¸ªâ€œåŒºåŸŸâ€</strong>ã€‚ç°åœ¨è¦é€‰å–è¿™ä¸ªçŸ©é˜µé‡Œçš„å‡ ä¸ªåŒºåŸŸæŸ“æˆçº¢è‰²ï¼Œä½¿å¾—ä»çŸ©é˜µçš„ç¬¬ä¸€è¡Œåˆ°æœ€åä¸€è¡Œ<strong>æ²¡æœ‰ä¸€æ¡æ²¡æœ‰é¢œè‰²çš„é€šè·¯</strong>ã€‚æ¢å¥è¯è¯´ï¼ŒæŸ“æˆçº¢è‰²çš„ç‚¹å°±ä¸èƒ½èµ°äº†ï¼Œè¦ä½¿å¾—ç¬¬ä¸€è¡Œåˆ°æœ€åä¸€è¡Œæ²¡æœ‰é€šè·¯ã€‚<br>ä½ çš„ä»»åŠ¡æ˜¯ä½¿å¾—æŸ“è‰²çš„ cells ä¸ªæ•°æœ€å°‘ã€‚æ³¨æ„ï¼šåªèƒ½ä¸€æ¬¡æŸ“<strong>ä¸€ä¸ªåŒºåŸŸ</strong>ã€‚<br>å­—ç¬¦çŸ©é˜µä»¥ <strong>vector <string> board</strong> ç»™å‡ºã€‚æ•°æ®èŒƒå›´ï¼š$1 \leqslant n,m \leqslant 50$ã€‚</p><blockquote><ul><li>board will contain between 1 and 50 elements, inclusive.</li><li>Each element in board will contain between 1 and 50 characters, inclusive.</li><li>All elements in board will have the same length.</li><li>Each character in board will be a letter or a digit (â€™a'-'z', 'A'-'Z', or '0'-'9').</li><li>Each of the regions in board will be 4-connected.</li><li>Time limit (s): 2.000</li><li>Memory limit (MB): 256</li></ul></blockquote><hr><h2>Examples</h2><p>æ ·ä¾‹é›¶ï¼š</p><pre><code>{&quot;AA&quot;
,&quot;BC&quot;}</code></pre><p>Returns: <code>2</code></p><p>æŸ“ä¸¤ä¸ª A æˆ–è€… B å’Œ C å‡å¯ã€‚</p><blockquote>If Snuke colors 0 or 1 cells red, he will lose the game. He can win the game by coloring 2 cells red. One possibility is to color the two 'A' cells red.</blockquote><p>æ ·ä¾‹ä¸€ï¼š</p><pre><code>{&quot;AAB&quot;
,&quot;ACD&quot;
,&quot;CCD&quot;}</code></pre><p>Returns: <code>4</code></p><p>æ–¹æ¡ˆä¹‹ä¸€æ˜¯æŸ“ B å’Œ Cï¼Œä¸€å…± 4 ä¸ª cellsã€‚</p><blockquote>Here, one optimal solution is to color the regions 'B' and 'C' red. There will be 1 + 3 = 4 red cells.</blockquote><p>æ ·ä¾‹äºŒï¼š</p><pre><code>{&quot;iii&quot;
,&quot;iwi&quot;
,&quot;iii&quot;}</code></pre><p>Returns: <code>8</code></p><p>å”¯ä¸€çš„æ–¹æ¡ˆæ˜¯æŠŠä¸€åœˆ i éƒ½æŸ“äº†ã€‚</p><hr><h2>Original</h2><blockquote>Cat Snuke and wolf Sothe are playing the Connecting Game.<br>The Connecting Game is played on a rectangular grid that is divided into unit square cells. The grid is divided into some regions. Each cell belongs into exactly one of those regions. Each region is 4-connected (see Notes for a formal definition).<br>You are given a vector <string> board that describes the division of the grid into regions. Each character in board represents one of the cells. Cells that are represented by the same character belong into the same region.<br>Initially, the entire grid is colorless. The game consists of two steps. In the first step, Snuke colors some of the regions red. In the second step, Sothe colors all remaining regions blue. (Within each region, all cells must have the same color.) Sothe wins if there is a path (see Notes for a formal definition) of blue cells from the top row to the bottom row. Otherwise, Snuke wins.<br>You are given the vector <string> board. Compute and return the smallest number of cells Snuke can color red in order to win the game.<br>(Note that Snuke cannot simply color individual cells, he must color entire regions. Also note that we are interested in minimizing the total number of cells, not the number of regions Snuke colors.)</blockquote><hr><h2>Analysis</h2><p>æ®è¯´è¿™é¢˜å¯ä»¥ç”¨æœ€å¤§æµåšï¼Œæ˜¯æœ€å¤§æµæœ€å°å‰²é—®é¢˜ï¼Œä½†æ˜¯æˆ‘å’Œ DYT ç ”ç©¶è®¨è®ºäº†ä¸€æ™šä¸Šæ²¡æƒ³åˆ°å¥½çš„è§£å†³æ–¹æ¡ˆâ€¦â€¦ä¸è¿‡æˆ‘ä»¬æƒ³åˆ°ä¸€ç§æ›´åŠ ç®€å•çš„æƒ³æ³•â€¦â€¦</p><p>æ—¢ç„¶é¢˜ç›®é‡Œè¦æˆ‘ä»¬â€œä½¿å¾—ç¬¬ä¸€è¡Œåˆ°æœ€åä¸€è¡Œæ²¡æœ‰é€šè·¯â€ï¼Œè‡ªç„¶å°±å¯ä»¥æƒ³åˆ°æˆ‘ä»¬å¯ä»¥å»â€œé˜»æ–­â€ä»ä¸Šåˆ°ä¸‹çš„è·¯ã€‚é—®é¢˜å¯ä»¥å˜æˆï¼šè¦ä»æœ€å·¦è¾¹ä¸€åˆ—åˆ°æœ€å³è¾¹ä¸€åˆ—ç”»ä¸€æ¡å¼¯æ›²çš„çº¿ï¼Œå³åªè¦æŸ“äº†è¿™æ¡â€œçº¿â€ä¸Šçš„ cells å°±å¯ä»¥â€œé˜»æ–­é€šè·¯â€ã€‚å…¶æ‰€ç»ä¹‹å¤„çš„åŒºåŸŸçš„æ‰€æœ‰ cells éƒ½è¦è¢«æŸ“è‰²ï¼Œå³åŠ ä¸ŠåŒºåŸŸæ‰€å« cells çš„ä¸ªæ•°ã€‚æˆ‘ä»¬è¦æ‰¾åˆ°æ‰€ç»åŒºåŸŸ cells ä¸ªæ•°ä¹‹å’Œæœ€å°çš„ä¸€æ¡â€œçº¿â€ã€‚<br>å¾ˆæ˜æ˜¾å°±æ˜¯ä¸€ä¸ªå˜å½¢çš„æœ€çŸ­è·¯ã€‚å¯ä»¥ç”¨ SPFAï¼ˆBellman-Fordï¼‰ç®—æ³•è§£å†³ã€‚éœ€è¦æ³¨æ„è¦è€ƒè™‘å…«ä¸ªæ–¹å‘ï¼ˆå³å…«è”é€šï¼‰ï¼Œå½¢å¦‚è¿™æ ·çš„å›´æ³•ï¼ˆæ–œè¿æ¥ï¼‰ä¹Ÿå¯ä»¥é˜»æ–­é“è·¯ï¼š</p><pre><code class="lang-math">OOX \\
XXO \\
OOO</code></pre><p>å…³äºæœ€å°å‰²æœ€å¤§æµï¼ˆmin-cut max flowï¼‰çš„è§£æ³•ï¼Œæˆ‘ä»¬çœ‹äº†<a href="https://github.com/k-ori/topcoder/blob/master/ConnectingGameDiv2/ConnectingGameDiv2.cpp" title="ä¸€ä½å¤–å›½å¤§ä½¬çš„è§£æ³•">ä¸€ä½å¤–å›½å¤§ä½¬çš„è§£æ³•</a>ï¼Œå’Œå‡ ç¯‡æ—¥æœ¬é€‰æ‰‹çš„é¢˜è§£ï¼ˆ<a href="http://torus711.hatenablog.com/entry/20141024/1414159692" title="ç¬¬ä¸€ç¯‡">ç¬¬ä¸€ç¯‡</a>å’Œ<a href="http://kmjp.hatenablog.jp/entry/2014/10/26/1030" title="ç¬¬äºŒç¯‡">ç¬¬äºŒç¯‡</a>ï¼‰ï¼Œä½†æ˜¯éƒ½æ²¡çœ‹æ‡‚â€¦â€¦<br>ï¼ˆGoogle ç¿»è¯‘æ—¥è¯­ç¿»è¯‘è¿‡æ¥æ ¹æœ¬çœ‹ä¸æ‡‚å•Šâ€¦â€¦ï¼‰</p><hr><h2>Code</h2><p>TC çš„ç¼–è¯‘å™¨ä¼¼ä¹ <code>move</code> å˜é‡ä¸èƒ½å¼€â€¦â€¦</p><pre><code class="lang-cpp">#include &lt;bits/stdc++.h&gt;
#define CLEAR(x) memset(x,0,sizeof(x))
#define CLEAR_NEG(x) memset(x,255,sizeof(x))
#define CLEAR_MAX(x) memset(x,0x3f,sizeof(x))
#define CLEAR_MIN(x) memset(x,0x80,sizeof(x))
using namespace std;

const int maxn=2510,maxnn=55,INF=5e8;
const int mve[4][2]={{-1,0},{0,1},{1,0},{0,-1}};
const int move_eight[8][2]={{-1,0},{-1,1},{0,1},{1,1},{1,0},{1,-1},{0,-1},{-1,-1}};
int n,nn,mm,ans=0;
int num[maxnn][maxnn],sum[maxn],dst[maxnn][maxnn];
bool vis[maxnn][maxnn];
vector &lt;string&gt; a;
struct WT{
    int x,y;
};
queue &lt;WT&gt; que;

class ConnectingGameDiv2 {
public:
    int getmin( vector &lt;string&gt; board );
};
inline void init(){
    CLEAR(sum);CLEAR(vis);
    CLEAR_NEG(num);
    n=0;ans=INF;
}
inline bool CheckMove(int x,int y){
    if (x&lt;0||y&lt;0||x&gt;nn-1||y&gt;mm-1) return false;
    return true;
}
inline void MakeRegion(int x,int y,int id){
    num[x][y]=id;sum[id]++;
    for (int i=0;i&lt;4;i++)
        if (CheckMove(x+mve[i][0],y+mve[i][1])&amp;&amp;(num[x+mve[i][0]][y+mve[i][1]]==-1)&amp;&amp;(a[x+mve[i][0]][y+mve[i][1]]==a[x][y]))
            MakeRegion(x+mve[i][0],y+mve[i][1],id);
}
inline void BuildSum(){
    for (int i=0;i&lt;nn;i++)
    for (int j=0;j&lt;mm;j++)
        if (num[i][j]==-1) MakeRegion(i,j,++n);
    // for (int i=0;i&lt;nn;i++){
    //     for (int j=0;j&lt;mm;j++) printf(&quot;%d &quot;,num[i][j]);
    //     printf(&quot;\n&quot;);
    // }
    // printf(&quot;sum:&quot;);for (int i=1;i&lt;=n;i++) printf(&quot;%d &quot;,sum[i]);printf(&quot;\n&quot;);
}
inline int SPFA(int sx,int sy){
    CLEAR_MAX(dst);
    vis[sx][sy]=true;dst[sx][sy]=sum[num[sx][sy]];
    que.push((WT){sx,sy});
    while (!que.empty()){
        WT head=que.front();que.pop();
        vis[head.x][head.y]=false;
        for (int i=0;i&lt;8;i++) if (CheckMove(head.x+move_eight[i][0],head.y+move_eight[i][1])){
            int xx=head.x+move_eight[i][0],yy=head.y+move_eight[i][1];
            if (dst[head.x][head.y]+sum[num[xx][yy]]*(bool)(num[xx][yy]!=num[head.x][head.y])&lt;dst[xx][yy]){
                dst[xx][yy]=dst[head.x][head.y]+sum[num[xx][yy]]*(bool)(num[xx][yy]!=num[head.x][head.y]);
                if (!vis[xx][yy]) vis[xx][yy]=true,que.push((WT){xx,yy});
            }
        }
    }
    int ret=INF;
    for (int i=0;i&lt;nn;i++) ret=min(ret,dst[i][mm-1]);
    return ret;
}
int ConnectingGameDiv2::getmin(vector &lt;string&gt; board) {
    init();
    nn=board.size();mm=board[0].length();
    a=board;
    BuildSum();
    for (int i=0;i&lt;nn;i++) ans=min(ans,SPFA(i,0));
    return ans;
}</code></pre> </article> <hr class="my-8" data-astro-cid-4sn4zg3r> <h2> <i class="ri-discuss-line"></i> å…± 0 æ¡è¯„è®º </h2>  <hr class="my-8"> <h2> <i class="ri-discuss-line"></i>
å‘è¡¨è¯„è®º
</h2> <p class="primary-color card my-4 p-2">
ğŸš§ æ–°åšå®¢ç³»ç»Ÿçš„è¯„è®ºåŠŸèƒ½ä»åœ¨å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…ã€‚å¯ä»¥å‰å¾€<a href="https://blog.skywt.cn/posts/tc-637-div2-t3" class="link underline">åŸåšå®¢çš„è¿™ç¯‡æ–‡ç« </a>åº•éƒ¨è¯„è®ºåŒºå‘è¡¨è¯„è®ºã€‚
</p> </section> </main>  <footer class="mt-16 py-8 bg-gray-100 dark:bg-neutral-900"> <div class="wide-container secondary-color text-sm"> <div class="flex justify-between flex-wrap"> <div class="m-2"> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> åšå®¢</a> </span><span>
/
Topcoder SRM 637 Div2 T3 ConnectingGameDiv2 é¢˜è§£ </span> </div> <div class="m-2"> <ul data-astro-cid-tfcnbjmv> <li data-astro-cid-tfcnbjmv> <a class="link" href="/" data-astro-cid-tfcnbjmv> 
ä¸»é¡µ
</a> </li> <li data-astro-cid-tfcnbjmv> <a class="link" href="/blog" data-astro-cid-tfcnbjmv>  åšå®¢ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/lab" data-astro-cid-tfcnbjmv>  å®éªŒå®¤ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/friends" data-astro-cid-tfcnbjmv>  å‹äºº </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/about" data-astro-cid-tfcnbjmv>  å…³äº </a> </li> </ul>  </div> </div> <hr class="my-4"> <div class="flex justify-between flex-wrap"> <p class="m-2">
&#169; 2017-2024 <a href="/" class="link">SkyWT</a>
|
<a href="/sitemap.xml" class="link">ç«™ç‚¹åœ°å›¾</a>
|
<a href="/friends" class="link">å‹æƒ…é“¾æ¥</a>
|
<a href="https://foreverblog.cn/go.html" class="link">è™«æ´</a> <!-- |
        <a href="https://github.com/Skywt2003/Daydreamer" class="link"
          >Daydreamer</a
        > --> </p> <div class="m-2"> <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" class="inline-block mx-1" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/cc.svg" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/by.svg" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/nc.svg" data-astro-cid-h3ykra2n>   </a>  <a href="https://notbyai.fyi" target="_blank" class="inline-block mx-1" data-astro-cid-hwbnc4sm> <img src="/not-by-ai-light.svg" alt="Not By AI Badge" class="badge inline-block dark:hidden" data-astro-cid-hwbnc4sm> <img src="/not-by-ai-dark.svg" alt="Not By AI Badge" class="badge hidden dark:inline-block" data-astro-cid-hwbnc4sm> </a>  <a href="https://www.foreverblog.cn/" target="_blank" class="inline-block mx-1"> <img src="https://img.foreverblog.cn/logo_en_default.png" alt="Forever Blog Badage" class="inline-block h-4 grayscale"> </a> </div> </div> <div class="flex justify-between flex-wrap"> <p class="m-2"> <a href="https://beian.miit.gov.cn/" target="_blank" class="link">
æµ™ ICP å¤‡ 2021019606 å· - 1</a>
|
<a href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33080202000472" target="_blank" class="link before:content-[url('/mps.png')] before:align-middle">
æµ™å…¬ç½‘å®‰å¤‡ 33080202000472 å·</a> </p> <p class="m-2"> <span class="align-middle">ç”±</span> <a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" class="inline-block align-middle"> <img src="/upyun.png" class="h-6"> </a> <span class="align-middle">æä¾› CDN åŠ é€Ÿã€äº‘å­˜å‚¨æœåŠ¡</span> </p> </div> </div> </footer> </body></html> 