<!DOCTYPE html><html> <head><meta charset="UTF-8"><meta name="description" content="Astro description"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.1.1"><title>ä»é›¶å¼€å§‹ï¼Œé…ç½®ä¸€å¥—ç°ä»£å‰ç«¯å·¥å…·é“¾</title><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Noto+Serif+SC:wght@200;300;400;500;600;700;900&display=swap"><script>
      function addMatomo() {
        var _paq = (window._paq = window._paq || []);
        _paq.push(["trackPageView"]);
        _paq.push(["enableLinkTracking"]);
        (function () {
          var u = "//analytics.skywt.cn/";
          _paq.push(["setTrackerUrl", u + "matomo.php"]);
          _paq.push(["setSiteId", "1"]);
          var d = document,
            g = d.createElement("script"),
            s = d.getElementsByTagName("script")[0];
          g.async = true;
          g.src = u + "matomo.js";
          s.parentNode.insertBefore(g, s);
        })();
      }

      document.addEventListener(
        "astro:page-load",
        () => {
          addMatomo();
        },
        { once: false },
      );
    </script><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/_astro/about.1W6dObU1.css" />
<style>img[data-astro-cid-4sn4zg3r]{border-radius:.25rem;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}
</style>
<link rel="stylesheet" href="/_astro/friends.S8xh7Zkr.css" /><script type="module" src="/_astro/hoisted.-OpaiJNX.js"></script></head> <body> <header class="mt-12 wide-container" data-astro-cid-3ef6ksr2> <h5 class="mt-4 mx-4 secondary-color sm:hidden text-center" data-astro-cid-3ef6ksr2> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> åšå®¢</a> </span><span>
/
ä»é›¶å¼€å§‹ï¼Œé…ç½®ä¸€å¥—ç°ä»£å‰ç«¯å·¥å…·é“¾ </span> </h5> </header> <nav class="py-2 font-thin sticky top-0 backdrop-blur-md z-10 transition-all" id="navbar-wrapper" data-astro-cid-3ef6ksr2> <div class="wide-container flex justify-center sm:justify-between flex-wrap" data-astro-cid-3ef6ksr2> <h5 class="m-2 hidden sm:block secondary-color" data-astro-cid-3ef6ksr2> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> åšå®¢</a> </span><span>
/
ä»é›¶å¼€å§‹ï¼Œé…ç½®ä¸€å¥—ç°ä»£å‰ç«¯å·¥å…·é“¾ </span> </h5> <div class="m-2 secondary-color" data-astro-cid-3ef6ksr2> <ul data-astro-cid-tfcnbjmv> <li data-astro-cid-tfcnbjmv> <a class="link" href="/" data-astro-cid-tfcnbjmv> <i class="ri-home-line" data-astro-cid-tfcnbjmv></i>
ä¸»é¡µ
</a> </li> <li data-astro-cid-tfcnbjmv> <a class="link" href="/blog" data-astro-cid-tfcnbjmv> <i class="ri-newspaper-line" data-astro-cid-tfcnbjmv></i> åšå®¢ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/lab" data-astro-cid-tfcnbjmv> <i class="ri-server-line" data-astro-cid-tfcnbjmv></i> å®éªŒå®¤ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/friends" data-astro-cid-tfcnbjmv> <i class="ri-contacts-line" data-astro-cid-tfcnbjmv></i> å‹äºº </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/about" data-astro-cid-tfcnbjmv> <i class="ri-cup-line" data-astro-cid-tfcnbjmv></i> å…³äº </a> </li> </ul>  </div> </div> </nav> <script>
  // ä½¿ç”¨ ViewTransition åï¼Œæ‰€æœ‰ DOM æ“ä½œçš„ js éƒ½æœ‰ä¸€å †é—®é¢˜
  // è¿™é‡Œç”¨äº†æä¸ä¼˜é›…çš„ varï¼Œæœ‰å¾…æ”¹è¿›
  var observer;
  function addNavObserver() {
    const headerEl = document.querySelector("#navbar-wrapper");
    const sentinalEl = document.querySelector("header");
    if (!sentinalEl || !headerEl) return;
    observer = new window.IntersectionObserver((e) => {
      if (!e[0].isIntersecting) {
        headerEl.classList.add("sticked");
      } else {
        headerEl.classList.remove("sticked");
      }
    });
    observer.observe(sentinalEl);
  }

  function removeNavObserver() {
    if (observer) observer.disconnect();
    observer = null;
  }

  document.addEventListener(
    "astro:page-load",
    () => {
      addNavObserver();
    },
    { once: false },
  );

  document.addEventListener(
    "astro:before-swap",
    () => {
      removeNavObserver();
    },
    { once: false },
  );
</script>   <main data-astro-cid-4sn4zg3r> <section class="container mt-8 sm:mt-32" data-astro-cid-4sn4zg3r>  <h1 class="primary-color leading-relaxed" data-astro-cid-4sn4zg3r>ä»é›¶å¼€å§‹ï¼Œé…ç½®ä¸€å¥—ç°ä»£å‰ç«¯å·¥å…·é“¾</h1> <p class="mt-4 secondary-color leading-relaxed" data-astro-cid-4sn4zg3r> <i class="ri-calendar-line" data-astro-cid-4sn4zg3r></i> <span data-astro-cid-4sn4zg3r>2024 å¹´ 03 æœˆ 16 æ—¥</span>   <br data-astro-cid-4sn4zg3r> <i class="ri-discuss-line" data-astro-cid-4sn4zg3r></i> <span data-astro-cid-4sn4zg3r>å…± 2 æ¡è¯„è®º</span>  </p> <hr class="my-8" data-astro-cid-4sn4zg3r> <p class="card p-2 my-8" data-astro-cid-4sn4zg3r>
âš™ï¸ å…¨æ–°åšå®¢å‰ç«¯ä»åœ¨æµ‹è¯•ä¸­ã€‚å¦‚æœæ–‡ç« æ˜¾ç¤ºä¸æ­£å¸¸ï¼Œå¯ä»¥å°è¯•è®¿é—®<a href="https://blog.skywt.cn/posts/configure-a-modern-frontend-toolchain-from-scratch" class="link underline" data-astro-cid-4sn4zg3r>åŸåšå®¢çš„è¿™ç¯‡æ–‡ç« </a>ã€‚
</p> <article class="content" data-astro-cid-4sn4zg3r> <p>ç°ä»£å‰ç«¯åº”ç”¨æ¡†æ¶ï¼ˆå¦‚ Next.jsã€Nuxt.js ç­‰ï¼‰éƒ½ç›´æ¥é›†æˆäº†å®Œæ•´çš„å·¥å…·é“¾ï¼ŒæŒ‰ç…§å®˜æ–¹æ–‡æ¡£åšï¼Œä¸€è¡Œå‘½ä»¤å°±å¯ä»¥é…ç½®å®Œæ¯•ã€‚è¿™æ•´å¥—å·¥å…·åœ¨æˆ‘ä»¬è°ƒè¯•å’Œæ„å»ºé¡¹ç›®æ—¶ï¼Œåœ¨èƒŒååšäº†å¤§é‡å·¥ä½œã€‚è™½ç„¶è¿™æœ‰åŠ©äºå¿«é€Ÿä¸Šæ‰‹ï¼Œä½†æ˜¯éå¸¸ä¸åˆ©äºæˆ‘ä»¬äº†è§£å…¶ä¸­çš„åŸç†ã€‚</p><p>ç„¶è€Œï¼Œå„ç§å·¥å…·çº·ç¹å¤æ‚ï¼Œæ–‡æ¡£æµ©å¦‚çƒŸæµ·ã€‚ç”±äºå·¥å…·ä¹‹å¤šï¼Œå³ä½¿æ–‡æ¡£å†å‹å¥½ã€å·¥å…·æœ¬èº«å†æ˜“ç”¨ï¼Œä¹Ÿå¾ˆéš¾å¿«é€Ÿå…¥é—¨ã€‚</p><p><strong>æœ¬æ–‡å°†å¸¦ä½ è¸ä¸Šä¸€æ®µæ—…ç¨‹ï¼Œä»ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹å¼€å§‹ï¼Œä¸€æ­¥ä¸€æ­¥æ·»åŠ å·¥å…·ï¼Œæœ€ç»ˆé…ç½®ä¸€å¥—å®Œæ•´çš„å‰ç«¯å·¥å…·é“¾ã€‚</strong>åœ¨å…¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å„ä¸ªå·¥å…·çš„æ¦‚å¿µã€ç”¨é€”å’ŒåŸç†æœ‰ä¸€ä¸ªæ¯”è¾ƒç³»ç»Ÿçš„è®¤è¯†ã€‚æ¯ä¸ªéƒ¨åˆ†éƒ½åˆ—å‡ºäº†ç›¸å…³æ–‡æ¡£çš„é“¾æ¥ï¼Œæ–¹ä¾¿æŸ¥é˜…ã€‚</p><!--more--><p>æˆ‘ä»¬ä½¿ç”¨ <strong>React.js</strong> å‰ç«¯æ¡†æ¶ï¼Œä½¿ç”¨ <strong>Tailwind</strong> ç¼–å†™ CSSï¼Œä½¿ç”¨ <strong>TypeScript</strong> ç¼–å†™è„šæœ¬ï¼Œå¹¶ä½¿ç”¨ <strong>ESLint</strong> è¿›è¡Œä»£ç æ£€æŸ¥ã€‚æœ€ç»ˆï¼Œå¸Œæœ›è¾¾åˆ°å’Œä½¿ç”¨ create-react-app å·¥å…·åˆ›å»ºçš„é¡¹ç›®ç±»ä¼¼çš„å¼€å‘ä½“éªŒã€‚</p><h2>TLï¼›DR</h2><p><strong>é…ç½®å®Œæ¯•åï¼Œæ•´å¥—å·¥å…·é“¾çš„ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</strong></p><p><img src="https://blog.skywt.cn/usr/uploads/2024/03/543791890.png" alt="é…ç½®å®Œæ¯•åçš„å·¥å…·é“¾ç¤ºæ„å›¾" title="é…ç½®å®Œæ¯•åçš„å·¥å…·é“¾ç¤ºæ„å›¾"></p><h2>ä»åˆ›å»ºä¸€ä¸ª npm é¡¹ç›®å¼€å§‹</h2><p>åˆ›å»ºä¸€ä¸ªç©ºç›®å½•ï¼ˆä¸€èˆ¬ç›®å½•åå°±æ˜¯é¡¹ç›®åï¼‰ï¼Œè¿›å…¥å…¶ä¸­æ‰§è¡Œ <code>npm init</code>ï¼Œè¿™ä¸ªå‘½ä»¤ä¼šäº¤äº’å¼åœ°è®©ä½ å¡«å†™è¯¥é¡¹ç›®çš„å…ƒä¿¡æ¯ã€‚</p><p>æˆ‘ä»¬å°†è¿™ä¸ªé¡¹ç›®å‘½åä¸º <strong>study-chain</strong>ï¼ˆæ„ä¸º study frontend toolchainï¼‰ï¼š</p><pre><code class="lang-bash">mkdir study-chain
cd study-chain
npm init</code></pre><p>ç¡®è®¤ä¿¡æ¯ä¹‹åï¼Œç›®å½•ä¸‹ä¼šç”Ÿæˆ <code>package.json</code> æ–‡ä»¶ï¼Œè®°å½•äº†é¡¹ç›®çš„å…ƒä¿¡æ¯ï¼š</p><pre><code class="lang-json">// package.json
{
  &quot;name&quot;: &quot;study-chain&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;author&quot;: &quot;SkyWT&quot;,
  &quot;license&quot;: &quot;ISC&quot;
}</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»¥ <strong>moment</strong> æ¨¡å—ä¸ºä¾‹ï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äºè½¬æ¢æ—¥æœŸæ ¼å¼çš„æ¨¡å—ï¼ˆè¿™ä¸ªæ¨¡å—å…¶å®å·²ç»åºŸå¼ƒï¼Œä¸æ¨èæ–°é¡¹ç›®ä½¿ç”¨ã€‚æˆ‘ä»¬åªæ˜¯å°†å…¶ä½œä¸ºç¤ºä¾‹ï¼Œå‚è§<a href="https://momentjs.com/docs/">æ–‡æ¡£</a>ï¼‰ã€‚</p><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œä½¿ç”¨ <code>npm i</code> å®‰è£…æ¨¡å—ï¼š</p><pre><code class="lang-bash">npm i moment</code></pre><p>æˆ‘ä»¬åªä½¿ç”¨è¿™ä¸ªæ¨¡å—çš„ä¸€ä¸ªåŠŸèƒ½ä¸ºä¾‹ï¼šå°†æ¨¡å—å¼•å…¥ä¸º <code>moment</code> ä¹‹åï¼Œ<code>moment().format()</code> è¿”å›å½“å‰æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²ã€‚</p><h2>Webpack</h2><p>è®©æˆ‘ä»¬å…ˆå¿˜æ‰ React.jsï¼Œä»ç¼–å†™çº¯ HTML å’Œ JavaScript å¼€å§‹ã€‚<strong>å¦‚ä½•åœ¨è¿™ä¸ªé¡¹ç›®é‡Œä½¿ç”¨ä¹‹å‰å®‰è£…çš„ moment æ¨¡å—å‘¢ï¼Ÿ</strong></p><p>è€ƒè™‘ç¼–å†™ä¸€ä¸ªç®€å•çš„ HTML æ–‡ä»¶ <code>index.html</code>ï¼š</p><pre><code class="lang-html">&lt;html&gt;
  &lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
    &lt;script src=&quot;./index.js&quot;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p>è¿™ä¸ª HTML å¼•ç”¨äº† <code>index.js</code>ã€‚è¿™ä¸ª js æ–‡ä»¶å¼•å…¥äº† moment æ¨¡å—ï¼Œå°† div å†…çš„å†…å®¹è®¾ç½®ä¸ºå½“å‰æ—¶é—´ï¼š</p><pre><code class="lang-js">// index.js
const moment = require(&quot;moment&quot;);

const app = document.getElementById(&quot;app&quot;);
app.innerText = moment().format();</code></pre><p><strong>å½“ç„¶ï¼Œå¦‚æœæ­¤æ—¶åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ HTMLï¼Œè¿™æ®µ js æ˜¯æ— æ³•è¿è¡Œçš„ã€‚</strong>å› ä¸º require æ˜¯ Node.js çš„è¯­æ³•ï¼Œæµè§ˆå™¨å¹¶ä¸æ”¯æŒã€‚</p><p><strong>ä½†æ˜¯æˆ‘ä»¬çŸ¥é“è¿™ä¸ªæ¨¡å—å°±åœ¨æœ¬åœ°</strong>ï¼Œå®ƒçš„æºæ–‡ä»¶å°±åœ¨ <code>node_modules/moment</code> è·¯å¾„ä¸‹ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå·¥å…·<strong>è·å–è¿™ä¸ªæ¨¡å—ï¼Œæ•´åˆè¿›è¿™æ®µ js é‡Œ</strong>ã€‚è¿™ç§å·¥å…·å°±å«åš <strong>bundler</strong>ã€‚æœ‰äº† bundlerï¼Œå³ä½¿åœ¨ç”¨äºå‰ç«¯çš„ js ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½å¼•å…¥æ¨¡å—äº†ã€‚</p><p><strong>Webpack</strong> å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚</p><p><strong>ç±»ä¼¼çš„å·¥å…·æœ‰ï¼š</strong>Rollupã€Parcelã€‚</p><h3>å®‰è£…ä¸ä½¿ç”¨</h3><p>é¦–å…ˆå®‰è£… webpack å’Œ webpack-cliã€‚åè€…æ˜¯é…å¥—çš„å‘½ä»¤è¡Œå·¥å…·ã€‚è¿™ä¸¤ä¸ªå·¥å…·éƒ½åªæ˜¯åœ¨å¼€å‘é˜¶æ®µä½¿ç”¨ï¼Œæ‰€ä»¥ä½¿ç”¨ <code>--save-dev</code> å®‰è£…ä¸ºå¼€å‘ç¯å¢ƒä¾èµ–ï¼š</p><pre><code class="lang-bash">npm i webpack webpack-cli --save-dev</code></pre><p>å®‰è£…åï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>npx webpack</code> å‘½ä»¤ï¼š</p><pre><code class="lang-bash">npx webpack ./index.js --mode=development</code></pre><p>è¿™ä¸ªå‘½ä»¤å¤„ç† <code>index.js</code> æ–‡ä»¶ï¼Œè§£æå…¶ä¸­å¼•ç”¨çš„æ¨¡å—ï¼Œå°†å¯¹åº”çš„ js ä»£ç æ³¨å…¥è¯¥æ–‡ä»¶ã€‚å‚æ•° <code>--mode=development</code> æŒ‡ç¤ºç”Ÿæˆå¼€å‘ç¯å¢ƒä¸‹æ˜“äºè°ƒè¯•çš„æ–‡ä»¶ç‰ˆæœ¬ã€‚å¦‚æœåœ¨ç”Ÿäº§ç¯å¢ƒï¼Œåº”ä½¿ç”¨ <code>--mode=production</code>ã€‚</p><p>è¿è¡Œä¹‹åï¼Œä¼šç”Ÿæˆ <code>dist/main.js</code>ï¼ˆè¿™æ˜¯é»˜è®¤çš„è¾“å‡ºæ–‡ä»¶ï¼Œå¯é…ç½®ï¼‰ï¼Œè¿™å°±ç›¸å½“äº<strong>æµè§ˆå™¨ç‰ˆ</strong>çš„æºæ–‡ä»¶ã€‚äºæ˜¯ï¼Œä¿®æ”¹ HTML ä¸­å¼•ç”¨çš„ script è·¯å¾„ï¼š</p><pre><code class="lang-html">&lt;html&gt;
  &lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
    &lt;script src=&quot;./dist/main.js&quot;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p>ç”¨æµè§ˆå™¨æ‰“å¼€ï¼Œå¯ä»¥å‘ç°æˆåŠŸåœ°è°ƒç”¨äº†è¯¥æ¨¡å—ï¼Œdiv ä¸­æ˜¾ç¤ºäº†å½“å‰çš„æ—¥æœŸæ—¶é—´ã€‚</p><p>ä½¿ç”¨ <code>--watch</code> å‚æ•°å¯ä»¥ä½¿ webpack ä¿æŒè¿è¡Œï¼ŒæŒç»­ç›‘å¬æºæ–‡ä»¶çš„ä¿®æ”¹ï¼š</p><pre><code class="lang-bash">npx webpack ./index.js --mode=development --watch</code></pre><p>è¿è¡Œæ—¶ï¼Œæ¯å½“ç¼–è¾‘ <code>index.js</code> å¹¶ä¿å­˜ï¼Œéƒ½ä¼šè‡ªåŠ¨é‡æ–°ç”Ÿæˆ <code>dist/main.js</code> æ–‡ä»¶ã€‚å¯ä»¥åœ¨ç»ˆç«¯çœ‹åˆ°å¯¹åº”çš„è¾“å‡ºã€‚</p><p>é™¤äº† <code>require</code> è¯­æ³•ï¼Œwebpack ä¹Ÿæ”¯æŒæ›´å¸¸ç”¨çš„ <code>import</code> è¯­æ³•ã€‚åˆšæ‰çš„å¼•å…¥æ¨¡å—è¯­å¥å¯ä»¥æ”¹æˆï¼š</p><pre><code class="lang-js">// index.js
import moment from &quot;moment&quot;;
// ...</code></pre><h3>é…ç½®æ–‡ä»¶ webpack.config.js</h3><p>ä½¿ç”¨ webpack çš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥æ›¿ä»£è¿è¡Œå‘½ä»¤æ—¶ä¼ é€’çš„å‚æ•°ï¼Œè®©å‘½ä»¤è¡Œçš„ä½¿ç”¨æ›´ç®€æ´å’Œçµæ´»ã€‚ï¼ˆ<a href="https://webpack.js.org/configuration/">ç›¸å…³æ–‡æ¡£</a>ï¼‰</p><p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºåä¸º <code>webpack.config.js</code> çš„æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><pre><code class="lang-js">// webpack.config.js
const path = require(&quot;path&quot;);
module.exports = {
  mode: 'development',
  entry: './index.js',
  output: {
    filename: 'main.js',
    path: path.resolve(__dirname, &quot;dist&quot;)
  }
};</code></pre><p>åˆ›å»ºäº†é…ç½®æ–‡ä»¶ä¹‹åï¼Œä½¿ç”¨å‘½ä»¤è¡Œæ—¶ï¼Œåªéœ€è¦ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><pre><code class="lang-bash">npx webpack
npx webpack --watch</code></pre><h3>è®¾ç½® npm scripts</h3><p>ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œå¯ä»¥å°†ä»¥ä¸Š webpack å‘½ä»¤è®¾ç½®ä¸º <strong>npm scripts</strong>ã€‚</p><p>ç¼–è¾‘ <code>package.json</code> æ–‡ä»¶ï¼Œæ·»åŠ  scriptsï¼š</p><pre><code class="lang-json">// package.json
{
  // ...
  &quot;scripts&quot;: {
    &quot;build&quot;: &quot;webpack&quot;,
    &quot;watch&quot;: &quot;webpack --watch&quot;
  },
  // ...
}</code></pre><p>ä¿å­˜ä¹‹åï¼Œåªéœ€ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œå°±ç­‰åŒäºè¿è¡Œè®¾ç½®çš„ webpack å‘½ä»¤ï¼š</p><pre><code class="lang-bash">npm run build
npm run watch</code></pre><p>ä¸ºäº†è¡¨è¿°æ–¹ä¾¿ï¼Œä¸‹æ–‡å°†è¿è¡Œ <code>npm run build</code> å‘½ä»¤çš„è¿™ä¸€æ“ä½œç®€ç§°ä¸º buildã€‚</p><h3>ç”Ÿæˆ HTML</h3><p>ç°åœ¨ï¼Œæ„å»ºå®Œæˆåï¼Œè®¿é—® <code>index.html</code> å°±èƒ½çœ‹åˆ°æˆ‘ä»¬çš„ç½‘ç«™ã€‚ç„¶è€Œå¯ä»¥å‘ç°ï¼Œè¿™ä¸ª HTML ä¸­ <code>main.js</code> éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å¼•ç”¨ã€‚èƒ½å¦è®© webpack å¸®æˆ‘ä»¬å®Œæˆè¿™ä»¶äº‹æƒ…å‘¢ï¼Ÿ</p><p>è¿™å°±éœ€è¦è®© webpack ä¸ºæˆ‘ä»¬åœ¨ <code>dist</code> ç›®å½•ä¸­<strong>ç”Ÿæˆ HTML æ–‡ä»¶</strong>ã€‚è¿™å¯ä»¥é€šè¿‡ <strong>html-webpack-plugin</strong> è¿™ä¸ªæ’ä»¶å®ç°ã€‚æ²¡é”™ï¼Œ<strong>webpack ä¸ä»…æ˜¯ä¸€ä¸ªæ‰“åŒ…å·¥å…·ï¼Œå…¶è¿˜æ‹¥æœ‰ç€ä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€</strong>ã€‚</p><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… html-webpack-pluginï¼ˆ<a href="https://webpack.js.org/plugins/html-webpack-plugin/">æ–‡æ¡£</a>ï¼‰ï¼š</p><pre><code class="lang-bash">npm i html-webpack-plugin --save-dev</code></pre><p>å°† <code>index.html</code> é‡å‘½åä¸º <code>template.html</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><pre><code class="lang-html">&lt;html&gt;
  &lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p>æ¥ä¸‹æ¥ä¿®æ”¹ <code>webpack.config.js</code>ï¼Œæ·»åŠ  html-webpack-plugin æ’ä»¶çš„é…ç½®ï¼š</p><pre><code class="lang-js">// webpack.config.js
const HtmlWebpackPlugin = require(&quot;html-webpack-plugin&quot;);
// ...
module.exports = {
  // ...
  plugins: [
    new HtmlWebpackPlugin({
      template: &quot;template.html&quot;
    })
  ]
};</code></pre><p>å†æ¬¡ä½¿ç”¨ build æ„å»ºï¼Œä¼šå‘ç° <code>dist</code> ç›®å½•ä¸‹ç”Ÿæˆäº† <code>index.html</code>ï¼Œè¿™ä¸ª HTML å¼•ç”¨äº†ç”Ÿæˆçš„ <code>main.js</code> è„šæœ¬ã€‚æ‰“å¼€å°±èƒ½çœ‹è§å…¶å®ç°äº†æˆ‘ä»¬è¦çš„åº”ç”¨é€»è¾‘ã€‚</p><h3>ä½¿ä»£ç å¯ä»¥ import CSS æ–‡ä»¶</h3><p>ç°åœ¨ï¼Œæœ‰äº† webpack çš„åŠ æŒï¼Œæˆ‘ä»¬çš„ js ä»£ç å·²ç»å¯ä»¥å¯¼å…¥ module äº†ã€‚ä½†æ˜¯å¦‚æœéœ€è¦å¼•å…¥å…¶ä»–é™æ€èµ„æºï¼Œæ¯”å¦‚ CSS æ–‡ä»¶ï¼Œè¿˜æ˜¯æ— æ³•ç›´æ¥å®Œæˆã€‚ä¸ºäº†ä½¿ä»£ç èƒ½ç›´æ¥ import å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œ<strong>webpack ä¸­å¯ä»¥å®‰è£…é…ç½®ä¸€ç§ç§°ä¸º loader çš„æ¨¡å—</strong>ã€‚</p><p>ğŸ’¡ <strong>Webpack ä¸­çš„ loader ä¸ pluginï¼š</strong>äºŒè€…éƒ½æ˜¯å¯ä»¥é›†æˆåˆ° webpack çš„æ¨¡å—ï¼Œä½†æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µã€‚loader ä¸€èˆ¬ç”¨äºå¤„ç†ç‰¹å®šç±»å‹çš„æ–‡ä»¶ï¼Œè€Œ plugin å¯ä»¥æä¾›æ›´åŠ å¹¿æ³›çš„åŠŸèƒ½ã€‚</p><p>æ¯”å¦‚ï¼Œä¸ºäº†å¼•å…¥ CSS æ–‡ä»¶ï¼Œå¯ä»¥å®‰è£… <strong>style-loader</strong> å’Œ <strong>css-loader</strong> ä¸¤ä¸ªæ¨¡å—ï¼ˆ<a href="https://webpack.js.org/guides/asset-management/#loading-css">ç›¸å…³æ–‡æ¡£</a>ï¼‰ï¼š</p><pre><code class="lang-bash">npm i style-loader css-loader --save-dev</code></pre><p>æ¥ä¸‹æ¥ï¼Œä¿®æ”¹ webpack é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ ä¸€æ¡è§„åˆ™ï¼šå¯¹äºæ–‡ä»¶åä»¥ <code>.css</code> ç»“å°¾çš„æ–‡ä»¶ï¼Œä½¿ç”¨è¿™ä¸¤ä¸ªæ¨¡å—ï¼š</p><pre><code class="lang-js">// webpack.config.js
// ...
module.exports = {
  // ...
  module: {
    rules: [
      {
        test: /\.css$/i,
        use: ['style-loader', 'css-loader'],
      },
    ],
  },
 };</code></pre><p>Webpack ä¼šæŒ‰ç…§é…ç½®çš„é¡ºåºè°ƒç”¨ loaderã€‚åœ¨è¯¥é…ç½®æ–‡ä»¶ä¸‹ï¼Œå…ˆè°ƒç”¨ style-loaderï¼Œå†è°ƒç”¨ css-loaderã€‚è¿™ä¸¤ä¸ª loader åˆ†åˆ«çš„ä½œç”¨æ˜¯ï¼š</p><ul><li><strong>style-loader</strong>ï¼šå°†ä¸€ä¸ª CSS æ–‡ä»¶æ³¨å…¥ DOMï¼Œæ”¾åœ¨ <code>&lt;style&gt;</code> å…ƒç´ ä¸­ã€‚ï¼ˆ<a href="https://webpack.js.org/loaders/style-loader/">æ–‡æ¡£</a>ï¼‰</li><li><strong>css-loader</strong>ï¼šè§£æ CSS ä¸­çš„ <code>@import</code> å’Œ <code>url()</code> ç­‰è¯­å¥ï¼Œå°†å¯¹åº”å¼•ç”¨çš„æ–‡ä»¶é…ç½®å¥½ã€‚ï¼ˆ<a href="https://webpack.js.org/loaders/css-loader">æ–‡æ¡£</a>ï¼‰</li></ul><p>ç°åœ¨ï¼Œå¯ä»¥ä½¿ç”¨ import è¯­å¥å¯¼å…¥ CSS æ–‡ä»¶äº†ã€‚é¦–å…ˆè¿˜æ˜¯åœ¨æ ¹ç›®å½•ä¸‹ç¼–å†™ <code>style.css</code> æ–‡ä»¶ï¼š</p><pre><code class="lang-css">// style.css
.bg-gray {
  background-color: #aaa;
}</code></pre><p>ä¿å­˜åï¼Œä¿®æ”¹ <code>index.js</code> æ–‡ä»¶ï¼š</p><pre><code class="lang-js">// index.js
import moment from &quot;moment&quot;;
import &quot;./style.css&quot;;

const app = document.getElementById(&quot;app&quot;);
app.innerText = moment().format();

app.classList.add(&quot;bg-gray&quot;);</code></pre><p>é‡æ–° build åï¼Œæ‰“å¼€ HTML å³å¯å‘ç°æ ·å¼çš„å˜åŒ–ã€‚</p><h2>PostCSS</h2><p>é¡¾åæ€ä¹‰ã€‚<strong>PostCSS</strong> èƒ½å¤Ÿå¯¹ CSS æ–‡ä»¶è¿›è¡Œã€Œåå¤„ç†ã€ï¼ˆpost-processingï¼‰ã€‚</p><p>å’Œä¹‹å‰æåˆ°çš„ style-loader å’Œ css-loader ä¸€æ ·ï¼ŒPostCSS ä¹Ÿå¯ä»¥ä½œä¸º loader é›†æˆåˆ° webpackã€‚</p><h3>é›†æˆåˆ° webpack</h3><p>é¦–å…ˆè¿˜æ˜¯å®‰è£… <strong>postcss-loader</strong>ï¼ŒåŒæ—¶å®‰è£… PostCSS çš„ä¸€ä¸ªæ’ä»¶ <strong>autoprefixer</strong>ï¼š</p><pre><code class="lang-bash">npm i postcss-loader autoprefixer --save-dev</code></pre><p>åœ¨ <code>webpack.config.js</code> ä¸­æ·»åŠ é…ç½®ï¼š</p><pre><code class="lang-js">// webpack.config.js
// ...
module.exports = {
  // ...
  module: {
    rules: [
      {
        test: /\.css$/i,
        use: [
          &quot;style-loader&quot;,
          {
            loader: &quot;css-loader&quot;,
            options: {
              importLoaders: 1,
            },
          },
          &quot;postcss-loader&quot;,
        ],
      },
    ],
  },
  // ...
}</code></pre><p>âš ï¸ <strong>æ³¨æ„ï¼š</strong>æ­¤å¤„è°ƒç”¨ css-loader å¤„æ·»åŠ äº† optionsï¼Œå°† <strong>importLoaders</strong> è®¾ç½®ä¸º 1ã€‚è¿™æ˜¯è€ƒè™‘åˆ° PostCSS å¯èƒ½å¼•å…¥æ–°çš„ <code>@import</code> ç­‰è¯­å¥ï¼Œcss-loader è¦åœ¨å…¶è¿è¡Œä¹‹åé‡æ–°è¿›è¡Œè§£æï¼ˆ<a href="https://webpack.js.org/loaders/css-loader/#importloaders">ç›¸å…³æ–‡æ¡£</a>ï¼‰ã€‚å¦‚æœç¡®å®š PostCSS ä¸ä¼šæ·»åŠ æ–°çš„ <code>@import</code> ç­‰è¯­å¥ï¼Œåˆ™æ­¤å‚æ•°å¯ä¸åŠ ã€‚ï¼ˆå¯å‚è€ƒ <a href="https://github.com/webpack-contrib/css-loader/issues/228#issuecomment-312885975">GitHub ä¸Šçš„ç›¸å…³è®¨è®º</a>ï¼‰</p><h3>é…ç½®æ–‡ä»¶ postcss.config.js</h3><p>æ¥ä¸‹æ¥åˆ›å»º PostCSS çš„é…ç½®æ–‡ä»¶ï¼Œé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ <code>postcss.config.js</code> æ–‡ä»¶ï¼ˆ<a href="https://github.com/postcss/postcss?tab=readme-ov-file#webpack">æ–‡æ¡£</a>ï¼‰ï¼š</p><pre><code class="lang-js">// postcss.config.js
/** @type {import('postcss-load-config').Config} */
module.exports = {
  plugins: [require(&quot;autoprefixer&quot;)],
};</code></pre><p>åœ¨ä»¥ä¸Šçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬åŠ è½½äº† PostCSS çš„ <strong>autoprefixer</strong> æ’ä»¶ï¼ˆ<a href="https://github.com/postcss/autoprefixer">æ–‡æ¡£</a>ï¼‰ã€‚ç”±äºæµè§ˆå™¨æ”¯æŒçš„å·®å¼‚ï¼Œéƒ¨åˆ†æµè§ˆå™¨ä¸­ä½¿ç”¨æŸäº›æ ·å¼éœ€è¦åŠ ä¸Šç‰¹å®šçš„å‰ç¼€ï¼Œæ¯”å¦‚ <code>webkit</code> æˆ–è€… <code>moz</code>ï¼Œè¿™å«åš <strong>vendor prefix</strong>ã€‚è¿™ä¸ªæ’ä»¶ä¼šè‡ªåŠ¨æ·»åŠ è¿™ç§å‰ç¼€ï¼Œç¡®ä¿æ ·å¼çš„å…¼å®¹æ€§ã€‚è¿™é‡Œä½¿ç”¨æ­¤æ’ä»¶åªæ˜¯ä¸ºäº†æ¼”ç¤º PostCSS æ’ä»¶çš„ä½¿ç”¨ï¼Œå› ä¸ºæ¥ä¸‹æ¥æˆ‘ä»¬å°†é…ç½®ä½¿ç”¨ Tailwind æ’ä»¶ã€‚</p><p>PostCSS æ˜¯ webpack çš„æ’ä»¶ï¼Œautoprefixer åˆæ˜¯ PostCSS çš„æ’ä»¶ï¼Œä¹Ÿå°±æ˜¯ webpack çš„æ’ä»¶çš„æ’ä»¶ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬è¿˜å¯ä»¥å®‰è£… Tailwind çš„æ’ä»¶ï¼Œå³ webpack çš„æ’ä»¶çš„æ’ä»¶çš„æ’ä»¶ã€‚<strong>å‰ç«¯å·¥å…·é“¾å°±æ˜¯å¦‚æ­¤ã€‚</strong></p><h2>Tailwind CSS</h2><p>ä½¿ç”¨è¿‡ Tailwind ä¹‹åï¼Œåœ¨å¼€å‘ä»»ä½•å‰ç«¯é¡¹ç›®æ—¶ï¼Œæˆ‘çš„å¿ƒç†çŠ¶æ€ï¼š</p><blockquote>æ²¡æœ‰å®ƒæˆ‘ä¸èƒ½æ´»ï¼ğŸ˜­ğŸ˜­ğŸ˜­</blockquote><p>æ˜¯çš„ï¼Œä¹‹ååœ¨å¼€å‘ä»»ä½•å‰ç«¯é¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘<strong>æ²¡æœ‰ä¸€æ¬¡</strong>ç¦»å¼€è¿‡ Tailwindã€‚å³ä½¿æ˜¯å†™çº¯ HTML ä¹Ÿè¦ä» CDN å¼•å…¥é™æ€æ–‡ä»¶ã€‚å› ä¸ºå®ƒå½»åº•æ”¹å˜äº†æˆ‘ä»¬ç¼–å†™æ ·å¼çš„æ–¹å¼ã€‚</p><p>ä½œä¸ºç°ä»£å‰ç«¯é¡¹ç›®ï¼ŒTailwind å½“ç„¶æ˜¯å¿…å¤‡çš„å·¥å…·ã€‚</p><h3>é›†æˆåˆ° PostCSS</h3><p>é¦–å…ˆè¿˜æ˜¯å®‰è£… Tailwindï¼š</p><pre><code class="lang-bash">npm install tailwindcss --save-dev</code></pre><p>æ¥ä¸‹æ¥ï¼Œåœ¨ PostCSS ä¸­æ·»åŠ  Tailwind æ’ä»¶ï¼ˆ<a href="https://tailwindcss.com/docs/installation/using-postcss">å®˜æ–¹æŒ‡å—</a>ï¼‰ï¼š</p><pre><code class="lang-js">// postcss.config.js
/** @type {import('postcss-load-config').Config} */
module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  }
};</code></pre><h3>é…ç½®æ–‡ä»¶ tailwind.config.js</h3><p>ä¸‹ä¸€æ­¥ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»º Tailwind çš„é…ç½®æ–‡ä»¶ï¼š</p><pre><code class="lang-bash">npx tailwindcss init</code></pre><p>Tailwind ä¼šç”Ÿæˆè‡ªå·±çš„é…ç½®æ–‡ä»¶ <code>tailwind.config.js</code>ï¼ˆ<a href="https://tailwindcss.com/docs/configuration">æ–‡æ¡£</a>ï¼‰ï¼š</p><pre><code class="lang-js">// tailwind.config.js
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [&quot;./**/*.{html,js}&quot;],
  theme: {
    extend: {},
  },
  plugins: [],
}</code></pre><p>é…ç½®æ–‡ä»¶ä¸­çš„ <strong>content</strong> çš„å€¼ï¼Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå…¶ä¸­å­˜æ”¾ç€éœ€è¦å¤„ç†çš„æ–‡ä»¶è·¯å¾„ã€‚Tailwind ä¼šå°è¯•æ£€æµ‹æ‰€æœ‰åŒ¹é…çš„æ–‡ä»¶ä¸­å‡ºç°çš„ class å€¼ï¼Œå¹¶æ·»åŠ å¯¹åº”çš„ CSS å®šä¹‰ã€‚</p><p>ä¸ºäº†åŒ¹é…æˆ‘ä»¬æ ¹ç›®å½•ä¸‹çš„æ¨¡æ¿ HTML å’Œ js æ–‡ä»¶ï¼Œåˆ é™¤è·¯å¾„ä¸­ <code>src</code> éƒ¨åˆ†ã€‚ï¼ˆæˆ–è€…ä¹Ÿå¯ä»¥å°†æ‰€æœ‰æºæ–‡ä»¶æ”¾åˆ° <code>src</code> å­ç›®å½•é‡Œâ€”â€”å¤§å¤šæ•°é¡¹ç›®éƒ½æ˜¯è¿™æ ·åšçš„ã€‚ä¸‹ä¸€æ­¥åœ¨æ•´ç†æ–‡ä»¶ç¯èŠ‚ï¼Œæˆ‘ä»¬ä¹Ÿä¼šè¿™æ ·åšï¼‰ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œåœ¨æˆ‘ä»¬å¼•ç”¨çš„ä¸»æ ·å¼è¡¨ï¼ˆå³ <code>style.css</code>ï¼‰çš„å¼€å¤´ï¼Œ<strong>åŠ ä¸Š <code>@tailwind</code> æŒ‡ä»¤</strong>ï¼š</p><pre><code class="lang-css">// style.css
@tailwind base;
@tailwind components;
@tailwind utilities;

.bg-gray {
    background-color: #aaaaaa;
}</code></pre><p>å¤§åŠŸå‘Šæˆã€‚æ¥ä¸‹æ¥å¯ä»¥å°è¯•ä¿®æ”¹ HTML æ¨¡æ¿å¹¶é‡æ–° buildï¼Œå°±å¯ä»¥å‘ç°èƒ½ä½¿ç”¨ Tailwind äº†ï¼</p><pre><code class="lang-html">&lt;html&gt;
  &lt;body&gt;
    &lt;div class=&quot;text-4xl&quot; id=&quot;app&quot;&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p>ï¼ˆå½“ç„¶ï¼Œé›†æˆåˆ° PostCSS å¹¶ä¸æ˜¯ä½¿ç”¨ Tailwind çš„å”¯ä¸€æ–¹å¼ã€‚å®˜æ–¹çš„<a href="https://tailwindcss.com/docs/installation">Get started</a> ä¸­æä¾›äº†å¤§é‡æ¡†æ¶ã€å·¥å…·çš„é›†æˆæŒ‡å—ï¼‰</p><h3>å®‰è£… Tailwind æ’ä»¶</h3><p>æ²¡é”™ï¼ŒTailwind ä¹Ÿæœ‰æ’ä»¶ç”Ÿæ€ï¼Œæ¯”å¦‚ <strong>tailwindcss-animated</strong>ï¼ˆ<a href="https://www.tailwindcss-animated.com">æ–‡æ¡£</a>ï¼‰å’Œ <strong>typography</strong>ï¼ˆ<a href="https://github.com/tailwindlabs/tailwindcss-typography">æ–‡æ¡£</a>ï¼‰ï¼Œè¿™ä¸¤ä¸ªæ’ä»¶æˆ‘éƒ½æ¯”è¾ƒå¸¸ç”¨ã€‚</p><p>Tailwind æ’ä»¶é…ç½®èµ·æ¥å¹¶ä¸éš¾ï¼Œè¿™é‡Œä¸å†å±•å¼€äº†ï¼Œå¯ä»¥æŸ¥é˜…ç›¸å…³æ–‡æ¡£ã€‚</p><h2>ä¸­åœºä¼‘æ¯ï¼šæ•´ç†ç›®å½•ç»“æ„</h2><p>è‡³æ­¤ï¼ŒCSS ç›¸å…³çš„å·¥å…·é…ç½®å®Œäº†ã€‚åœ¨è¿›è¡Œä¸‹ä¸€æ­¥ä¹‹å‰ï¼Œæ˜¯æ—¶å€™æ•´ç†ä¸€ä¸‹æˆ‘ä»¬é¡¹ç›®çš„ç›®å½•ç»“æ„äº†ã€‚</p><p>å¦‚å‰æ–‡æ‰€è¿°ï¼Œä¸ºäº†è®©é¡¹ç›®ç›®å½•æ›´ç®€æ´ï¼Œ<strong>æˆ‘ä»¬å°†æ‰€æœ‰æºæ–‡ä»¶ç§»åŠ¨åˆ°æ–°å»ºçš„ <code>src</code> æ–‡ä»¶å¤¹å†…ã€‚</strong>ç§»åŠ¨ä¹‹åï¼Œé¡¹ç›®ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p><pre><code>node_modules/
  ...
dist/
  ...
src/
  template.html
  index.js
  style.css
package-lock.json
package.json
postcss.config.js
tailwind.config.js
webpack.config.js</code></pre><p>ä¸ºäº†ä½¿æ‰€æœ‰å·¥å…·åªå¤„ç† <code>src</code> ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œéœ€è¦ä¿®æ”¹éƒ¨åˆ†é…ç½®æ–‡ä»¶ã€‚</p><p>ä¿®æ”¹ <code>tailwind.config.js</code>ï¼š</p><pre><code class="lang-js">// tailwind.config.js
module.exports = {
  content: [&quot;./src/**/*.{html,js}&quot;],
  // ...
};</code></pre><p>ä¿®æ”¹ <code>webpack.config.js</code>ï¼š</p><pre><code class="lang-js">// webpack.config.js
module.exports = {
  // ...
  entry: &quot;./src/index.js&quot;,
  // ...
};</code></pre><p>è¿™ä¸‹ï¼Œæˆ‘ä»¬çš„é¡¹ç›®ç›®å½•å°±å¹²å‡€äº†å¾ˆå¤šã€‚æ˜¯æ—¶å€™è¿›è¡Œä¸‹ä¸€æ­¥äº†ï¼</p><h2>Babel</h2><p>JavaScript æ˜¯æµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„å”¯ä¸€è¯­è¨€ï¼Œä½†ï¼š1ï¼‰ä¸åŒæµè§ˆå™¨å¯¹è¯¥è¯­è¨€çš„æ–°ç‰¹æ€§æ”¯æŒæœ‰æ‰€ä¸åŒï¼›2ï¼‰è®¸å¤šäººä¸å–œæ¬¢ JavaScript å¼±ç±»å‹çš„ç‰¹æ€§ï¼ŒTypeScript åº”è¿è€Œç”Ÿã€‚ä½†æµè§ˆå™¨æœ¬èº«ä¸æ”¯æŒ TypeScriptã€‚</p><p>æ‰€ä»¥ï¼Œéœ€è¦è¿™æ ·ä¸€ç§å·¥å…·ï¼š1ï¼‰å°† JavaScript çš„æ–°ç‰¹æ€§ç›¸å…³ä»£ç è½¬æ¢ä¸ºä½¿ç”¨æ—§ç‰¹æ€§çš„å®ç°ï¼›2ï¼‰å°† TypeScript ç¿»è¯‘ä¸º JavaScriptã€‚è¿™ä¸ªè¿‡ç¨‹å’Œ C++ è¿™ç±»è¯­è¨€ã€Œç¼–è¯‘ã€çš„è¿‡ç¨‹æœ‰äº›ç›¸ä¼¼ï¼Œåªæ˜¯ç›®æ ‡æ˜¯ JavaScript è€ŒéäºŒè¿›åˆ¶ã€‚</p><p>è¿™ç§å·¥å…·å°±å«åš <strong>transpiler</strong>ï¼ˆå¯ä»¥ç¿»è¯‘æˆã€Œè½¬è¯‘å™¨ã€ï¼‰ã€‚å®ƒçš„ä½œç”¨æ˜¯å°†ä¸€æ®µä»£ç ã€Œç¿»è¯‘ã€æˆå¦ä¸€æ®µä»£ç ï¼Œä½†ç›®æ ‡ä»£ç ä»ç„¶æ˜¯é«˜çº§è¯­è¨€ï¼ˆä¸€èˆ¬æ˜¯ JavaScriptï¼‰ã€‚è¿™ä¸ªã€Œç¿»è¯‘ã€å’Œä¼ ç»Ÿç¼–ç¨‹è¯­è¨€ä¸­çš„ã€ŒCompileã€æ¦‚å¿µä¸åŒï¼Œç§°ä¸ºã€Œ<strong>Transpile</strong>ã€ã€‚</p><p><strong>Babel</strong> å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚</p><p>ï¼ˆåæ§½ï¼šæ—¢ç„¶éƒ½è¦ transpile æ‰èƒ½è¿è¡Œä»£ç ï¼Œä¸å¦‚ç›´æ¥ compile æˆæ›´ä½çº§çš„å­—èŠ‚ç ï¼Œæ‰§è¡Œæ•ˆç‡è¿˜ä¼šæ›´é«˜ã€‚<strong>Web Assembly</strong> å°±è¿™æ ·è¯ç”Ÿäº†ã€‚ä¸è¿‡è¿™é‡Œä¸ä»‹ç»äº†ï¼‰</p><h3>é›†æˆåˆ° webpack</h3><p>Babel å¯ä»¥å’Œ PostCSS ä¸€æ ·<strong>ä½œä¸º loader é›†æˆåœ¨ webpack é‡Œ</strong>ã€‚å®‰è£… Babelï¼š</p><pre><code class="lang-bash">npm i babel-loader @babel/core --save-dev</code></pre><p>å®‰è£…åï¼Œä¿®æ”¹ webpack é…ç½®æ–‡ä»¶ï¼Œå¯¹ .js æ–‡ä»¶ä½¿ç”¨ <strong>babel-loader</strong>ï¼ˆæ’é™¤ <code>node_modules</code> ç›®å½•ä¸­çš„æ–‡ä»¶ï¼‰ï¼š</p><pre><code class="lang-js">// webpack.config.js
module.exports = {
  // ...
  module: {
    rules: [
      // ...
      {
        test: /\.js$/,
        exclude: /node_modules/,
        use: {
          loader: &quot;babel-loader&quot;,
        },
      },
    ],
  },
};</code></pre><p>ï¼ˆåŒæ ·ï¼Œé›†æˆåˆ° webpack ä¹Ÿéå®‰è£… Babel çš„å”¯ä¸€æ–¹å¼ã€‚<a href="https://babeljs.io/setup#installation">å®˜æ–¹æŒ‡å—</a>æä¾›äº†å¾ˆå¤šç§é…ç½®æ–¹å¼ï¼‰</p><p>ç›®å‰ï¼Œé‡æ–° build æ—¶ï¼Œè™½ç„¶ä¼šè°ƒç”¨ babel-loaderï¼Œä½†æ˜¯ Babel è¿˜ä»€ä¹ˆäº‹æƒ…éƒ½æ²¡åšã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰ä¸ºå…¶æŒ‡å®šä»»ä½•è§„åˆ™ã€‚ä¸€èˆ¬å¯ä»¥é€šè¿‡ <strong>preset</strong> æŒ‡å®šè§„åˆ™ã€‚</p><h3>presets</h3><p>Babel ä¸­çš„ <strong>preset</strong> è¿™ä¸€æ¦‚å¿µï¼Œå®˜æ–¹çš„å®šä¹‰æ˜¯ã€Œå¯åˆ†äº«çš„ä¸€ç»„æ’ä»¶å’Œé…ç½®çš„é›†åˆã€ï¼ˆ<a href="https://babeljs.io/docs/presets">æ–‡æ¡£</a>ï¼‰ã€‚</p><p>å®˜æ–¹æä¾›äº†å››ç§ presetï¼š</p><ul><li><strong>env</strong>ï¼šç”¨äºå°†è¾ƒæ–°çš„ ECMAScript ç‰¹æ€§è½¬è¯‘ä¸ºå…¼å®¹è¾ƒæ—§ç¯å¢ƒçš„å®ç°ã€‚</li><li><strong>react</strong>ï¼šç”¨äºè½¬è¯‘ React.js çš„ JSX è¯­æ³•ã€‚</li><li><strong>typescript</strong>ï¼šç”¨äºè½¬è¯‘ TypeScriptã€‚</li><li><strong>flow</strong>ï¼šç”¨äº <a href="https://flow.org/">flow</a> å·¥å…·ï¼Œè¿™æ˜¯ä¸€ä¸ªé™æ€ç±»å‹æ£€æŸ¥å™¨ã€‚</li></ul><h3>é…ç½®æ–‡ä»¶ babel.config.json</h3><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶ <code>babel.config.json</code>ï¼Œå…¶ä¸­å¯ä»¥æ·»åŠ  preset æŒ‡å®šè§„åˆ™ã€‚æˆ‘ä»¬å…ˆæ·»åŠ ä¸€ä¸ª preser-envï¼š</p><pre><code class="lang-json">// babel.config.json
{
  &quot;presets&quot;: [&quot;@babel/preset-env&quot;]
}</code></pre><p>åˆ«å¿˜äº†å®‰è£…è¿™ä¸ª presetï¼š</p><pre><code class="lang-bash">npm i @babel/preset-env --save-dev</code></pre><p>å®‰è£…å’Œé…ç½®å®Œæ¯•åï¼Œé‡æ–° buildï¼Œå°±ä¼šä½¿ç”¨ preset-env æŒ‡å®šçš„ transpile è§„åˆ™ã€‚è¿™å¥—è§„åˆ™æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ</p><h3>preset-env</h3><p>ECMAScript æ ‡å‡†æ¯ä¸€ä¸¤å¹´éƒ½æ¨å‡ºæ–°çš„ç‰ˆæœ¬ï¼Œå¼•å…¥æ–°çš„ç‰¹æ€§ã€‚è€Œä¸åŒæµè§ˆå™¨å¯¹å…¶çš„å®ç°éš¾å…ä¼šæœ‰æ‰€æ»åã€‚ä¸ºäº†ï¼š1ï¼‰èƒ½åŠæ—¶ä½¿ç”¨ ECMAScript çš„æ–°ç‰¹æ€§ï¼›2ï¼‰ç¡®ä¿æˆ‘ä»¬çš„ä»£ç åœ¨æ‰€æœ‰æµè§ˆå™¨ç¯å¢ƒä¸­çš„è¡¨ç°ä¸€è‡´ï¼Œ<strong>Babel æä¾›çš„ preset-env å¯ä»¥å°†ä½¿ç”¨æ–°ç‰¹æ€§çš„ä»£ç  transpile ä¸ºä½¿ç”¨æ—§ç‰¹æ€§çš„å®ç°ã€‚</strong>ï¼ˆ<a href="https://babeljs.io/docs/babel-preset-env">æ–‡æ¡£</a>ï¼‰ï¼ˆåœ¨ Babel å‡ºç°ä¹‹å‰ï¼Œè®¸å¤šåº”ç”¨å¼•å…¥ä¸€ä¸ªé™æ€çš„ js è„šæœ¬å®Œæˆè¿™ä¸€åŠŸèƒ½ï¼Œè¿™ç§è„šæœ¬å«åšã€Œpolyfillã€ï¼‰</p><p>æ¯”å¦‚ï¼ŒES6 å¼•å…¥äº†ç®­å¤´å‡½æ•°å’Œ const å…³é”®å­—ï¼š</p><pre><code class="lang-js">const a = [1,2,3];
a.forEach((x) =&gt; console.log(x));</code></pre><p>å¦‚æœè¦å…¼å®¹ä¸æ”¯æŒ ES6 çš„ç¯å¢ƒï¼ˆè™½ç„¶æ‰€æœ‰ç°ä»£æµè§ˆå™¨éƒ½å·²ç»æ”¯æŒäº† ES6ï¼‰ï¼ŒBabel å°±è¦å°†ç®­å¤´å‡½æ•°è½¬æ¢æˆæ™®é€šå‡½æ•°ï¼Œconst æ¢æˆ varï¼š</p><pre><code class="lang-js">var a = [1, 2, 3];
a.forEach(function (x) {
  return console.log(x);
});</code></pre><p>å¯ä»¥åœ¨å®˜ç½‘çš„ <a href="https://babeljs.io/repl">Try it out</a> ä¸­å°è¯•ã€‚</p><h2>TypeScript</h2><p>TypeScript ä¹Ÿæ˜¯å¼€å‘ç°ä»£ Web åº”ç”¨çš„å¿…å¤‡ã€‚å¦‚æœ standalone åœ°å®‰è£…ï¼Œå¯ä»¥ä½¿ç”¨ <code>tsc</code> å‘½ä»¤å°†ä¸€ä¸ª .ts æ–‡ä»¶ transpile æˆä¸€ä¸ª .js æ–‡ä»¶ã€‚ç„¶è€Œï¼Œä¸ºäº†ä½¿è¿™ä¸€è¿‡ç¨‹åœ¨ build æ—¶è‡ªåŠ¨å®Œæˆï¼Œè¿˜æ˜¯è¦å°†å…¶é›†æˆåˆ° Babelã€‚</p><h3>é›†æˆåˆ° Babel</h3><p>å¦‚å‰æ‰€è¿°ï¼ŒBabel å·²ç»æä¾›äº† TypeScript çš„ presetï¼ˆ<a href="https://babeljs.io/docs/babel-preset-typescript">æ–‡æ¡£</a>ï¼‰ï¼Œå…¶ä¸­åŒ…å«äº†è½¬è¯‘ TypeScript çš„æ’ä»¶ã€‚åªéœ€ç›´æ¥å®‰è£…ï¼š</p><pre><code class="lang-bash">npm i @babel/preset-typescript --save-dev</code></pre><p>åœ¨ <code>webpack.config.js</code> ä¸­ï¼Œè¦ä¿®æ”¹ä¸¤ä¸ªåœ°æ–¹ï¼š1ï¼‰å°† entry æ”¹ä¸º <code>index.ts</code>ï¼›2ï¼‰å°† babel-loader çš„ test è§„åˆ™æ”¹ä¸ºåŒ¹é… .ts ç»“å°¾çš„æ–‡ä»¶ï¼š</p><pre><code class="lang-js">// webpack.config.js
module.exports = {
  // ...
  entry: &quot;./src/index.ts&quot;,
  // ...
  module: {
    rules: [
      // ...
      {
        test: /\.ts$/,
        exclude: /node_modules/,
        use: {
          loader: &quot;babel-loader&quot;,
        },
      },
    ],
  },
};
</code></pre><p>åœ¨ <code>babel.config.json</code> é‡Œï¼ŒåŠ å…¥ <strong>preset-typescript</strong>ï¼š</p><pre><code class="lang-json">// babel.config.json
{
  &quot;presets&quot;: [
    &quot;@babel/preset-env&quot;,
    &quot;@babel/preset-typescript&quot;
  ]
}</code></pre><p>ç°åœ¨ï¼Œå¯ä»¥å°† <code>src</code> ä¸­çš„ <code>index.js</code> æ”¹å†™ä¸º <code>index.ts</code> äº†ã€‚ç”±äºè¿™æ®µä»£ç å¾ˆçŸ­ï¼Œåªéœ€è¦æ”¹ä¸€ä¸ªåœ°æ–¹ï¼Œå³åˆ¤æ–­ <code>app</code> æ˜¯å¦ä¸º <code>null</code>ï¼š</p><pre><code class="lang-ts">import moment from &quot;moment&quot;;
import &quot;./style.css&quot;;

const app = document.getElementById(&quot;app&quot;);
if (app !== null) {
  app.innerText = moment().format();
  app.classList.add(&quot;bg-gray&quot;);
}</code></pre><h3>é…ç½®æ–‡ä»¶ tsconfig.json</h3><p>TypeScript ä¹Ÿæœ‰é…ç½®æ–‡ä»¶ã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º <code>tsconfig.json</code> å³å¯ã€‚</p><p>å…·ä½“è§„åˆ™å¯å‚è€ƒ<a href="https://www.typescriptlang.org/docs/handbook/tsconfig-json.html">å®˜æ–¹æ–‡æ¡£</a>ã€‚å½“æˆ‘ä»¬é…ç½®å¥½ React åä¼šå†æ¥ä¿®æ”¹ TypeScript çš„è§„åˆ™é…ç½®ã€‚</p><h2>React.js</h2><p>ä½¿ç”¨ React æ—¶æˆ‘ä»¬ä¼šç¼–å†™ <strong>JSX</strong>ï¼ˆæˆ– TSXï¼‰è¯­æ³•çš„ä»£ç ã€‚JSXï¼ˆæˆ– TSXï¼‰å…¨ç§° JavaScriptï¼ˆTypeScriptï¼‰Extensionï¼Œè¿™æ˜¯ä¸€ç§ç³…åˆäº† HTML å’Œ JavaScriptï¼ˆTypeScriptï¼‰è¯­æ³•çš„ä»£ç ã€‚å½“ç„¶ï¼Œæ— è®ºæ˜¯æµè§ˆå™¨è¿˜æ˜¯ Node éƒ½ä¸æ”¯æŒè¿™ç§ä»£ç ï¼Œ<strong>æ‰€ä»¥éœ€è¦ Babel ä¸ºæˆ‘ä»¬è½¬è¯‘</strong>ã€‚å…¶å®ï¼Œè¿™æ ·çš„ä»£ç ä¸­ï¼Œç±»ä¼¼ HTML çš„é‚£éƒ¨åˆ†ä¼šè¢«è½¬è¯‘æˆ JavaScript é€’å½’çš„å‡½æ•°è°ƒç”¨çš„å½¢å¼ã€‚</p><h3>é›†æˆåˆ° Babel</h3><p>Babel ä¹Ÿæä¾›äº† React çš„ presetï¼ˆ<a href="https://babeljs.io/docs/babel-preset-react">æ–‡æ¡£</a>ï¼‰ï¼ŒåŒ…å«äº†å¯¹åº”æ’ä»¶ã€‚åªè¦å®‰è£…ï¼š</p><pre><code class="lang-bash">npm i @babel/preset-react --save-dev</code></pre><p>åœ¨ <code>webpack.config.js</code> ä¸­è®¾ç½®åŒ¹é… .ts æˆ– .tsx ç»“å°¾çš„æ–‡ä»¶ï¼š</p><pre><code class="lang-js">// webpack.config.js
module.exports = {
  // ...
  module: {
    rules: [
      // ...
      {
        test: /\.tsx?$/,
        exclude: /node_modules/,
        use: {
          loader: &quot;babel-loader&quot;,
        },
      },
    ],
  },
};</code></pre><p>ä¿®æ”¹ Babel é…ç½®æ–‡ä»¶ <code>babel.config.json</code>ï¼Œæ·»åŠ  <strong>preset-react</strong>ï¼š</p><pre><code class="lang-json">// babel.config.json
{
  &quot;presets&quot;: [
    &quot;@babel/preset-env&quot;,
    &quot;@babel/preset-react&quot;,
    &quot;@babel/preset-typescript&quot;
  ]
}</code></pre><p>æ¥ä¸‹æ¥ï¼Œä¸ºäº†è®© TypeScript è§£é‡Š TSX è¯­æ³•ï¼Œè¦åœ¨ <code>tsconfig.json</code> ä¸­åŠ å…¥å¦‚ä¸‹é…ç½®ï¼š</p><pre><code class="lang-json">// tsconfig.json
{
  &quot;compilerOptions&quot;: {
    &quot;strict&quot;: true,
    &quot;jsx&quot;: &quot;react&quot;,
    &quot;esModuleInterop&quot;: true,
    &quot;noEmit&quot;: true,
    &quot;allowImportingTsExtensions&quot;: true
  }
}</code></pre><p>è¿™æ®µé…ç½®æ–‡ä»¶ä¸­ï¼š</p><ul><li><strong>strict</strong> è®¾ä¸º true è¡¨ç¤ºå¼€å¯ä¸¥æ ¼ç±»å‹æ£€æŸ¥ï¼ŒåŒ…æ‹¬ä¸å…è®¸éšå¼ any ç±»å‹ç­‰ç­‰ã€‚</li><li><strong>jsx</strong> è®¾ä¸º reactï¼Œè¡¨ç¤ºå¯ç”¨ JSX æ”¯æŒã€‚</li><li><strong>esModuleInterop</strong> è®¾ä¸º true å…è®¸ç”¨ import è¯­æ³•ç›´æ¥å¯¼å…¥ CommonJS æ¨¡å—ï¼ˆå¦åˆ™ï¼Œå¿…é¡»ä½¿ç”¨ require çš„è¯­æ³•ï¼‰ã€‚</li><li><strong>noEmit</strong> è¡¨ç¤ºä¸è¾“å‡ºç¼–è¯‘åçš„ç»“æœæ–‡ä»¶ã€‚ç”±äºåœ¨è¯¥é…ç½®ä¸­ TypeScript æ˜¯ä½œä¸º Babel çš„ä¸€ä¸ªæ’ä»¶ï¼Œè½¬è¯‘åç»“æœæ–‡ä»¶ç”± Babel è¾“å‡ºã€‚</li><li><strong>allowImportingTsExtensions</strong> è¡¨ç¤ºå…è®¸å¯¼å…¥ .tsx ç±»å‹çš„æ–‡ä»¶ã€‚</li></ul><p>ä»¥åŠï¼Œç°åœ¨æˆ‘ä»¬çš„è„šæœ¬æ–‡ä»¶å¯ä»¥æ˜¯ jsã€jsxã€tsã€tsx æ ¼å¼äº†ï¼Œè¦åœ¨ Tailwind çš„é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹å…¶æ£€æµ‹çš„æ–‡ä»¶æ ¼å¼ï¼š</p><pre><code class="lang-js">// tailwind.config.js
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [&quot;./src/**/*.{html,js,jsx,ts,tsx}&quot;],
  theme: {
    extend: {},
  },
  plugins: [],
};</code></pre><p>æœ€åï¼Œåˆ«å¿˜äº†å®‰è£… <strong>React æœ¬ä½“</strong>ï¼Œä»¥åŠå…¶å¯¹åº”çš„ç±»å‹å®šä¹‰ï¼š</p><pre><code class="lang-bash">npm i react react-dom --save
npm i @types/react @types/react-dom --save-dev</code></pre><h3>ç¼–å†™ React ç»„ä»¶</h3><p>ç°åœ¨ï¼Œåœ¨ <code>src</code> ä¸‹åˆ›å»º <code>App.tsx</code> æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶ä¸­ç”¨ TSX è¯­æ³•ç¼–å†™ä¸€ä¸ª React ç»„ä»¶äº†ã€‚</p><p>å°†ä¹‹å‰å†™çš„æ˜¾ç¤ºæ—¶é—´çš„ç»„ä»¶å†™è¿›è¿™é‡Œé¢ï¼š</p><pre><code class="lang-tsx">// App.tsx
import React from &quot;react&quot;;
import &quot;./style.css&quot;;
import moment from &quot;moment&quot;;

export default function App() {
  return (
    &lt;div className=&quot;App&quot;&gt;
      &lt;h1 className=&quot;text-4xl&quot;&gt;Hello, World!&lt;/h1&gt;
      &lt;p&gt;{moment().format()}&lt;/p&gt;
    &lt;/div&gt;
  );
}</code></pre><p>ä¸ºäº†å¼•ç”¨è¯¥ç»„ä»¶ï¼Œå…¥å£æ–‡ä»¶ <code>index.ts</code> ä¹Ÿéœ€è¦ç”¨åˆ° TSX è¯­æ³•ã€‚å› æ­¤ï¼Œå°†å…¶é‡å‘½åä¸º <code>index.tsx</code>ï¼Œä¿®æ”¹ä¸ºå¦‚ä¸‹å†…å®¹ï¼š</p><pre><code class="lang-tsx">// index.tsx
import React from &quot;react&quot;;
import { createRoot } from &quot;react-dom/client&quot;;

import App from &quot;./App.tsx&quot;;

const container = document.getElementById(&quot;app&quot;);
if (container !== null) {
  const root = createRoot(container);
  root.render(&lt;App /&gt;);
}</code></pre><p>åŒæ—¶ï¼Œè¦åœ¨ webpack é…ç½®ä¸­ä¿®æ”¹ entryï¼š</p><pre><code class="lang-js">// webpack.config.js
module.exports = {
  // ...
  entry: &quot;./src/index.tsx&quot;,
  // ...
}</code></pre><p>ç°åœ¨ï¼Œbuild ä¹‹åï¼Œæ‰“å¼€ç”Ÿæˆçš„ HTMLï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬ç”¨ React å†™çš„ç»„ä»¶äº†ã€‚</p><h2>ESLint</h2><p>ESLint æ˜¯ä¸€ä¸ªä»£ç æ£€æŸ¥å·¥å…·ã€‚å¯¹äºå›¢é˜Ÿé¡¹ç›®ï¼Œç»Ÿä¸€ä»£ç é£æ ¼ååˆ†é‡è¦ï¼Œè€Œ ESLint å¯ä»¥æ–¹ä¾¿åœ°åšåˆ°è¿™ä¸€ç‚¹ï¼šå¦‚æœæ²¡æœ‰æ»¡è¶³æŒ‡å®šçš„ä»£ç é£æ ¼ï¼Œåˆ™æ˜¾ç¤ºè­¦å‘Šæˆ–é”™è¯¯ï¼ˆå¦‚æœåœ¨ IDE ä¸­é›†æˆçš„è¯ï¼‰ï¼Œæˆ–è€…æ‹’ç»æäº¤æˆ–éƒ¨ç½²ï¼ˆå¦‚æœåœ¨æäº¤éƒ¨ç½²æµç¨‹ä¸­é›†æˆçš„è¯ï¼‰ã€‚</p><p>ä¸ºäº†ä½¿æµç¨‹æ›´åŠ æ¸…æ™°ï¼Œæˆ‘ä»¬è¿˜æ˜¯é€‰æ‹©<strong>å°† ESLint ä½œä¸ºä¸€ä¸ªæ’ä»¶é›†æˆåˆ° webpack</strong>ã€‚</p><h3>é›†æˆåˆ° webpack</h3><p>å®‰è£… <strong>eslint-webpack-plugin</strong>ï¼ˆ<a href="https://www.npmjs.com/package/eslint-webpack-plugin">ç›¸å…³æ–‡æ¡£</a>ï¼‰ï¼š</p><pre><code class="lang-bash">npm i eslint-webpack-plugin --save-dev</code></pre><p>ä¿®æ”¹ webpack çš„é…ç½®ï¼Œæ·»åŠ è¯¥æ’ä»¶ï¼š</p><pre><code class="lang-js">// webpack.config.js
// ...
const ESLintPlugin = require('eslint-webpack-plugin');
module.exports = {
  // ...
  plugins: [
    // ...
    new ESLintPlugin({
      extensions: [&quot;js&quot;, &quot;jsx&quot;, &quot;ts&quot;, &quot;tsx&quot;],
    }),
  ],
  // ...
};</code></pre><p>é…ç½®æ–‡ä»¶ä¸­ <code>new ESLintPlugin({})</code> å¯ä»¥ä¼ å…¥ä¸€ä¸ª options å¯¹è±¡ï¼Œç”¨äºæŒ‡å®š <strong>ESLint æ’ä»¶é€‰é¡¹</strong>ï¼ˆ<a href="https://www.npmjs.com/package/eslint-webpack-plugin">æ–‡æ¡£</a>ï¼‰ã€‚è¿™é‡Œæˆ‘ä»¬æŒ‡å®šäº†è¦ lint çš„æ–‡ä»¶æ‹“å±•åã€‚</p><h3>é…ç½®æ–‡ä»¶ .eslintrc.js</h3><p>å¯ä»¥ä½¿ç”¨ <code>@eslint/config</code> åˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆ<a href="https://eslint.org/docs/latest/use/getting-started">æ–‡æ¡£</a>ï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªå‹å¥½çš„äº¤äº’å¼å‘½ä»¤ï¼š</p><pre><code class="lang-bash">npm init @eslint/config</code></pre><p>åœ¨å…¶ä¸­å¯ä»¥é€‰æ‹©ã€Œé¡¹ç›®ä½¿ç”¨äº† React.jsã€TypeScriptã€ï¼Œè¯¥å‘½ä»¤ä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬å®‰è£…é…ç½®å¯¹åº”çš„ ESLint æ’ä»¶ã€‚</p><p>è¿è¡Œå®Œæˆåï¼Œé™¤äº†å®‰è£…äº†ä¸€å †æ’ä»¶ï¼Œé¡¹ç›®æ ¹ç›®å½•ä¼šäº§ç”Ÿé…ç½®æ–‡ä»¶ <code>.eslintrc.js</code>ï¼ˆæˆ–è€…å…¶ä»–æ–‡ä»¶æ ¼å¼ï¼Œå–å†³äºä½ çš„é€‰æ‹©ï¼‰ã€‚</p><pre><code class="lang-js">// .eslintrc.js
module.exports = {
  env: {
    browser: true,
    es2021: true,
  },
  extends: [&quot;standard-with-typescript&quot;, &quot;plugin:react/recommended&quot;],
  overrides: [
    {
      env: {
        node: true,
      },
      files: [&quot;.eslintrc.{js,cjs}&quot;],
      parserOptions: {
        sourceType: &quot;script&quot;,
      },
    },
  ],
  parserOptions: {
    ecmaVersion: &quot;latest&quot;,
    sourceType: &quot;module&quot;,
  },
  plugins: [&quot;react&quot;],
};</code></pre><p>ç°åœ¨ï¼Œå†æ¬¡ buildï¼ŒESLint ä¼šæŒ‰ç…§æˆ‘ä»¬è®¾å®šçš„è§„åˆ™è¿›è¡Œä»£ç æ£€æŸ¥ã€‚</p><p>å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä¸€äº›è‡ªå·±ä¹ æƒ¯çš„è§„åˆ™ï¼Œæ¯”å¦‚ä½¿ç”¨åŒå¼•å·ã€è¡Œæœ«åŠ åˆ†å·ã€‚å¹¶ä¸”ï¼Œéœ€è¦è®¾ç½®å¯¹äº <code>*.config.js</code> è¿™ç±»é…ç½®æ–‡ä»¶çš„ç‰¹æ®Šæ£€æµ‹è§„åˆ™ã€‚æˆ‘çš„ <code>.eslintrc.js</code> æ–‡ä»¶è®¾ç½®å¦‚ä¸‹ï¼š</p><pre><code class="lang-js">// .eslintrc.js
module.exports = {
  env: {
    browser: true,
    es2021: true
  },
  extends: [&quot;standard-with-typescript&quot;, &quot;plugin:react/recommended&quot;],
  overrides: [
    {
      env: {
        node: true
      },
      files: [&quot;.eslintrc.js&quot;, &quot;*.config.js&quot;],
      parserOptions: {
        sourceType: &quot;script&quot;
      },
      extends: [&quot;plugin:@typescript-eslint/disable-type-checked&quot;],
      rules: {
        &quot;@typescript-eslint/no-var-requires&quot;: &quot;off&quot;
      }
    }
  ],
  parserOptions: {
    ecmaVersion: &quot;latest&quot;,
    sourceType: &quot;module&quot;
  },
  rules: {
    &quot;@typescript-eslint/semi&quot;: [&quot;error&quot;, &quot;always&quot;],
    &quot;@typescript-eslint/quotes&quot;: [&quot;error&quot;, &quot;double&quot;]
  },
  plugins: [&quot;react&quot;]
};</code></pre><p>âš ï¸ <strong>ä¸€ä¸ªå‘ç‚¹ï¼š</strong>ä½¿ç”¨ TypeScript æ—¶ï¼Œç”±äºä½¿ç”¨ typescript-eslint çš„è§£æå™¨è€Œéé»˜è®¤è§£æå™¨ï¼ˆ<a href="https://github.com/mightyiam/eslint-config-standard-with-typescript">æ–‡æ¡£</a>ï¼‰ï¼Œæ·»åŠ è§„åˆ™è¦å†™ <code>@typescript-eslint/quotes</code> è€Œé <code>quotes</code>ï¼Œå¦åˆ™ä¸ä¼šç”Ÿæ•ˆã€‚ä¾‹å¦‚ï¼š</p><pre><code class="lang-js">// eslintrc.js
module.exports = {
  // ...
  rules: {
    &quot;@typescript-eslint/quotes&quot;: [&quot;error&quot;, &quot;double&quot;],
    &quot;@typescript-eslint/semi&quot;: [&quot;error&quot;, &quot;always&quot;],
  },
  // ...
};</code></pre><p>ğŸ’¡ æˆ–è®¸ä½ åŒæ—¶åœ¨ IDE ä¸­ä½¿ç”¨ <strong>Prettier</strong> ä¸€ç±»çš„<strong>ä»£ç æ ¼å¼åŒ–å·¥å…·</strong>ã€‚å…¶æ–‡æ¡£ä¸­ <a href="https://prettier.io/docs/en/comparison">Prettier vs. Linters</a> ä»‹ç»äº†è¿™ä¸¤ç§å·¥å…·çš„åŒºåˆ«ï¼›<a href="https://prettier.io/docs/en/integrating-with-linters.html">Integrating with Linters</a> ä»‹ç»äº†å…¶ä¸ linter çš„é›†æˆæŒ‡å—ã€‚ç®€è€Œè¨€ä¹‹ï¼Œåœ¨ ESLint é…ç½®ä¸­åº”ç”¨ <a href="https://github.com/prettier/eslint-config-prettier">eslint-config-prettier</a> è§„åˆ™é›†å³å¯è‡ªåŠ¨å…³é—­æ‰€æœ‰ä¸ Prettier å†²çªçš„è§„åˆ™ã€‚ä¸è¿‡æˆ‘æ›´æ¨èçš„æ˜¯åœ¨ IDE ä¸­å®‰è£… ESLint æ’ä»¶ï¼Œå¯¹äº js ç±»æ–‡ä»¶ç›´æ¥ä½¿ç”¨ ESLint ä½œä¸ºä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œè¿™æ ·èƒ½å¤Ÿç¡®ä¿éµå¾ª eslintrc ä¸­çš„è§„åˆ™ã€‚</p><p>ï¼ˆESLint è¿™éƒ¨åˆ†é…ç½®èµ·æ¥è¿˜æ˜¯æŒºéº»çƒ¦çš„ï¼Œå°¤å…¶è¦é›†æˆåˆ° VSCodeï¼ŒåŒæ—¶å…¼å®¹ TypeScriptï¼Œå¹¶è€ƒè™‘åˆ°å…¶å’Œ Prettier çš„å†²çªã€‚æ”¹å¤©é…ç½®å¥½äº†ä¸€ä¸ªæ¯”è¾ƒ fancy çš„æ–¹æ¡ˆå†å•ç‹¬å†™ä¸€ç¯‡ï¼‰</p><h2>Recapï¼šç«™åœ¨å·¨äººçš„è‚©è†€ä¸Š</h2><p>è‡³æ­¤ï¼Œä¸€å¥—æ¯”è¾ƒå®Œæ•´çš„<strong>å‰ç«¯é¡¹ç›® starter</strong> ç»ˆäºé…ç½®å®Œæ¯•äº†ã€‚å®Œæ•´çš„é¡¹ç›®å¯ä»¥åœ¨<a href="https://github.com/Skywt2003/starter.git">è¿™ä¸ªä»“åº“</a>æŸ¥çœ‹ã€‚</p><p>å›é¡¾ä¸€ä¸‹ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨äº† <strong>webpack</strong> ä½œä¸ºæ‰“åŒ…å·¥å…·ï¼›å…¶ <strong>PostCSS</strong> æ’ä»¶èƒ½å¤Ÿå¯¹ CSS è¿›è¡Œå¤„ç†ï¼›<strong>Tailwind</strong> åˆ™å¯ä»¥ä½œä¸º PostCSS æ’ä»¶é›†æˆã€‚æˆ‘ä»¬ä½¿ç”¨ <strong>Babel</strong> è¿™ä¸ª transpiler å¤„ç†å„ç§è„šæœ¬æ–‡ä»¶ï¼Œå…¶ä¸­ <strong>env</strong> preset å°† ECMAScript è¾ƒå…ˆè¿›çš„ç‰¹æ€§è½¬è¯‘ä¸ºæ—§ç‰¹æ€§çš„å®ç°ï¼Œç¡®ä¿å…¼å®¹æ€§ï¼›<strong>TypeScript</strong> å’Œ <strong>React JSX</strong> ä¸¤ä¸ª preset åˆ™åˆ†åˆ«å°†å®ƒä»¬å„è‡ªçš„è¯­æ³•è½¬è¯‘æˆ JavaScriptã€‚æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨ <strong>ESLint</strong> ä½œä¸ºä»£ç è´¨é‡æ£€æŸ¥å·¥å…·ï¼Œå¹¶é…ç½®å…¶é’ˆå¯¹ TypeScript å’Œ JSX çš„è§„åˆ™ã€‚</p><p>ä½¿ç”¨çš„å·¥å…·é“¾å…³ç³»ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p><p><img src="https://blog.skywt.cn/usr/uploads/2024/03/543791890.png" alt="é…ç½®å®Œæ¯•åçš„å·¥å…·é“¾ç¤ºæ„å›¾" title="é…ç½®å®Œæ¯•åçš„å·¥å…·é“¾ç¤ºæ„å›¾"></p><p>ç›¸æ¯”ä»å‰ï¼Œå„ç§å·¥å…·è®©å¼€å‘çš„è¿‡ç¨‹å˜å¾—è¶Šæ¥è¶Šä¼˜é›…å’Œç¾å¦™ã€‚ç„¶è€Œæ¯ä¸ªå·¥å…·èƒŒåï¼Œéƒ½æœ‰æ— æ•°å‰äººçš„è¾›å‹¤ä»˜å‡ºï¼Œæ²¡æœ‰ä»–ä»¬çš„è¿™äº›åŠªåŠ›ï¼Œæˆ‘ä»¬æ— æ³•å¾—åˆ°è¿™æ ·ç°ä»£åŒ–çš„å‰ç«¯å¼€å‘ä½“éªŒã€‚</p><p>ç°ä»£å‰ç«¯å¼€å‘ï¼Œå°±æ˜¯<strong>ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Š</strong>ã€‚</p><h3>ä¸€ç‚¹æ€è€ƒ ğŸ¤”</h3><p>æœ€åï¼Œè¿˜æœ‰ä¸€ä¸ªæˆ‘çš„ç–‘é—®ï¼š<strong>ç›¸æ¯”å…¶ä»–é¢†åŸŸï¼Œä¸ºä»€ä¹ˆ Web å‰ç«¯å¼€å‘çš„å·¥å…·é“¾ä¼šå‘ˆç°å¦‚æ­¤å¤æ‚çš„å½¢æ€å‘¢ï¼Ÿ</strong>æˆ‘ä½“éªŒè¿‡ iOS å¼€å‘ï¼Œä¹Ÿäº†è§£è¿‡åŸºäº Qt ç­‰æ¡†æ¶çš„å®¢æˆ·ç«¯å¼€å‘ï¼Œæˆ‘ä¸ªäººçš„æ„Ÿè§‰æ˜¯æ²¡æœ‰ä¸€ä¸ªé¢†åŸŸçš„å®¢æˆ·ç«¯å¼€å‘åƒ Web å‰ç«¯è¿™æ ·æœ‰å¦‚æ­¤åºå¤§å¤æ‚çš„å·¥å…·é“¾ï¼šæŸä¸ªå·¥å…·å¯ä»¥é…ç½®æ’ä»¶ï¼Œæ’ä»¶åˆæœ‰æ’ä»¶ï¼Œæ’ä»¶çš„æ’ä»¶åˆæœ‰æ’ä»¶â€¦â€¦é‚£ä¹ˆå½’æ ¹ç»“åº•ï¼ŒWeb å‰ç«¯å·¥å…·é“¾è¿™ç§å¤æ‚çš„å½¢å¼ï¼Œæ˜¯å†å²å‘å±•çš„å¿…ç„¶ï¼Œæ˜¯æŸç§è®¾è®¡ç¼ºé™·çš„åæœï¼Œè¿˜æ˜¯æŸç§è®¾è®¡æ€æƒ³çš„ä½“ç°ï¼ŸğŸ¤”</p><p>æ¬¢è¿åˆ†äº«ä½ çš„æ€è€ƒã€‚</p><h2>å€¼å¾—ä¸€è¯»</h2><blockquote><p>Web development used to be a great entry point for people new to programming precisely because it was so easy to get up and running; nowadays it can be quite daunting, especially because the various tools tend to change rapidly.</p><p>â€”â€” Modern JavaScript Explained For Dinosaurs</p></blockquote><p><strong>å€¼å¾—ä¸€è¯»çš„ç›¸å…³æ–‡ç« ï¼›</strong></p><ul><li><a href="https://peterxjang.com/blog/modern-javascript-explained-for-dinosaurs.html">Modern JavaScript Explained For Dinosaurs</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Introducing_complete_toolchain">ä»‹ç»å®Œæ•´çš„å·¥å…·é“¾ - å­¦ä¹  Web å¼€å‘ | MDN</a></li><li><a href="https://pomb.us/build-your-own-react/">Build your own React</a></li></ul> </article> <hr class="my-8" data-astro-cid-4sn4zg3r> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var b=Object.defineProperty;var f=(c,o,i)=>o in c?b(c,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[o]=i;var l=(c,o,i)=>(f(c,typeof o!="symbol"?o+"":o,i),i);var p;{let c={0:t=>m(t),1:t=>i(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(i(t)),5:t=>new Set(i(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},o=t=>{let[e,r]=t;return e in c?c[e](r):void 0},i=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,r])=>[e,o(r)]));customElements.get("astro-island")||customElements.define("astro-island",(p=class extends HTMLElement{constructor(){super(...arguments);l(this,"Component");l(this,"hydrator");l(this,"hydrate",async()=>{var d;if(!this.hydrator||!this.isConnected)return;let e=(d=this.parentElement)==null?void 0:d.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let r=this.querySelectorAll("astro-slot"),a={},h=this.querySelectorAll("template[data-astro-template]");for(let n of h){let s=n.closest(this.tagName);s!=null&&s.isSameNode(this)&&(a[n.getAttribute("data-astro-template")||"default"]=n.innerHTML,n.remove())}for(let n of r){let s=n.closest(this.tagName);s!=null&&s.isSameNode(this)&&(a[n.getAttribute("name")||"default"]=n.innerHTML)}let u;try{u=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(n){let s=this.getAttribute("component-url")||"<unknown>",y=this.getAttribute("component-export");throw y&&(s+=` (export ${y})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),n),n}await this.hydrator(this)(this.Component,u,a,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});l(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),r.disconnect(),this.childrenConnectedCallback()},r=new MutationObserver(()=>{var a;((a=this.lastChild)==null?void 0:a.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});r.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}start(){let e=JSON.parse(this.getAttribute("opts")),r=this.getAttribute("client");if(Astro[r]===void 0){window.addEventListener(`astro:${r}`,()=>this.start(),{once:!0});return}Astro[r](async()=>{let a=this.getAttribute("renderer-url"),[h,{default:u}]=await Promise.all([import(this.getAttribute("component-url")),a?import(a):()=>()=>{}]),d=this.getAttribute("component-export")||"default";if(!d.includes("."))this.Component=h[d];else{this.Component=h;for(let n of d.split("."))this.Component=this.Component[n]}return this.hydrator=u,this.hydrate},e,this)}attributeChangedCallback(){this.hydrate()}},l(p,"observedAttributes",["props"]),p))}})();</script><astro-island uid="tMp5M" component-url="/_astro/Comments.nA8khF3T.js" component-export="default" renderer-url="/_astro/client.d8bzWiGl.js" props="{&quot;slug&quot;:[0,&quot;configure-a-modern-frontend-toolchain-from-scratch&quot;],&quot;permalink&quot;:[0,&quot;https://blog.skywt.cn/posts/configure-a-modern-frontend-toolchain-from-scratch&quot;],&quot;data-astro-cid-4sn4zg3r&quot;:[0,true]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;Comments&quot;,&quot;value&quot;:true}" await-children=""><h2><i class="ri-discuss-line"></i> æš‚æ— è¯„è®º</h2><hr class="my-8"/><h2><i class="ri-discuss-line"></i> å‘è¡¨è¯„è®º</h2><p class="primary-color card my-4 p-2">ğŸš§ æ–°åšå®¢ç³»ç»Ÿçš„è¯„è®ºåŠŸèƒ½ä»åœ¨å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…ã€‚å¯ä»¥å‰å¾€<a href="https://blog.skywt.cn/posts/configure-a-modern-frontend-toolchain-from-scratch" class="link underline">åŸåšå®¢çš„è¿™ç¯‡æ–‡ç« </a>åº•éƒ¨è¯„è®ºåŒºå‘è¡¨è¯„è®ºã€‚</p><!--astro:end--></astro-island> </section> </main>  <footer class="mt-16 py-8 bg-gray-100 dark:bg-neutral-900"> <div class="wide-container secondary-color text-sm"> <div class="flex justify-between flex-wrap"> <div class="m-2"> <a href="/" class="link">SkyWT</a> <span>
/
<a href="/blog" class="link"> åšå®¢</a> </span><span>
/
ä»é›¶å¼€å§‹ï¼Œé…ç½®ä¸€å¥—ç°ä»£å‰ç«¯å·¥å…·é“¾ </span> </div> <div class="m-2"> <ul data-astro-cid-tfcnbjmv> <li data-astro-cid-tfcnbjmv> <a class="link" href="/" data-astro-cid-tfcnbjmv> 
ä¸»é¡µ
</a> </li> <li data-astro-cid-tfcnbjmv> <a class="link" href="/blog" data-astro-cid-tfcnbjmv>  åšå®¢ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/lab" data-astro-cid-tfcnbjmv>  å®éªŒå®¤ </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/friends" data-astro-cid-tfcnbjmv>  å‹äºº </a> </li><li data-astro-cid-tfcnbjmv> <a class="link" href="/about" data-astro-cid-tfcnbjmv>  å…³äº </a> </li> </ul>  </div> </div> <hr class="my-4"> <div class="flex justify-between flex-wrap"> <p class="m-2">
&#169; 2017-2024 <a href="/" class="link">SkyWT</a>
|
<a href="/sitemap.xml" class="link">ç«™ç‚¹åœ°å›¾</a>
|
<a href="/friends" class="link">å‹æƒ…é“¾æ¥</a>
|
<a href="https://foreverblog.cn/go.html" class="link">è™«æ´</a> <!-- |
        <a href="https://github.com/Skywt2003/Daydreamer" class="link"
          >Daydreamer</a
        > --> </p> <div class="m-2"> <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" class="inline-block mx-1" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/cc.svg" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/by.svg" data-astro-cid-h3ykra2n> <img class="icon" src="/cc/nc.svg" data-astro-cid-h3ykra2n>   </a>  <a href="https://notbyai.fyi" target="_blank" class="inline-block mx-1" data-astro-cid-hwbnc4sm> <img src="/not-by-ai-light.svg" alt="Not By AI Badge" class="badge inline-block dark:hidden" data-astro-cid-hwbnc4sm> <img src="/not-by-ai-dark.svg" alt="Not By AI Badge" class="badge hidden dark:inline-block" data-astro-cid-hwbnc4sm> </a>  <a href="https://www.foreverblog.cn/" target="_blank" class="inline-block mx-1"> <img src="https://img.foreverblog.cn/logo_en_default.png" alt="Forever Blog Badage" class="inline-block h-4 grayscale"> </a> </div> </div> <div class="flex justify-between flex-wrap"> <p class="m-2"> <a href="https://beian.miit.gov.cn/" target="_blank" class="link">
æµ™ ICP å¤‡ 2021019606 å· - 1</a>
|
<a href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33080202000472" target="_blank" class="link before:content-[url('/mps.png')] before:align-middle">
æµ™å…¬ç½‘å®‰å¤‡ 33080202000472 å·</a> </p> <p class="m-2"> <!-- <span class="align-middle">ç”±</span>
        <a
          href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral"
          class="inline-block align-middle"
        >
          <img src="/upyun.png" class="h-6" />
        </a>
        <span class="align-middle">æä¾› CDN åŠ é€Ÿã€äº‘å­˜å‚¨æœåŠ¡</span> --> </p> </div> </div> </footer> </body></html> 